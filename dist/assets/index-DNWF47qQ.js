(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();var F0={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l2;function q3(){if(l2)return Ml;l2=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(i,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:l,type:i,key:d,ref:o!==void 0?o:null,props:c}}return Ml.Fragment=t,Ml.jsx=a,Ml.jsxs=a,Ml}var o2;function L3(){return o2||(o2=1,F0.exports=q3()),F0.exports}var xe=L3(),X0={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2;function I3(){if(u2)return vt;u2=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),T=Symbol.iterator;function w(A){return A===null||typeof A!="object"?null:(A=T&&A[T]||A["@@iterator"],typeof A=="function"?A:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,E={};function N(A,h,_){this.props=A,this.context=h,this.refs=E,this.updater=_||q}N.prototype.isReactComponent={},N.prototype.setState=function(A,h){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,h,"setState")},N.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function M(){}M.prototype=N.prototype;function G(A,h,_){this.props=A,this.context=h,this.refs=E,this.updater=_||q}var b=G.prototype=new M;b.constructor=G,V(b,N.prototype),b.isPureReactComponent=!0;var Z=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function j(A,h,_,p,x,D){return _=D.ref,{$$typeof:l,type:A,key:h,ref:_!==void 0?_:null,props:D}}function H(A,h){return j(A.type,h,void 0,void 0,void 0,A.props)}function ne(A){return typeof A=="object"&&A!==null&&A.$$typeof===l}function le(A){var h={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(_){return h[_]})}var ee=/\/+/g;function k(A,h){return typeof A=="object"&&A!==null&&A.key!=null?le(""+A.key):h.toString(36)}function Te(){}function $(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Te,Te):(A.status="pending",A.then(function(h){A.status==="pending"&&(A.status="fulfilled",A.value=h)},function(h){A.status==="pending"&&(A.status="rejected",A.reason=h)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function W(A,h,_,p,x){var D=typeof A;(D==="undefined"||D==="boolean")&&(A=null);var z=!1;if(A===null)z=!0;else switch(D){case"bigint":case"string":case"number":z=!0;break;case"object":switch(A.$$typeof){case l:case t:z=!0;break;case g:return z=A._init,W(z(A._payload),h,_,p,x)}}if(z)return x=x(A),z=p===""?"."+k(A,0):p,Z(x)?(_="",z!=null&&(_=z.replace(ee,"$&/")+"/"),W(x,h,_,"",function(ae){return ae})):x!=null&&(ne(x)&&(x=H(x,_+(x.key==null||A&&A.key===x.key?"":(""+x.key).replace(ee,"$&/")+"/")+z)),h.push(x)),1;z=0;var K=p===""?".":p+":";if(Z(A))for(var L=0;L<A.length;L++)p=A[L],D=K+k(p,L),z+=W(p,h,_,D,x);else if(L=w(A),typeof L=="function")for(A=L.call(A),L=0;!(p=A.next()).done;)p=p.value,D=K+k(p,L++),z+=W(p,h,_,D,x);else if(D==="object"){if(typeof A.then=="function")return W($(A),h,_,p,x);throw h=String(A),Error("Objects are not valid as a React child (found: "+(h==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":h)+"). If you meant to render a collection of children, use an array instead.")}return z}function S(A,h,_){if(A==null)return A;var p=[],x=0;return W(A,p,"","",function(D){return h.call(_,D,x++)}),p}function B(A){if(A._status===-1){var h=A._result;h=h(),h.then(function(_){(A._status===0||A._status===-1)&&(A._status=1,A._result=_)},function(_){(A._status===0||A._status===-1)&&(A._status=2,A._result=_)}),A._status===-1&&(A._status=0,A._result=h)}if(A._status===1)return A._result.default;throw A._result}var X=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function P(){}return vt.Children={map:S,forEach:function(A,h,_){S(A,function(){h.apply(this,arguments)},_)},count:function(A){var h=0;return S(A,function(){h++}),h},toArray:function(A){return S(A,function(h){return h})||[]},only:function(A){if(!ne(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},vt.Component=N,vt.Fragment=a,vt.Profiler=o,vt.PureComponent=G,vt.StrictMode=i,vt.Suspense=m,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return C.H.useMemoCache(A)}},vt.cache=function(A){return function(){return A.apply(null,arguments)}},vt.cloneElement=function(A,h,_){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var p=V({},A.props),x=A.key,D=void 0;if(h!=null)for(z in h.ref!==void 0&&(D=void 0),h.key!==void 0&&(x=""+h.key),h)!Q.call(h,z)||z==="key"||z==="__self"||z==="__source"||z==="ref"&&h.ref===void 0||(p[z]=h[z]);var z=arguments.length-2;if(z===1)p.children=_;else if(1<z){for(var K=Array(z),L=0;L<z;L++)K[L]=arguments[L+2];p.children=K}return j(A.type,x,void 0,void 0,D,p)},vt.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},vt.createElement=function(A,h,_){var p,x={},D=null;if(h!=null)for(p in h.key!==void 0&&(D=""+h.key),h)Q.call(h,p)&&p!=="key"&&p!=="__self"&&p!=="__source"&&(x[p]=h[p]);var z=arguments.length-2;if(z===1)x.children=_;else if(1<z){for(var K=Array(z),L=0;L<z;L++)K[L]=arguments[L+2];x.children=K}if(A&&A.defaultProps)for(p in z=A.defaultProps,z)x[p]===void 0&&(x[p]=z[p]);return j(A,D,void 0,void 0,null,x)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(A){return{$$typeof:y,render:A}},vt.isValidElement=ne,vt.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:B}},vt.memo=function(A,h){return{$$typeof:v,type:A,compare:h===void 0?null:h}},vt.startTransition=function(A){var h=C.T,_={};C.T=_;try{var p=A(),x=C.S;x!==null&&x(_,p),typeof p=="object"&&p!==null&&typeof p.then=="function"&&p.then(P,X)}catch(D){X(D)}finally{C.T=h}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(A){return C.H.use(A)},vt.useActionState=function(A,h,_){return C.H.useActionState(A,h,_)},vt.useCallback=function(A,h){return C.H.useCallback(A,h)},vt.useContext=function(A){return C.H.useContext(A)},vt.useDebugValue=function(){},vt.useDeferredValue=function(A,h){return C.H.useDeferredValue(A,h)},vt.useEffect=function(A,h,_){var p=C.H;if(typeof _=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return p.useEffect(A,h)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(A,h,_){return C.H.useImperativeHandle(A,h,_)},vt.useInsertionEffect=function(A,h){return C.H.useInsertionEffect(A,h)},vt.useLayoutEffect=function(A,h){return C.H.useLayoutEffect(A,h)},vt.useMemo=function(A,h){return C.H.useMemo(A,h)},vt.useOptimistic=function(A,h){return C.H.useOptimistic(A,h)},vt.useReducer=function(A,h,_){return C.H.useReducer(A,h,_)},vt.useRef=function(A){return C.H.useRef(A)},vt.useState=function(A){return C.H.useState(A)},vt.useSyncExternalStore=function(A,h,_){return C.H.useSyncExternalStore(A,h,_)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.1.0",vt}var c2;function jh(){return c2||(c2=1,X0.exports=I3()),X0.exports}var Ge=jh(),Y0={exports:{}},Rl={},Z0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h2;function H3(){return h2||(h2=1,function(l){function t(S,B){var X=S.length;S.push(B);e:for(;0<X;){var P=X-1>>>1,A=S[P];if(0<o(A,B))S[P]=B,S[X]=A,X=P;else break e}}function a(S){return S.length===0?null:S[0]}function i(S){if(S.length===0)return null;var B=S[0],X=S.pop();if(X!==B){S[0]=X;e:for(var P=0,A=S.length,h=A>>>1;P<h;){var _=2*(P+1)-1,p=S[_],x=_+1,D=S[x];if(0>o(p,X))x<A&&0>o(D,p)?(S[P]=D,S[x]=X,P=x):(S[P]=p,S[_]=X,P=_);else if(x<A&&0>o(D,X))S[P]=D,S[x]=X,P=x;else break e}}return B}function o(S,B){var X=S.sortIndex-B.sortIndex;return X!==0?X:S.id-B.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();l.unstable_now=function(){return d.now()-y}}var m=[],v=[],g=1,T=null,w=3,q=!1,V=!1,E=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function Z(S){for(var B=a(v);B!==null;){if(B.callback===null)i(v);else if(B.startTime<=S)i(v),B.sortIndex=B.expirationTime,t(m,B);else break;B=a(v)}}function C(S){if(E=!1,Z(S),!V)if(a(m)!==null)V=!0,Q||(Q=!0,k());else{var B=a(v);B!==null&&W(C,B.startTime-S)}}var Q=!1,j=-1,H=5,ne=-1;function le(){return N?!0:!(l.unstable_now()-ne<H)}function ee(){if(N=!1,Q){var S=l.unstable_now();ne=S;var B=!0;try{e:{V=!1,E&&(E=!1,G(j),j=-1),q=!0;var X=w;try{t:{for(Z(S),T=a(m);T!==null&&!(T.expirationTime>S&&le());){var P=T.callback;if(typeof P=="function"){T.callback=null,w=T.priorityLevel;var A=P(T.expirationTime<=S);if(S=l.unstable_now(),typeof A=="function"){T.callback=A,Z(S),B=!0;break t}T===a(m)&&i(m),Z(S)}else i(m);T=a(m)}if(T!==null)B=!0;else{var h=a(v);h!==null&&W(C,h.startTime-S),B=!1}}break e}finally{T=null,w=X,q=!1}B=void 0}}finally{B?k():Q=!1}}}var k;if(typeof b=="function")k=function(){b(ee)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,$=Te.port2;Te.port1.onmessage=ee,k=function(){$.postMessage(null)}}else k=function(){M(ee,0)};function W(S,B){j=M(function(){S(l.unstable_now())},B)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(S){S.callback=null},l.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<S?Math.floor(1e3/S):5},l.unstable_getCurrentPriorityLevel=function(){return w},l.unstable_next=function(S){switch(w){case 1:case 2:case 3:var B=3;break;default:B=w}var X=w;w=B;try{return S()}finally{w=X}},l.unstable_requestPaint=function(){N=!0},l.unstable_runWithPriority=function(S,B){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var X=w;w=S;try{return B()}finally{w=X}},l.unstable_scheduleCallback=function(S,B,X){var P=l.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?P+X:P):X=P,S){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=X+A,S={id:g++,callback:B,priorityLevel:S,startTime:X,expirationTime:A,sortIndex:-1},X>P?(S.sortIndex=X,t(v,S),a(m)===null&&S===a(v)&&(E?(G(j),j=-1):E=!0,W(C,X-P))):(S.sortIndex=A,t(m,S),V||q||(V=!0,Q||(Q=!0,k()))),S},l.unstable_shouldYield=le,l.unstable_wrapCallback=function(S){var B=w;return function(){var X=w;w=B;try{return S.apply(this,arguments)}finally{w=X}}}}(Q0)),Q0}var f2;function z3(){return f2||(f2=1,Z0.exports=H3()),Z0.exports}var W0={exports:{}},Kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function U3(){if(d2)return Kn;d2=1;var l=jh();function t(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)v+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,v,g){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:v,implementation:g}}var d=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Kn.createPortal=function(m,v){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(m,v,null,g)},Kn.flushSync=function(m){var v=d.T,g=i.p;try{if(d.T=null,i.p=2,m)return m()}finally{d.T=v,i.p=g,i.d.f()}},Kn.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(m,v))},Kn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Kn.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var g=v.as,T=y(g,v.crossOrigin),w=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;g==="style"?i.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:q}):g==="script"&&i.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Kn.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var g=y(v.as,v.crossOrigin);i.d.M(m,{crossOrigin:g,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(m)},Kn.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var g=v.as,T=y(g,v.crossOrigin);i.d.L(m,g,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Kn.preloadModule=function(m,v){if(typeof m=="string")if(v){var g=y(v.as,v.crossOrigin);i.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:g,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(m)},Kn.requestFormReset=function(m){i.d.r(m)},Kn.unstable_batchedUpdates=function(m,v){return m(v)},Kn.useFormState=function(m,v,g){return d.H.useFormState(m,v,g)},Kn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Kn.version="19.1.0",Kn}var _2;function j3(){if(_2)return W0.exports;_2=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),W0.exports=U3(),W0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2;function G3(){if(m2)return Rl;m2=1;var l=z3(),t=jh(),a=j3();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(i(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(i(188));return n!==e?null:e}for(var s=e,r=n;;){var u=s.return;if(u===null)break;var f=u.alternate;if(f===null){if(r=u.return,r!==null){s=r;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===s)return y(u),e;if(f===r)return y(u),n;f=f.sibling}throw Error(i(188))}if(s.return!==r.return)s=u,r=f;else{for(var O=!1,U=u.child;U;){if(U===s){O=!0,s=u,r=f;break}if(U===r){O=!0,r=u,s=f;break}U=U.sibling}if(!O){for(U=f.child;U;){if(U===s){O=!0,s=f,r=u;break}if(U===r){O=!0,r=f,s=u;break}U=U.sibling}if(!O)throw Error(i(189))}}if(s.alternate!==r)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var g=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),b=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Symbol.for("react.client.reference");function $(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case N:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case Q:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case b:return(e.displayName||"Context")+".Provider";case G:return(e._context.displayName||"Context")+".Consumer";case Z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case j:return n=e.displayName||null,n!==null?n:$(e.type)||"Memo";case H:n=e._payload,e=e._init;try{return $(e(n))}catch{}}return null}var W=Array.isArray,S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},P=[],A=-1;function h(e){return{current:e}}function _(e){0>A||(e.current=P[A],P[A]=null,A--)}function p(e,n){A++,P[A]=e.current,e.current=n}var x=h(null),D=h(null),z=h(null),K=h(null);function L(e,n){switch(p(z,n),p(D,e),p(x,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?V_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=V_(n),e=q_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_(x),p(x,e)}function ae(){_(x),_(D),_(z)}function oe(e){e.memoizedState!==null&&p(K,e);var n=x.current,s=q_(n,e.type);n!==s&&(p(D,e),p(x,s))}function Ee(e){D.current===e&&(_(x),_(D)),K.current===e&&(_(K),Tl._currentValue=X)}var ke=Object.prototype.hasOwnProperty,Ve=l.unstable_scheduleCallback,je=l.unstable_cancelCallback,ge=l.unstable_shouldYield,Ie=l.unstable_requestPaint,nt=l.unstable_now,R=l.unstable_getCurrentPriorityLevel,I=l.unstable_ImmediatePriority,Ce=l.unstable_UserBlockingPriority,qe=l.unstable_NormalPriority,et=l.unstable_LowPriority,Ye=l.unstable_IdlePriority,Pe=l.log,Qe=l.unstable_setDisableYieldValue,ct=null,We=null;function He(e){if(typeof Pe=="function"&&Qe(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(ct,e)}catch{}}var st=Math.clz32?Math.clz32:Ut,tn=Math.log,gt=Math.LN2;function Ut(e){return e>>>=0,e===0?32:31-(tn(e)/gt|0)|0}var qt=256,Ot=4194304;function Bt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cn(e,n,s){var r=e.pendingLanes;if(r===0)return 0;var u=0,f=e.suspendedLanes,O=e.pingedLanes;e=e.warmLanes;var U=r&134217727;return U!==0?(r=U&~f,r!==0?u=Bt(r):(O&=U,O!==0?u=Bt(O):s||(s=U&~e,s!==0&&(u=Bt(s))))):(U=r&~f,U!==0?u=Bt(U):O!==0?u=Bt(O):s||(s=r&~e,s!==0&&(u=Bt(s)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:u}function nn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Xn(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function is(){var e=qt;return qt<<=1,(qt&4194048)===0&&(qt=256),e}function Yn(){var e=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),e}function fs(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function zn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ws(e,n,s,r,u,f){var O=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var U=e.entanglements,se=e.expirationTimes,ve=e.hiddenUpdates;for(s=O&~s;0<s;){var Re=31-st(s),Be=1<<Re;U[Re]=0,se[Re]=-1;var be=ve[Re];if(be!==null)for(ve[Re]=null,Re=0;Re<be.length;Re++){var Se=be[Re];Se!==null&&(Se.lane&=-536870913)}s&=~Be}r!==0&&Rn(e,r,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(O&~n))}function Rn(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-st(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|s&4194090}function F(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var r=31-st(s),u=1<<r;u&n|e[r]&n&&(e[r]|=n),s&=~u}}function Y(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function te(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ie(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:t2(e.type))}function de(e,n){var s=B.p;try{return B.p=e,n()}finally{B.p=s}}var J=Math.random().toString(36).slice(2),re="__reactFiber$"+J,fe="__reactProps$"+J,ce="__reactContainer$"+J,Ae="__reactEvents$"+J,me="__reactListeners$"+J,we="__reactHandles$"+J,Ue="__reactResources$"+J,Je="__reactMarker$"+J;function Oe(e){delete e[re],delete e[fe],delete e[Ae],delete e[me],delete e[we]}function Ze(e){var n=e[re];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ce]||s[re]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=z_(e);e!==null;){if(s=e[re])return s;e=z_(e)}return n}e=s,s=e.parentNode}return null}function ye(e){if(e=e[re]||e[ce]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Fe(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function lt(e){var n=e[Ue];return n||(n=e[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Me(e){e[Je]=!0}var Xe=new Set,De={};function $e(e,n){Et(e,n),Et(e+"Capture",n)}function Et(e,n){for(De[e]=n,e=0;e<n.length;e++)Xe.add(n[e])}var ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},_t={};function Yt(e){return ke.call(_t,e)?!0:ke.call(ot,e)?!1:ze.test(e)?_t[e]=!0:(ot[e]=!0,!1)}function xn(e,n,s){if(Yt(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function jt(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function yt(e,n,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+r)}}var bn,hn;function fn(e){if(bn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);bn=n&&n[1]||"",hn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bn+e+hn}var Bn=!1;function kn(e,n){if(!e||Bn)return"";Bn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(Se){var be=Se}Reflect.construct(e,[],Be)}else{try{Be.call()}catch(Se){be=Se}e.call(Be.prototype)}}else{try{throw Error()}catch(Se){be=Se}(Be=e())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(Se){if(Se&&be&&typeof Se.stack=="string")return[Se.stack,be.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),O=f[0],U=f[1];if(O&&U){var se=O.split(`
`),ve=U.split(`
`);for(u=r=0;r<se.length&&!se[r].includes("DetermineComponentFrameRoot");)r++;for(;u<ve.length&&!ve[u].includes("DetermineComponentFrameRoot");)u++;if(r===se.length||u===ve.length)for(r=se.length-1,u=ve.length-1;1<=r&&0<=u&&se[r]!==ve[u];)u--;for(;1<=r&&0<=u;r--,u--)if(se[r]!==ve[u]){if(r!==1||u!==1)do if(r--,u--,0>u||se[r]!==ve[u]){var Re=`
`+se[r].replace(" at new "," at ");return e.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",e.displayName)),Re}while(1<=r&&0<=u);break}}}finally{Bn=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?fn(s):""}function mn(e){switch(e.tag){case 26:case 27:case 5:return fn(e.type);case 16:return fn("Lazy");case 13:return fn("Suspense");case 19:return fn("SuspenseList");case 0:case 15:return kn(e.type,!1);case 11:return kn(e.type.render,!1);case 1:return kn(e.type,!0);case 31:return fn("Activity");default:return""}}function $n(e){try{var n="";do n+=mn(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ds(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ps(e){var n=ds(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(O){r=""+O,f.call(this,O)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(O){r=""+O},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function oa(e){e._valueTracker||(e._valueTracker=Ps(e))}function ua(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return e&&(r=ds(e)?e.checked?"true":"false":e.value),e=r,e!==s?(n.setValue(e),!0):!1}function kt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ii=/[\n"\\]/g;function Vn(e){return e.replace(Ii,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ca(e,n,s,r,u,f,O,U){e.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.type=O:e.removeAttribute("type"),n!=null?O==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+dn(n)):e.value!==""+dn(n)&&(e.value=""+dn(n)):O!=="submit"&&O!=="reset"||e.removeAttribute("value"),n!=null?Le(e,O,dn(n)):s!=null?Le(e,O,dn(s)):r!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?e.name=""+dn(U):e.removeAttribute("name")}function he(e,n,s,r,u,f,O,U){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+dn(s):"",n=n!=null?""+dn(n):s,U||n===e.value||(e.value=n),e.defaultValue=n}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=U?e.checked:!!r,e.defaultChecked=!!r,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(e.name=O)}function Le(e,n,s){n==="number"&&kt(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ke(e,n,s,r){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&r&&(e[s].defaultSelected=!0)}else{for(s=""+dn(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function pt(e,n,s){if(n!=null&&(n=""+dn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+dn(s):""}function ut(e,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(i(92));if(W(r)){if(1<r.length)throw Error(i(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=dn(n),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r)}function Ct(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Lt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(e,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,s):typeof s!="number"||s===0||Lt.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ht(e,n,s){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in n)r=n[u],n.hasOwnProperty(u)&&s[u]!==r&&It(e,u,r)}else for(var f in n)n.hasOwnProperty(f)&&It(e,f,n[f])}function Cn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function an(e){return _s.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Qn=null;function ms(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Es=null,Is=null;function ui(e){var n=ye(e);if(n&&(e=n.stateNode)){var s=e[fe]||null;e:switch(e=n.stateNode,n.type){case"input":if(ca(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Vn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==e&&r.form===e.form){var u=r[fe]||null;if(!u)throw Error(i(90));ca(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===e.form&&ua(r)}break e;case"textarea":pt(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ke(e,!!s.multiple,n,!1)}}}var Yu=!1;function L1(e,n,s){if(Yu)return e(n,s);Yu=!0;try{var r=e(n);return r}finally{if(Yu=!1,(Es!==null||Is!==null)&&(Bo(),Es&&(n=Es,e=Is,Is=Es=null,ui(n),e)))for(n=0;n<e.length;n++)ui(e[n])}}function Vr(e,n){var s=e.stateNode;if(s===null)return null;var r=s[fe]||null;if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,n,typeof s));return s}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=!1;if(ha)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Zu=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Zu=!1}var Ba=null,Qu=null,Ql=null;function I1(){if(Ql)return Ql;var e,n=Qu,s=n.length,r,u="value"in Ba?Ba.value:Ba.textContent,f=u.length;for(e=0;e<s&&n[e]===u[e];e++);var O=s-e;for(r=1;r<=O&&n[s-r]===u[f-r];r++);return Ql=u.slice(e,1<r?1-r:void 0)}function Wl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Kl(){return!0}function H1(){return!1}function rs(e){function n(s,r,u,f,O){this._reactName=s,this._targetInst=u,this.type=r,this.nativeEvent=f,this.target=O,this.currentTarget=null;for(var U in e)e.hasOwnProperty(U)&&(s=e[U],this[U]=s?s(f):f[U]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kl:H1,this.isPropagationStopped=H1,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),n}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=rs(ci),Lr=g({},ci,{view:0,detail:0}),qp=rs(Lr),Wu,Ku,Ir,Jl=g({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ju,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ir&&(Ir&&e.type==="mousemove"?(Wu=e.screenX-Ir.screenX,Ku=e.screenY-Ir.screenY):Ku=Wu=0,Ir=e),Wu)},movementY:function(e){return"movementY"in e?e.movementY:Ku}}),z1=rs(Jl),Lp=g({},Jl,{dataTransfer:0}),Ip=rs(Lp),Hp=g({},Lr,{relatedTarget:0}),Pu=rs(Hp),zp=g({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Up=rs(zp),jp=g({},ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gp=rs(jp),Fp=g({},ci,{data:0}),U1=rs(Fp),Xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qp(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Zp[e])?!!n[e]:!1}function Ju(){return Qp}var Wp=g({},Lr,{key:function(e){if(e.key){var n=Xp[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ju,charCode:function(e){return e.type==="keypress"?Wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kp=rs(Wp),Pp=g({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j1=rs(Pp),Jp=g({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ju}),$p=rs(Jp),ev=g({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),tv=rs(ev),nv=g({},Jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sv=rs(nv),av=g({},ci,{newState:0,oldState:0}),iv=rs(av),rv=[9,13,27,32],$u=ha&&"CompositionEvent"in window,Hr=null;ha&&"documentMode"in document&&(Hr=document.documentMode);var lv=ha&&"TextEvent"in window&&!Hr,G1=ha&&(!$u||Hr&&8<Hr&&11>=Hr),F1=" ",X1=!1;function Y1(e,n){switch(e){case"keyup":return rv.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hi=!1;function ov(e,n){switch(e){case"compositionend":return Z1(n);case"keypress":return n.which!==32?null:(X1=!0,F1);case"textInput":return e=n.data,e===F1&&X1?null:e;default:return null}}function uv(e,n){if(Hi)return e==="compositionend"||!$u&&Y1(e,n)?(e=I1(),Ql=Qu=Ba=null,Hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return G1&&n.locale!=="ko"?null:n.data;default:return null}}var cv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q1(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!cv[e.type]:n==="textarea"}function W1(e,n,s,r){Es?Is?Is.push(r):Is=[r]:Es=r,n=Ho(n,"onChange"),0<n.length&&(s=new Pl("onChange","change",null,s,r),e.push({event:s,listeners:n}))}var zr=null,Ur=null;function hv(e){N_(e,0)}function $l(e){var n=Fe(e);if(ua(n))return e}function K1(e,n){if(e==="change")return n}var P1=!1;if(ha){var ec;if(ha){var tc="oninput"in document;if(!tc){var J1=document.createElement("div");J1.setAttribute("oninput","return;"),tc=typeof J1.oninput=="function"}ec=tc}else ec=!1;P1=ec&&(!document.documentMode||9<document.documentMode)}function $1(){zr&&(zr.detachEvent("onpropertychange",ef),Ur=zr=null)}function ef(e){if(e.propertyName==="value"&&$l(Ur)){var n=[];W1(n,Ur,e,ms(e)),L1(hv,n)}}function fv(e,n,s){e==="focusin"?($1(),zr=n,Ur=s,zr.attachEvent("onpropertychange",ef)):e==="focusout"&&$1()}function dv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $l(Ur)}function _v(e,n){if(e==="click")return $l(n)}function mv(e,n){if(e==="input"||e==="change")return $l(n)}function pv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ps=typeof Object.is=="function"?Object.is:pv;function jr(e,n){if(ps(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var u=s[r];if(!ke.call(n,u)||!ps(e[u],n[u]))return!1}return!0}function tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nf(e,n){var s=tf(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=n&&r>=n)return{node:s,offset:n-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=tf(s)}}function sf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?sf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function af(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=kt(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=kt(e.document)}return n}function nc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var vv=ha&&"documentMode"in document&&11>=document.documentMode,zi=null,sc=null,Gr=null,ac=!1;function rf(e,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ac||zi==null||zi!==kt(r)||(r=zi,"selectionStart"in r&&nc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gr&&jr(Gr,r)||(Gr=r,r=Ho(sc,"onSelect"),0<r.length&&(n=new Pl("onSelect","select",null,n,s),e.push({event:n,listeners:r}),n.target=zi)))}function hi(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ui={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionrun:hi("Transition","TransitionRun"),transitionstart:hi("Transition","TransitionStart"),transitioncancel:hi("Transition","TransitionCancel"),transitionend:hi("Transition","TransitionEnd")},ic={},lf={};ha&&(lf=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function fi(e){if(ic[e])return ic[e];if(!Ui[e])return e;var n=Ui[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in lf)return ic[e]=n[s];return e}var of=fi("animationend"),uf=fi("animationiteration"),cf=fi("animationstart"),yv=fi("transitionrun"),bv=fi("transitionstart"),gv=fi("transitioncancel"),hf=fi("transitionend"),ff=new Map,rc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rc.push("scrollEnd");function Hs(e,n){ff.set(e,n),$e(n,[e])}var df=new WeakMap;function Ms(e,n){if(typeof e=="object"&&e!==null){var s=df.get(e);return s!==void 0?s:(n={value:e,source:n,stack:$n(n)},df.set(e,n),n)}return{value:e,source:n,stack:$n(n)}}var Rs=[],ji=0,lc=0;function eo(){for(var e=ji,n=lc=ji=0;n<e;){var s=Rs[n];Rs[n++]=null;var r=Rs[n];Rs[n++]=null;var u=Rs[n];Rs[n++]=null;var f=Rs[n];if(Rs[n++]=null,r!==null&&u!==null){var O=r.pending;O===null?u.next=u:(u.next=O.next,O.next=u),r.pending=u}f!==0&&_f(s,u,f)}}function to(e,n,s,r){Rs[ji++]=e,Rs[ji++]=n,Rs[ji++]=s,Rs[ji++]=r,lc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function oc(e,n,s,r){return to(e,n,s,r),no(e)}function Gi(e,n){return to(e,null,null,n),no(e)}function _f(e,n,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var u=!1,f=e.return;f!==null;)f.childLanes|=s,r=f.alternate,r!==null&&(r.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&n!==null&&(u=31-st(s),e=f.hiddenUpdates,r=e[u],r===null?e[u]=[n]:r.push(n),n.lane=s|536870912),f):null}function no(e){if(50<_l)throw _l=0,_0=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Fi={};function Sv(e,n,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vs(e,n,s,r){return new Sv(e,n,s,r)}function uc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fa(e,n){var s=e.alternate;return s===null?(s=vs(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function mf(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function so(e,n,s,r,u,f){var O=0;if(r=e,typeof e=="function")uc(e)&&(O=1);else if(typeof e=="string")O=A3(e,s,x.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=vs(31,s,n,u),e.elementType=ne,e.lanes=f,e;case V:return di(s.children,u,f,n);case E:O=8,u|=24;break;case N:return e=vs(12,s,n,u|2),e.elementType=N,e.lanes=f,e;case C:return e=vs(13,s,n,u),e.elementType=C,e.lanes=f,e;case Q:return e=vs(19,s,n,u),e.elementType=Q,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:case b:O=10;break e;case G:O=9;break e;case Z:O=11;break e;case j:O=14;break e;case H:O=16,r=null;break e}O=29,s=Error(i(130,e===null?"null":typeof e,"")),r=null}return n=vs(O,s,n,u),n.elementType=e,n.type=r,n.lanes=f,n}function di(e,n,s,r){return e=vs(7,e,r,n),e.lanes=s,e}function cc(e,n,s){return e=vs(6,e,null,n),e.lanes=s,e}function hc(e,n,s){return n=vs(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Xi=[],Yi=0,ao=null,io=0,Cs=[],Ns=0,_i=null,da=1,_a="";function mi(e,n){Xi[Yi++]=io,Xi[Yi++]=ao,ao=e,io=n}function pf(e,n,s){Cs[Ns++]=da,Cs[Ns++]=_a,Cs[Ns++]=_i,_i=e;var r=da;e=_a;var u=32-st(r)-1;r&=~(1<<u),s+=1;var f=32-st(n)+u;if(30<f){var O=u-u%5;f=(r&(1<<O)-1).toString(32),r>>=O,u-=O,da=1<<32-st(n)+u|s<<u|r,_a=f+e}else da=1<<f|s<<u|r,_a=e}function fc(e){e.return!==null&&(mi(e,1),pf(e,1,0))}function dc(e){for(;e===ao;)ao=Xi[--Yi],Xi[Yi]=null,io=Xi[--Yi],Xi[Yi]=null;for(;e===_i;)_i=Cs[--Ns],Cs[Ns]=null,_a=Cs[--Ns],Cs[Ns]=null,da=Cs[--Ns],Cs[Ns]=null}var es=null,pn=null,Vt=!1,pi=null,Js=!1,_c=Error(i(519));function vi(e){var n=Error(i(418,""));throw Yr(Ms(n,e)),_c}function vf(e){var n=e.stateNode,s=e.type,r=e.memoizedProps;switch(n[re]=e,n[fe]=r,s){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(s=0;s<pl.length;s++)wt(pl[s],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),he(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),oa(n);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),ut(n,r.value,r.defaultValue,r.children),oa(n)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||k_(n.textContent,s)?(r.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),r.onScroll!=null&&wt("scroll",n),r.onScrollEnd!=null&&wt("scrollend",n),r.onClick!=null&&(n.onclick=zo),n=!0):n=!1,n||vi(e)}function yf(e){for(es=e.return;es;)switch(es.tag){case 5:case 13:Js=!1;return;case 27:case 3:Js=!0;return;default:es=es.return}}function Fr(e){if(e!==es)return!1;if(!Vt)return yf(e),Vt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||N0(e.type,e.memoizedProps)),s=!s),s&&pn&&vi(e),yf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){pn=Us(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}pn=null}}else n===27?(n=pn,Wa(e.type)?(e=k0,k0=null,pn=e):pn=n):pn=es?Us(e.stateNode.nextSibling):null;return!0}function Xr(){pn=es=null,Vt=!1}function bf(){var e=pi;return e!==null&&(us===null?us=e:us.push.apply(us,e),pi=null),e}function Yr(e){pi===null?pi=[e]:pi.push(e)}var mc=h(null),yi=null,ma=null;function ka(e,n,s){p(mc,n._currentValue),n._currentValue=s}function pa(e){e._currentValue=mc.current,_(mc)}function pc(e,n,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===s)break;e=e.return}}function vc(e,n,s,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var O=u.child;f=f.firstContext;e:for(;f!==null;){var U=f;f=u;for(var se=0;se<n.length;se++)if(U.context===n[se]){f.lanes|=s,U=f.alternate,U!==null&&(U.lanes|=s),pc(f.return,s,e),r||(O=null);break e}f=U.next}}else if(u.tag===18){if(O=u.return,O===null)throw Error(i(341));O.lanes|=s,f=O.alternate,f!==null&&(f.lanes|=s),pc(O,s,e),O=null}else O=u.child;if(O!==null)O.return=u;else for(O=u;O!==null;){if(O===e){O=null;break}if(u=O.sibling,u!==null){u.return=O.return,O=u;break}O=O.return}u=O}}function Zr(e,n,s,r){e=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var O=u.alternate;if(O===null)throw Error(i(387));if(O=O.memoizedProps,O!==null){var U=u.type;ps(u.pendingProps.value,O.value)||(e!==null?e.push(U):e=[U])}}else if(u===K.current){if(O=u.alternate,O===null)throw Error(i(387));O.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Tl):e=[Tl])}u=u.return}e!==null&&vc(n,e,s,r),n.flags|=262144}function ro(e){for(e=e.firstContext;e!==null;){if(!ps(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bi(e){yi=e,ma=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Wn(e){return gf(yi,e)}function lo(e,n){return yi===null&&bi(e),gf(e,n)}function gf(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ma===null){if(e===null)throw Error(i(308));ma=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ma=ma.next=n;return s}var Tv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},Av=l.unstable_scheduleCallback,xv=l.unstable_NormalPriority,Nn={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yc(){return{controller:new Tv,data:new Map,refCount:0}}function Qr(e){e.refCount--,e.refCount===0&&Av(xv,function(){e.controller.abort()})}var Wr=null,bc=0,Zi=0,Qi=null;function wv(e,n){if(Wr===null){var s=Wr=[];bc=0,Zi=S0(),Qi={status:"pending",value:void 0,then:function(r){s.push(r)}}}return bc++,n.then(Sf,Sf),n}function Sf(){if(--bc===0&&Wr!==null){Qi!==null&&(Qi.status="fulfilled");var e=Wr;Wr=null,Zi=0,Qi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Ev(e,n){var s=[],r={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var u=0;u<s.length;u++)(0,s[u])(n)},function(u){for(r.status="rejected",r.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),r}var Tf=S.S;S.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&wv(e,n),Tf!==null&&Tf(e,n)};var gi=h(null);function gc(){var e=gi.current;return e!==null?e:$t.pooledCache}function oo(e,n){n===null?p(gi,gi.current):p(gi,n.pool)}function Af(){var e=gc();return e===null?null:{parent:Nn._currentValue,pool:e}}var Kr=Error(i(460)),xf=Error(i(474)),uo=Error(i(542)),Sc={then:function(){}};function wf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function co(){}function Ef(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(co,co),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rf(e),e;default:if(typeof n.status=="string")n.then(co,co);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=r}},function(r){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rf(e),e}throw Pr=n,Kr}}var Pr=null;function Mf(){if(Pr===null)throw Error(i(459));var e=Pr;return Pr=null,e}function Rf(e){if(e===Kr||e===uo)throw Error(i(483))}var Va=!1;function Tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ac(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function La(e,n,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Gt&2)!==0){var u=r.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),r.pending=n,n=no(e),_f(e,null,s),n}return to(e,r,n,s),no(e)}function Jr(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,F(e,s)}}function xc(e,n){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var u=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var O={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?u=f=O:f=f.next=O,s=s.next}while(s!==null);f===null?u=f=n:f=f.next=n}else u=f=n;s={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var wc=!1;function $r(){if(wc){var e=Qi;if(e!==null)throw e}}function el(e,n,s,r){wc=!1;var u=e.updateQueue;Va=!1;var f=u.firstBaseUpdate,O=u.lastBaseUpdate,U=u.shared.pending;if(U!==null){u.shared.pending=null;var se=U,ve=se.next;se.next=null,O===null?f=ve:O.next=ve,O=se;var Re=e.alternate;Re!==null&&(Re=Re.updateQueue,U=Re.lastBaseUpdate,U!==O&&(U===null?Re.firstBaseUpdate=ve:U.next=ve,Re.lastBaseUpdate=se))}if(f!==null){var Be=u.baseState;O=0,Re=ve=se=null,U=f;do{var be=U.lane&-536870913,Se=be!==U.lane;if(Se?(Rt&be)===be:(r&be)===be){be!==0&&be===Zi&&(wc=!0),Re!==null&&(Re=Re.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var dt=e,ht=U;be=n;var Wt=s;switch(ht.tag){case 1:if(dt=ht.payload,typeof dt=="function"){Be=dt.call(Wt,Be,be);break e}Be=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ht.payload,be=typeof dt=="function"?dt.call(Wt,Be,be):dt,be==null)break e;Be=g({},Be,be);break e;case 2:Va=!0}}be=U.callback,be!==null&&(e.flags|=64,Se&&(e.flags|=8192),Se=u.callbacks,Se===null?u.callbacks=[be]:Se.push(be))}else Se={lane:be,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Re===null?(ve=Re=Se,se=Be):Re=Re.next=Se,O|=be;if(U=U.next,U===null){if(U=u.shared.pending,U===null)break;Se=U,U=Se.next,Se.next=null,u.lastBaseUpdate=Se,u.shared.pending=null}}while(!0);Re===null&&(se=Be),u.baseState=se,u.firstBaseUpdate=ve,u.lastBaseUpdate=Re,f===null&&(u.shared.lanes=0),Xa|=O,e.lanes=O,e.memoizedState=Be}}function Cf(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function Nf(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Cf(s[e],n)}var Wi=h(null),ho=h(0);function Of(e,n){e=Aa,p(ho,e),p(Wi,n),Aa=e|n.baseLanes}function Ec(){p(ho,Aa),p(Wi,Wi.current)}function Mc(){Aa=ho.current,_(Wi),_(ho)}var Ia=0,St=null,Zt=null,wn=null,fo=!1,Ki=!1,Si=!1,_o=0,tl=0,Pi=null,Mv=0;function gn(){throw Error(i(321))}function Rc(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!ps(e[s],n[s]))return!1;return!0}function Cc(e,n,s,r,u,f){return Ia=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=e===null||e.memoizedState===null?_d:md,Si=!1,f=s(r,u),Si=!1,Ki&&(f=Bf(n,s,r,u)),Df(e),f}function Df(e){S.H=go;var n=Zt!==null&&Zt.next!==null;if(Ia=0,wn=Zt=St=null,fo=!1,tl=0,Pi=null,n)throw Error(i(300));e===null||qn||(e=e.dependencies,e!==null&&ro(e)&&(qn=!0))}function Bf(e,n,s,r){St=e;var u=0;do{if(Ki&&(Pi=null),tl=0,Ki=!1,25<=u)throw Error(i(301));if(u+=1,wn=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=kv,f=n(s,r)}while(Ki);return f}function Rv(){var e=S.H,n=e.useState()[0];return n=typeof n.then=="function"?nl(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(St.flags|=1024),n}function Nc(){var e=_o!==0;return _o=0,e}function Oc(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Dc(e){if(fo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}fo=!1}Ia=0,wn=Zt=St=null,Ki=!1,tl=_o=0,Pi=null}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?St.memoizedState=wn=e:wn=wn.next=e,wn}function En(){if(Zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=wn===null?St.memoizedState:wn.next;if(n!==null)wn=n,Zt=e;else{if(e===null)throw St.alternate===null?Error(i(467)):Error(i(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},wn===null?St.memoizedState=wn=e:wn=wn.next=e}return wn}function Bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var n=tl;return tl+=1,Pi===null&&(Pi=[]),e=Ef(Pi,e,n),n=St,(wn===null?n.memoizedState:wn.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?_d:md),e}function mo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===b)return Wn(e)}throw Error(i(438,String(e)))}function kc(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=St.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Bc(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),r=0;r<e;r++)s[r]=le;return n.index++,s}function va(e,n){return typeof n=="function"?n(e):n}function po(e){var n=En();return Vc(n,Zt,e)}function Vc(e,n,s){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=s;var u=e.baseQueue,f=r.pending;if(f!==null){if(u!==null){var O=u.next;u.next=f.next,f.next=O}n.baseQueue=u=f,r.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{n=u.next;var U=O=null,se=null,ve=n,Re=!1;do{var Be=ve.lane&-536870913;if(Be!==ve.lane?(Rt&Be)===Be:(Ia&Be)===Be){var be=ve.revertLane;if(be===0)se!==null&&(se=se.next={lane:0,revertLane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Be===Zi&&(Re=!0);else if((Ia&be)===be){ve=ve.next,be===Zi&&(Re=!0);continue}else Be={lane:0,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},se===null?(U=se=Be,O=f):se=se.next=Be,St.lanes|=be,Xa|=be;Be=ve.action,Si&&s(f,Be),f=ve.hasEagerState?ve.eagerState:s(f,Be)}else be={lane:Be,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},se===null?(U=se=be,O=f):se=se.next=be,St.lanes|=Be,Xa|=Be;ve=ve.next}while(ve!==null&&ve!==n);if(se===null?O=f:se.next=U,!ps(f,e.memoizedState)&&(qn=!0,Re&&(s=Qi,s!==null)))throw s;e.memoizedState=f,e.baseState=O,e.baseQueue=se,r.lastRenderedState=f}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function qc(e){var n=En(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var r=s.dispatch,u=s.pending,f=n.memoizedState;if(u!==null){s.pending=null;var O=u=u.next;do f=e(f,O.action),O=O.next;while(O!==u);ps(f,n.memoizedState)||(qn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,r]}function kf(e,n,s){var r=St,u=En(),f=Vt;if(f){if(s===void 0)throw Error(i(407));s=s()}else s=n();var O=!ps((Zt||u).memoizedState,s);O&&(u.memoizedState=s,qn=!0),u=u.queue;var U=Lf.bind(null,r,u,e);if(sl(2048,8,U,[e]),u.getSnapshot!==n||O||wn!==null&&wn.memoizedState.tag&1){if(r.flags|=2048,Ji(9,vo(),qf.bind(null,r,u,s,n),null),$t===null)throw Error(i(349));f||(Ia&124)!==0||Vf(r,n,s)}return s}function Vf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=Bc(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function qf(e,n,s,r){n.value=s,n.getSnapshot=r,If(n)&&Hf(e)}function Lf(e,n,s){return s(function(){If(n)&&Hf(e)})}function If(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!ps(e,s)}catch{return!0}}function Hf(e){var n=Gi(e,2);n!==null&&Ts(n,e,2)}function Lc(e){var n=ls();if(typeof e=="function"){var s=e;if(e=s(),Si){He(!0);try{s()}finally{He(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},n}function zf(e,n,s,r){return e.baseState=s,Vc(e,Zt,typeof r=="function"?r:va)}function Cv(e,n,s,r,u){if(bo(e))throw Error(i(485));if(e=n.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){f.listeners.push(O)}};S.T!==null?s(!0):f.isTransition=!1,r(f),s=n.pending,s===null?(f.next=n.pending=f,Uf(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Uf(e,n){var s=n.action,r=n.payload,u=e.state;if(n.isTransition){var f=S.T,O={};S.T=O;try{var U=s(u,r),se=S.S;se!==null&&se(O,U),jf(e,n,U)}catch(ve){Ic(e,n,ve)}finally{S.T=f}}else try{f=s(u,r),jf(e,n,f)}catch(ve){Ic(e,n,ve)}}function jf(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Gf(e,n,r)},function(r){return Ic(e,n,r)}):Gf(e,n,s)}function Gf(e,n,s){n.status="fulfilled",n.value=s,Ff(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Uf(e,s)))}function Ic(e,n,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,Ff(n),n=n.next;while(n!==r)}e.action=null}function Ff(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Xf(e,n){return n}function Yf(e,n){if(Vt){var s=$t.formState;if(s!==null){e:{var r=St;if(Vt){if(pn){t:{for(var u=pn,f=Js;u.nodeType!==8;){if(!f){u=null;break t}if(u=Us(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){pn=Us(u.nextSibling),r=u.data==="F!";break e}}vi(r)}r=!1}r&&(n=s[0])}}return s=ls(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xf,lastRenderedState:n},s.queue=r,s=hd.bind(null,St,r),r.dispatch=s,r=Lc(!1),f=Gc.bind(null,St,!1,r.queue),r=ls(),u={state:n,dispatch:null,action:e,pending:null},r.queue=u,s=Cv.bind(null,St,u,f,s),u.dispatch=s,r.memoizedState=e,[n,s,!1]}function Zf(e){var n=En();return Qf(n,Zt,e)}function Qf(e,n,s){if(n=Vc(e,n,Xf)[0],e=po(va)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=nl(n)}catch(O){throw O===Kr?uo:O}else r=n;n=En();var u=n.queue,f=u.dispatch;return s!==n.memoizedState&&(St.flags|=2048,Ji(9,vo(),Nv.bind(null,u,s),null)),[r,f,e]}function Nv(e,n){e.action=n}function Wf(e){var n=En(),s=Zt;if(s!==null)return Qf(n,s,e);En(),n=n.memoizedState,s=En();var r=s.queue.dispatch;return s.memoizedState=e,[n,r,!1]}function Ji(e,n,s,r){return e={tag:e,create:s,deps:r,inst:n,next:null},n=St.updateQueue,n===null&&(n=Bc(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,n.lastEffect=e),e}function vo(){return{destroy:void 0,resource:void 0}}function Kf(){return En().memoizedState}function yo(e,n,s,r){var u=ls();r=r===void 0?null:r,St.flags|=e,u.memoizedState=Ji(1|n,vo(),s,r)}function sl(e,n,s,r){var u=En();r=r===void 0?null:r;var f=u.memoizedState.inst;Zt!==null&&r!==null&&Rc(r,Zt.memoizedState.deps)?u.memoizedState=Ji(n,f,s,r):(St.flags|=e,u.memoizedState=Ji(1|n,f,s,r))}function Pf(e,n){yo(8390656,8,e,n)}function Jf(e,n){sl(2048,8,e,n)}function $f(e,n){return sl(4,2,e,n)}function ed(e,n){return sl(4,4,e,n)}function td(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function nd(e,n,s){s=s!=null?s.concat([e]):null,sl(4,4,td.bind(null,n,e),s)}function Hc(){}function sd(e,n){var s=En();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&Rc(n,r[1])?r[0]:(s.memoizedState=[e,n],e)}function ad(e,n){var s=En();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&Rc(n,r[1]))return r[0];if(r=e(),Si){He(!0);try{e()}finally{He(!1)}}return s.memoizedState=[r,n],r}function zc(e,n,s){return s===void 0||(Ia&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=l_(),St.lanes|=e,Xa|=e,s)}function id(e,n,s,r){return ps(s,n)?s:Wi.current!==null?(e=zc(e,s,r),ps(e,n)||(qn=!0),e):(Ia&42)===0?(qn=!0,e.memoizedState=s):(e=l_(),St.lanes|=e,Xa|=e,n)}function rd(e,n,s,r,u){var f=B.p;B.p=f!==0&&8>f?f:8;var O=S.T,U={};S.T=U,Gc(e,!1,n,s);try{var se=u(),ve=S.S;if(ve!==null&&ve(U,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var Re=Ev(se,r);al(e,n,Re,Ss(e))}else al(e,n,r,Ss(e))}catch(Be){al(e,n,{then:function(){},status:"rejected",reason:Be},Ss())}finally{B.p=f,S.T=O}}function Ov(){}function Uc(e,n,s,r){if(e.tag!==5)throw Error(i(476));var u=ld(e).queue;rd(e,u,n,X,s===null?Ov:function(){return od(e),s(r)})}function ld(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:X},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function od(e){var n=ld(e).next.queue;al(e,n,{},Ss())}function jc(){return Wn(Tl)}function ud(){return En().memoizedState}function cd(){return En().memoizedState}function Dv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Ss();e=qa(s);var r=La(n,e,s);r!==null&&(Ts(r,n,s),Jr(r,n,s)),n={cache:yc()},e.payload=n;return}n=n.return}}function Bv(e,n,s){var r=Ss();s={lane:r,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},bo(e)?fd(n,s):(s=oc(e,n,s,r),s!==null&&(Ts(s,e,r),dd(s,n,r)))}function hd(e,n,s){var r=Ss();al(e,n,s,r)}function al(e,n,s,r){var u={lane:r,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(bo(e))fd(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var O=n.lastRenderedState,U=f(O,s);if(u.hasEagerState=!0,u.eagerState=U,ps(U,O))return to(e,n,u,0),$t===null&&eo(),!1}catch{}finally{}if(s=oc(e,n,u,r),s!==null)return Ts(s,e,r),dd(s,n,r),!0}return!1}function Gc(e,n,s,r){if(r={lane:2,revertLane:S0(),action:r,hasEagerState:!1,eagerState:null,next:null},bo(e)){if(n)throw Error(i(479))}else n=oc(e,s,r,2),n!==null&&Ts(n,e,2)}function bo(e){var n=e.alternate;return e===St||n!==null&&n===St}function fd(e,n){Ki=fo=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function dd(e,n,s){if((s&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,F(e,s)}}var go={readContext:Wn,use:mo,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn},_d={readContext:Wn,use:mo,useCallback:function(e,n){return ls().memoizedState=[e,n===void 0?null:n],e},useContext:Wn,useEffect:Pf,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,yo(4194308,4,td.bind(null,n,e),s)},useLayoutEffect:function(e,n){return yo(4194308,4,e,n)},useInsertionEffect:function(e,n){yo(4,2,e,n)},useMemo:function(e,n){var s=ls();n=n===void 0?null:n;var r=e();if(Si){He(!0);try{e()}finally{He(!1)}}return s.memoizedState=[r,n],r},useReducer:function(e,n,s){var r=ls();if(s!==void 0){var u=s(n);if(Si){He(!0);try{s(n)}finally{He(!1)}}}else u=n;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=Bv.bind(null,St,e),[r.memoizedState,e]},useRef:function(e){var n=ls();return e={current:e},n.memoizedState=e},useState:function(e){e=Lc(e);var n=e.queue,s=hd.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Hc,useDeferredValue:function(e,n){var s=ls();return zc(s,e,n)},useTransition:function(){var e=Lc(!1);return e=rd.bind(null,St,e.queue,!0,!1),ls().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var r=St,u=ls();if(Vt){if(s===void 0)throw Error(i(407));s=s()}else{if(s=n(),$t===null)throw Error(i(349));(Rt&124)!==0||Vf(r,n,s)}u.memoizedState=s;var f={value:s,getSnapshot:n};return u.queue=f,Pf(Lf.bind(null,r,f,e),[e]),r.flags|=2048,Ji(9,vo(),qf.bind(null,r,f,s,n),null),s},useId:function(){var e=ls(),n=$t.identifierPrefix;if(Vt){var s=_a,r=da;s=(r&~(1<<32-st(r)-1)).toString(32)+s,n=""+n+"R"+s,s=_o++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=Mv++,n=""+n+"r"+s.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:jc,useFormState:Yf,useActionState:Yf,useOptimistic:function(e){var n=ls();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Gc.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:kc,useCacheRefresh:function(){return ls().memoizedState=Dv.bind(null,St)}},md={readContext:Wn,use:mo,useCallback:sd,useContext:Wn,useEffect:Jf,useImperativeHandle:nd,useInsertionEffect:$f,useLayoutEffect:ed,useMemo:ad,useReducer:po,useRef:Kf,useState:function(){return po(va)},useDebugValue:Hc,useDeferredValue:function(e,n){var s=En();return id(s,Zt.memoizedState,e,n)},useTransition:function(){var e=po(va)[0],n=En().memoizedState;return[typeof e=="boolean"?e:nl(e),n]},useSyncExternalStore:kf,useId:ud,useHostTransitionStatus:jc,useFormState:Zf,useActionState:Zf,useOptimistic:function(e,n){var s=En();return zf(s,Zt,e,n)},useMemoCache:kc,useCacheRefresh:cd},kv={readContext:Wn,use:mo,useCallback:sd,useContext:Wn,useEffect:Jf,useImperativeHandle:nd,useInsertionEffect:$f,useLayoutEffect:ed,useMemo:ad,useReducer:qc,useRef:Kf,useState:function(){return qc(va)},useDebugValue:Hc,useDeferredValue:function(e,n){var s=En();return Zt===null?zc(s,e,n):id(s,Zt.memoizedState,e,n)},useTransition:function(){var e=qc(va)[0],n=En().memoizedState;return[typeof e=="boolean"?e:nl(e),n]},useSyncExternalStore:kf,useId:ud,useHostTransitionStatus:jc,useFormState:Wf,useActionState:Wf,useOptimistic:function(e,n){var s=En();return Zt!==null?zf(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:kc,useCacheRefresh:cd},$i=null,il=0;function So(e){var n=il;return il+=1,$i===null&&($i=[]),Ef($i,e,n)}function rl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function To(e,n){throw n.$$typeof===T?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function pd(e){var n=e._init;return n(e._payload)}function vd(e){function n(_e,ue){if(e){var pe=_e.deletions;pe===null?(_e.deletions=[ue],_e.flags|=16):pe.push(ue)}}function s(_e,ue){if(!e)return null;for(;ue!==null;)n(_e,ue),ue=ue.sibling;return null}function r(_e){for(var ue=new Map;_e!==null;)_e.key!==null?ue.set(_e.key,_e):ue.set(_e.index,_e),_e=_e.sibling;return ue}function u(_e,ue){return _e=fa(_e,ue),_e.index=0,_e.sibling=null,_e}function f(_e,ue,pe){return _e.index=pe,e?(pe=_e.alternate,pe!==null?(pe=pe.index,pe<ue?(_e.flags|=67108866,ue):pe):(_e.flags|=67108866,ue)):(_e.flags|=1048576,ue)}function O(_e){return e&&_e.alternate===null&&(_e.flags|=67108866),_e}function U(_e,ue,pe,Ne){return ue===null||ue.tag!==6?(ue=cc(pe,_e.mode,Ne),ue.return=_e,ue):(ue=u(ue,pe),ue.return=_e,ue)}function se(_e,ue,pe,Ne){var tt=pe.type;return tt===V?Re(_e,ue,pe.props.children,Ne,pe.key):ue!==null&&(ue.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===H&&pd(tt)===ue.type)?(ue=u(ue,pe.props),rl(ue,pe),ue.return=_e,ue):(ue=so(pe.type,pe.key,pe.props,null,_e.mode,Ne),rl(ue,pe),ue.return=_e,ue)}function ve(_e,ue,pe,Ne){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==pe.containerInfo||ue.stateNode.implementation!==pe.implementation?(ue=hc(pe,_e.mode,Ne),ue.return=_e,ue):(ue=u(ue,pe.children||[]),ue.return=_e,ue)}function Re(_e,ue,pe,Ne,tt){return ue===null||ue.tag!==7?(ue=di(pe,_e.mode,Ne,tt),ue.return=_e,ue):(ue=u(ue,pe),ue.return=_e,ue)}function Be(_e,ue,pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=cc(""+ue,_e.mode,pe),ue.return=_e,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return pe=so(ue.type,ue.key,ue.props,null,_e.mode,pe),rl(pe,ue),pe.return=_e,pe;case q:return ue=hc(ue,_e.mode,pe),ue.return=_e,ue;case H:var Ne=ue._init;return ue=Ne(ue._payload),Be(_e,ue,pe)}if(W(ue)||k(ue))return ue=di(ue,_e.mode,pe,null),ue.return=_e,ue;if(typeof ue.then=="function")return Be(_e,So(ue),pe);if(ue.$$typeof===b)return Be(_e,lo(_e,ue),pe);To(_e,ue)}return null}function be(_e,ue,pe,Ne){var tt=ue!==null?ue.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return tt!==null?null:U(_e,ue,""+pe,Ne);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case w:return pe.key===tt?se(_e,ue,pe,Ne):null;case q:return pe.key===tt?ve(_e,ue,pe,Ne):null;case H:return tt=pe._init,pe=tt(pe._payload),be(_e,ue,pe,Ne)}if(W(pe)||k(pe))return tt!==null?null:Re(_e,ue,pe,Ne,null);if(typeof pe.then=="function")return be(_e,ue,So(pe),Ne);if(pe.$$typeof===b)return be(_e,ue,lo(_e,pe),Ne);To(_e,pe)}return null}function Se(_e,ue,pe,Ne,tt){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return _e=_e.get(pe)||null,U(ue,_e,""+Ne,tt);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case w:return _e=_e.get(Ne.key===null?pe:Ne.key)||null,se(ue,_e,Ne,tt);case q:return _e=_e.get(Ne.key===null?pe:Ne.key)||null,ve(ue,_e,Ne,tt);case H:var Tt=Ne._init;return Ne=Tt(Ne._payload),Se(_e,ue,pe,Ne,tt)}if(W(Ne)||k(Ne))return _e=_e.get(pe)||null,Re(ue,_e,Ne,tt,null);if(typeof Ne.then=="function")return Se(_e,ue,pe,So(Ne),tt);if(Ne.$$typeof===b)return Se(_e,ue,pe,lo(ue,Ne),tt);To(ue,Ne)}return null}function dt(_e,ue,pe,Ne){for(var tt=null,Tt=null,it=ue,ft=ue=0,In=null;it!==null&&ft<pe.length;ft++){it.index>ft?(In=it,it=null):In=it.sibling;var Dt=be(_e,it,pe[ft],Ne);if(Dt===null){it===null&&(it=In);break}e&&it&&Dt.alternate===null&&n(_e,it),ue=f(Dt,ue,ft),Tt===null?tt=Dt:Tt.sibling=Dt,Tt=Dt,it=In}if(ft===pe.length)return s(_e,it),Vt&&mi(_e,ft),tt;if(it===null){for(;ft<pe.length;ft++)it=Be(_e,pe[ft],Ne),it!==null&&(ue=f(it,ue,ft),Tt===null?tt=it:Tt.sibling=it,Tt=it);return Vt&&mi(_e,ft),tt}for(it=r(it);ft<pe.length;ft++)In=Se(it,_e,ft,pe[ft],Ne),In!==null&&(e&&In.alternate!==null&&it.delete(In.key===null?ft:In.key),ue=f(In,ue,ft),Tt===null?tt=In:Tt.sibling=In,Tt=In);return e&&it.forEach(function(ei){return n(_e,ei)}),Vt&&mi(_e,ft),tt}function ht(_e,ue,pe,Ne){if(pe==null)throw Error(i(151));for(var tt=null,Tt=null,it=ue,ft=ue=0,In=null,Dt=pe.next();it!==null&&!Dt.done;ft++,Dt=pe.next()){it.index>ft?(In=it,it=null):In=it.sibling;var ei=be(_e,it,Dt.value,Ne);if(ei===null){it===null&&(it=In);break}e&&it&&ei.alternate===null&&n(_e,it),ue=f(ei,ue,ft),Tt===null?tt=ei:Tt.sibling=ei,Tt=ei,it=In}if(Dt.done)return s(_e,it),Vt&&mi(_e,ft),tt;if(it===null){for(;!Dt.done;ft++,Dt=pe.next())Dt=Be(_e,Dt.value,Ne),Dt!==null&&(ue=f(Dt,ue,ft),Tt===null?tt=Dt:Tt.sibling=Dt,Tt=Dt);return Vt&&mi(_e,ft),tt}for(it=r(it);!Dt.done;ft++,Dt=pe.next())Dt=Se(it,_e,ft,Dt.value,Ne),Dt!==null&&(e&&Dt.alternate!==null&&it.delete(Dt.key===null?ft:Dt.key),ue=f(Dt,ue,ft),Tt===null?tt=Dt:Tt.sibling=Dt,Tt=Dt);return e&&it.forEach(function(V3){return n(_e,V3)}),Vt&&mi(_e,ft),tt}function Wt(_e,ue,pe,Ne){if(typeof pe=="object"&&pe!==null&&pe.type===V&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case w:e:{for(var tt=pe.key;ue!==null;){if(ue.key===tt){if(tt=pe.type,tt===V){if(ue.tag===7){s(_e,ue.sibling),Ne=u(ue,pe.props.children),Ne.return=_e,_e=Ne;break e}}else if(ue.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===H&&pd(tt)===ue.type){s(_e,ue.sibling),Ne=u(ue,pe.props),rl(Ne,pe),Ne.return=_e,_e=Ne;break e}s(_e,ue);break}else n(_e,ue);ue=ue.sibling}pe.type===V?(Ne=di(pe.props.children,_e.mode,Ne,pe.key),Ne.return=_e,_e=Ne):(Ne=so(pe.type,pe.key,pe.props,null,_e.mode,Ne),rl(Ne,pe),Ne.return=_e,_e=Ne)}return O(_e);case q:e:{for(tt=pe.key;ue!==null;){if(ue.key===tt)if(ue.tag===4&&ue.stateNode.containerInfo===pe.containerInfo&&ue.stateNode.implementation===pe.implementation){s(_e,ue.sibling),Ne=u(ue,pe.children||[]),Ne.return=_e,_e=Ne;break e}else{s(_e,ue);break}else n(_e,ue);ue=ue.sibling}Ne=hc(pe,_e.mode,Ne),Ne.return=_e,_e=Ne}return O(_e);case H:return tt=pe._init,pe=tt(pe._payload),Wt(_e,ue,pe,Ne)}if(W(pe))return dt(_e,ue,pe,Ne);if(k(pe)){if(tt=k(pe),typeof tt!="function")throw Error(i(150));return pe=tt.call(pe),ht(_e,ue,pe,Ne)}if(typeof pe.then=="function")return Wt(_e,ue,So(pe),Ne);if(pe.$$typeof===b)return Wt(_e,ue,lo(_e,pe),Ne);To(_e,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ue!==null&&ue.tag===6?(s(_e,ue.sibling),Ne=u(ue,pe),Ne.return=_e,_e=Ne):(s(_e,ue),Ne=cc(pe,_e.mode,Ne),Ne.return=_e,_e=Ne),O(_e)):s(_e,ue)}return function(_e,ue,pe,Ne){try{il=0;var tt=Wt(_e,ue,pe,Ne);return $i=null,tt}catch(it){if(it===Kr||it===uo)throw it;var Tt=vs(29,it,null,_e.mode);return Tt.lanes=Ne,Tt.return=_e,Tt}finally{}}}var er=vd(!0),yd=vd(!1),Os=h(null),$s=null;function Ha(e){var n=e.alternate;p(On,On.current&1),p(Os,e),$s===null&&(n===null||Wi.current!==null||n.memoizedState!==null)&&($s=e)}function bd(e){if(e.tag===22){if(p(On,On.current),p(Os,e),$s===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&($s=e)}}else za()}function za(){p(On,On.current),p(Os,Os.current)}function ya(e){_(Os),$s===e&&($s=null),_(On)}var On=h(0);function Ao(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||B0(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Fc(e,n,s,r){n=e.memoizedState,s=s(r,n),s=s==null?n:g({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Xc={enqueueSetState:function(e,n,s){e=e._reactInternals;var r=Ss(),u=qa(r);u.payload=n,s!=null&&(u.callback=s),n=La(e,u,r),n!==null&&(Ts(n,e,r),Jr(n,e,r))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var r=Ss(),u=qa(r);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=La(e,u,r),n!==null&&(Ts(n,e,r),Jr(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Ss(),r=qa(s);r.tag=2,n!=null&&(r.callback=n),n=La(e,r,s),n!==null&&(Ts(n,e,s),Jr(n,e,s))}};function gd(e,n,s,r,u,f,O){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,O):n.prototype&&n.prototype.isPureReactComponent?!jr(s,r)||!jr(u,f):!0}function Sd(e,n,s,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==e&&Xc.enqueueReplaceState(n,n.state,null)}function Ti(e,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(e=e.defaultProps){s===n&&(s=g({},s));for(var u in e)s[u]===void 0&&(s[u]=e[u])}return s}var xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Td(e){xo(e)}function Ad(e){console.error(e)}function xd(e){xo(e)}function wo(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function wd(e,n,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Yc(e,n,s){return s=qa(s),s.tag=3,s.payload={element:null},s.callback=function(){wo(e,n)},s}function Ed(e){return e=qa(e),e.tag=3,e}function Md(e,n,s,r){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;e.payload=function(){return u(f)},e.callback=function(){wd(n,s,r)}}var O=s.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(e.callback=function(){wd(n,s,r),typeof u!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var U=r.stack;this.componentDidCatch(r.value,{componentStack:U!==null?U:""})})}function Vv(e,n,s,r,u){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&Zr(n,s,u,!0),s=Os.current,s!==null){switch(s.tag){case 13:return $s===null?p0():s.alternate===null&&vn===0&&(vn=3),s.flags&=-257,s.flags|=65536,s.lanes=u,r===Sc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),y0(e,r,u)),!1;case 22:return s.flags|=65536,r===Sc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),y0(e,r,u)),!1}throw Error(i(435,s.tag))}return y0(e,r,u),p0(),!1}if(Vt)return n=Os.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,r!==_c&&(e=Error(i(422),{cause:r}),Yr(Ms(e,s)))):(r!==_c&&(n=Error(i(423),{cause:r}),Yr(Ms(n,s))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=Ms(r,s),u=Yc(e.stateNode,r,u),xc(e,u),vn!==4&&(vn=2)),!1;var f=Error(i(520),{cause:r});if(f=Ms(f,s),dl===null?dl=[f]:dl.push(f),vn!==4&&(vn=2),n===null)return!0;r=Ms(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=u&-u,s.lanes|=e,e=Yc(s.stateNode,r,e),xc(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ya===null||!Ya.has(f))))return s.flags|=65536,u&=-u,s.lanes|=u,u=Ed(u),Md(u,e,s,r),xc(s,u),!1}s=s.return}while(s!==null);return!1}var Rd=Error(i(461)),qn=!1;function Un(e,n,s,r){n.child=e===null?yd(n,null,s,r):er(n,e.child,s,r)}function Cd(e,n,s,r,u){s=s.render;var f=n.ref;if("ref"in r){var O={};for(var U in r)U!=="ref"&&(O[U]=r[U])}else O=r;return bi(n),r=Cc(e,n,s,O,f,u),U=Nc(),e!==null&&!qn?(Oc(e,n,u),ba(e,n,u)):(Vt&&U&&fc(n),n.flags|=1,Un(e,n,r,u),n.child)}function Nd(e,n,s,r,u){if(e===null){var f=s.type;return typeof f=="function"&&!uc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Od(e,n,f,r,u)):(e=so(s.type,null,r,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!e0(e,u)){var O=f.memoizedProps;if(s=s.compare,s=s!==null?s:jr,s(O,r)&&e.ref===n.ref)return ba(e,n,u)}return n.flags|=1,e=fa(f,r),e.ref=n.ref,e.return=n,n.child=e}function Od(e,n,s,r,u){if(e!==null){var f=e.memoizedProps;if(jr(f,r)&&e.ref===n.ref)if(qn=!1,n.pendingProps=r=f,e0(e,u))(e.flags&131072)!==0&&(qn=!0);else return n.lanes=e.lanes,ba(e,n,u)}return Zc(e,n,s,r,u)}function Dd(e,n,s){var r=n.pendingProps,u=r.children,f=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((n.flags&128)!==0){if(r=f!==null?f.baseLanes|s:s,e!==null){for(u=n.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;n.childLanes=f&~r}else n.childLanes=0,n.child=null;return Bd(e,n,r,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&oo(n,f!==null?f.cachePool:null),f!==null?Of(n,f):Ec(),bd(n);else return n.lanes=n.childLanes=536870912,Bd(e,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(oo(n,f.cachePool),Of(n,f),za(),n.memoizedState=null):(e!==null&&oo(n,null),Ec(),za());return Un(e,n,u,s),n.child}function Bd(e,n,s,r){var u=gc();return u=u===null?null:{parent:Nn._currentValue,pool:u},n.memoizedState={baseLanes:s,cachePool:u},e!==null&&oo(n,null),Ec(),bd(n),e!==null&&Zr(e,n,r,!0),null}function Eo(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Zc(e,n,s,r,u){return bi(n),s=Cc(e,n,s,r,void 0,u),r=Nc(),e!==null&&!qn?(Oc(e,n,u),ba(e,n,u)):(Vt&&r&&fc(n),n.flags|=1,Un(e,n,s,u),n.child)}function kd(e,n,s,r,u,f){return bi(n),n.updateQueue=null,s=Bf(n,r,s,u),Df(e),r=Nc(),e!==null&&!qn?(Oc(e,n,f),ba(e,n,f)):(Vt&&r&&fc(n),n.flags|=1,Un(e,n,s,f),n.child)}function Vd(e,n,s,r,u){if(bi(n),n.stateNode===null){var f=Fi,O=s.contextType;typeof O=="object"&&O!==null&&(f=Wn(O)),f=new s(r,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=r,f.state=n.memoizedState,f.refs={},Tc(n),O=s.contextType,f.context=typeof O=="object"&&O!==null?Wn(O):Fi,f.state=n.memoizedState,O=s.getDerivedStateFromProps,typeof O=="function"&&(Fc(n,s,O,r),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(O=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),O!==f.state&&Xc.enqueueReplaceState(f,f.state,null),el(n,r,f,u),$r(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){f=n.stateNode;var U=n.memoizedProps,se=Ti(s,U);f.props=se;var ve=f.context,Re=s.contextType;O=Fi,typeof Re=="object"&&Re!==null&&(O=Wn(Re));var Be=s.getDerivedStateFromProps;Re=typeof Be=="function"||typeof f.getSnapshotBeforeUpdate=="function",U=n.pendingProps!==U,Re||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(U||ve!==O)&&Sd(n,f,r,O),Va=!1;var be=n.memoizedState;f.state=be,el(n,r,f,u),$r(),ve=n.memoizedState,U||be!==ve||Va?(typeof Be=="function"&&(Fc(n,s,Be,r),ve=n.memoizedState),(se=Va||gd(n,s,se,r,be,ve,O))?(Re||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=ve),f.props=r,f.state=ve,f.context=O,r=se):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{f=n.stateNode,Ac(e,n),O=n.memoizedProps,Re=Ti(s,O),f.props=Re,Be=n.pendingProps,be=f.context,ve=s.contextType,se=Fi,typeof ve=="object"&&ve!==null&&(se=Wn(ve)),U=s.getDerivedStateFromProps,(ve=typeof U=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(O!==Be||be!==se)&&Sd(n,f,r,se),Va=!1,be=n.memoizedState,f.state=be,el(n,r,f,u),$r();var Se=n.memoizedState;O!==Be||be!==Se||Va||e!==null&&e.dependencies!==null&&ro(e.dependencies)?(typeof U=="function"&&(Fc(n,s,U,r),Se=n.memoizedState),(Re=Va||gd(n,s,Re,r,be,Se,se)||e!==null&&e.dependencies!==null&&ro(e.dependencies))?(ve||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,Se,se),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,Se,se)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||O===e.memoizedProps&&be===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&be===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=Se),f.props=r,f.state=Se,f.context=se,r=Re):(typeof f.componentDidUpdate!="function"||O===e.memoizedProps&&be===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&be===e.memoizedState||(n.flags|=1024),r=!1)}return f=r,Eo(e,n),r=(n.flags&128)!==0,f||r?(f=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&r?(n.child=er(n,e.child,null,u),n.child=er(n,null,s,u)):Un(e,n,s,u),n.memoizedState=f.state,e=n.child):e=ba(e,n,u),e}function qd(e,n,s,r){return Xr(),n.flags|=256,Un(e,n,s,r),n.child}var Qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wc(e){return{baseLanes:e,cachePool:Af()}}function Kc(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Ds),e}function Ld(e,n,s){var r=n.pendingProps,u=!1,f=(n.flags&128)!==0,O;if((O=f)||(O=e!==null&&e.memoizedState===null?!1:(On.current&2)!==0),O&&(u=!0,n.flags&=-129),O=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(u?Ha(n):za(),Vt){var U=pn,se;if(se=U){e:{for(se=U,U=Js;se.nodeType!==8;){if(!U){U=null;break e}if(se=Us(se.nextSibling),se===null){U=null;break e}}U=se}U!==null?(n.memoizedState={dehydrated:U,treeContext:_i!==null?{id:da,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},se=vs(18,null,null,0),se.stateNode=U,se.return=n,n.child=se,es=n,pn=null,se=!0):se=!1}se||vi(n)}if(U=n.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return B0(U)?n.lanes=32:n.lanes=536870912,null;ya(n)}return U=r.children,r=r.fallback,u?(za(),u=n.mode,U=Mo({mode:"hidden",children:U},u),r=di(r,u,s,null),U.return=n,r.return=n,U.sibling=r,n.child=U,u=n.child,u.memoizedState=Wc(s),u.childLanes=Kc(e,O,s),n.memoizedState=Qc,r):(Ha(n),Pc(n,U))}if(se=e.memoizedState,se!==null&&(U=se.dehydrated,U!==null)){if(f)n.flags&256?(Ha(n),n.flags&=-257,n=Jc(e,n,s)):n.memoizedState!==null?(za(),n.child=e.child,n.flags|=128,n=null):(za(),u=r.fallback,U=n.mode,r=Mo({mode:"visible",children:r.children},U),u=di(u,U,s,null),u.flags|=2,r.return=n,u.return=n,r.sibling=u,n.child=r,er(n,e.child,null,s),r=n.child,r.memoizedState=Wc(s),r.childLanes=Kc(e,O,s),n.memoizedState=Qc,n=u);else if(Ha(n),B0(U)){if(O=U.nextSibling&&U.nextSibling.dataset,O)var ve=O.dgst;O=ve,r=Error(i(419)),r.stack="",r.digest=O,Yr({value:r,source:null,stack:null}),n=Jc(e,n,s)}else if(qn||Zr(e,n,s,!1),O=(s&e.childLanes)!==0,qn||O){if(O=$t,O!==null&&(r=s&-s,r=(r&42)!==0?1:Y(r),r=(r&(O.suspendedLanes|s))!==0?0:r,r!==0&&r!==se.retryLane))throw se.retryLane=r,Gi(e,r),Ts(O,e,r),Rd;U.data==="$?"||p0(),n=Jc(e,n,s)}else U.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=se.treeContext,pn=Us(U.nextSibling),es=n,Vt=!0,pi=null,Js=!1,e!==null&&(Cs[Ns++]=da,Cs[Ns++]=_a,Cs[Ns++]=_i,da=e.id,_a=e.overflow,_i=n),n=Pc(n,r.children),n.flags|=4096);return n}return u?(za(),u=r.fallback,U=n.mode,se=e.child,ve=se.sibling,r=fa(se,{mode:"hidden",children:r.children}),r.subtreeFlags=se.subtreeFlags&65011712,ve!==null?u=fa(ve,u):(u=di(u,U,s,null),u.flags|=2),u.return=n,r.return=n,r.sibling=u,n.child=r,r=u,u=n.child,U=e.child.memoizedState,U===null?U=Wc(s):(se=U.cachePool,se!==null?(ve=Nn._currentValue,se=se.parent!==ve?{parent:ve,pool:ve}:se):se=Af(),U={baseLanes:U.baseLanes|s,cachePool:se}),u.memoizedState=U,u.childLanes=Kc(e,O,s),n.memoizedState=Qc,r):(Ha(n),s=e.child,e=s.sibling,s=fa(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,e!==null&&(O=n.deletions,O===null?(n.deletions=[e],n.flags|=16):O.push(e)),n.child=s,n.memoizedState=null,s)}function Pc(e,n){return n=Mo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Mo(e,n){return e=vs(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Jc(e,n,s){return er(n,e.child,null,s),e=Pc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Id(e,n,s){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),pc(e.return,n,s)}function $c(e,n,s,r,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=r,f.tail=s,f.tailMode=u)}function Hd(e,n,s){var r=n.pendingProps,u=r.revealOrder,f=r.tail;if(Un(e,n,r.children,s),r=On.current,(r&2)!==0)r=r&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Id(e,s,n);else if(e.tag===19)Id(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(p(On,r),u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&Ao(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),$c(n,!1,u,s,f);break;case"backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Ao(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}$c(n,!0,s,null,f);break;case"together":$c(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ba(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Xa|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Zr(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,s=fa(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=fa(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function e0(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ro(e)))}function qv(e,n,s){switch(n.tag){case 3:L(n,n.stateNode.containerInfo),ka(n,Nn,e.memoizedState.cache),Xr();break;case 27:case 5:oe(n);break;case 4:L(n,n.stateNode.containerInfo);break;case 10:ka(n,n.type,n.memoizedProps.value);break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(Ha(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Ld(e,n,s):(Ha(n),e=ba(e,n,s),e!==null?e.sibling:null);Ha(n);break;case 19:var u=(e.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(Zr(e,n,s,!1),r=(s&n.childLanes)!==0),u){if(r)return Hd(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),p(On,On.current),r)break;return null;case 22:case 23:return n.lanes=0,Dd(e,n,s);case 24:ka(n,Nn,e.memoizedState.cache)}return ba(e,n,s)}function zd(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)qn=!0;else{if(!e0(e,s)&&(n.flags&128)===0)return qn=!1,qv(e,n,s);qn=(e.flags&131072)!==0}else qn=!1,Vt&&(n.flags&1048576)!==0&&pf(n,io,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var r=n.elementType,u=r._init;if(r=u(r._payload),n.type=r,typeof r=="function")uc(r)?(e=Ti(r,e),n.tag=1,n=Vd(null,n,r,e,s)):(n.tag=0,n=Zc(null,n,r,e,s));else{if(r!=null){if(u=r.$$typeof,u===Z){n.tag=11,n=Cd(null,n,r,e,s);break e}else if(u===j){n.tag=14,n=Nd(null,n,r,e,s);break e}}throw n=$(r)||r,Error(i(306,n,""))}}return n;case 0:return Zc(e,n,n.type,n.pendingProps,s);case 1:return r=n.type,u=Ti(r,n.pendingProps),Vd(e,n,r,u,s);case 3:e:{if(L(n,n.stateNode.containerInfo),e===null)throw Error(i(387));r=n.pendingProps;var f=n.memoizedState;u=f.element,Ac(e,n),el(n,r,null,s);var O=n.memoizedState;if(r=O.cache,ka(n,Nn,r),r!==f.cache&&vc(n,[Nn],s,!0),$r(),r=O.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:O.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=qd(e,n,r,s);break e}else if(r!==u){u=Ms(Error(i(424)),n),Yr(u),n=qd(e,n,r,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pn=Us(e.firstChild),es=n,Vt=!0,pi=null,Js=!0,s=yd(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Xr(),r===u){n=ba(e,n,s);break e}Un(e,n,r,s)}n=n.child}return n;case 26:return Eo(e,n),e===null?(s=F_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Vt||(s=n.type,e=n.pendingProps,r=Uo(z.current).createElement(s),r[re]=n,r[fe]=e,Gn(r,s,e),Me(r),n.stateNode=r):n.memoizedState=F_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return oe(n),e===null&&Vt&&(r=n.stateNode=U_(n.type,n.pendingProps,z.current),es=n,Js=!0,u=pn,Wa(n.type)?(k0=u,pn=Us(r.firstChild)):pn=u),Un(e,n,n.pendingProps.children,s),Eo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((u=r=pn)&&(r=c3(r,n.type,n.pendingProps,Js),r!==null?(n.stateNode=r,es=n,pn=Us(r.firstChild),Js=!1,u=!0):u=!1),u||vi(n)),oe(n),u=n.type,f=n.pendingProps,O=e!==null?e.memoizedProps:null,r=f.children,N0(u,f)?r=null:O!==null&&N0(u,O)&&(n.flags|=32),n.memoizedState!==null&&(u=Cc(e,n,Rv,null,null,s),Tl._currentValue=u),Eo(e,n),Un(e,n,r,s),n.child;case 6:return e===null&&Vt&&((e=s=pn)&&(s=h3(s,n.pendingProps,Js),s!==null?(n.stateNode=s,es=n,pn=null,e=!0):e=!1),e||vi(n)),null;case 13:return Ld(e,n,s);case 4:return L(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=er(n,null,r,s):Un(e,n,r,s),n.child;case 11:return Cd(e,n,n.type,n.pendingProps,s);case 7:return Un(e,n,n.pendingProps,s),n.child;case 8:return Un(e,n,n.pendingProps.children,s),n.child;case 12:return Un(e,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,ka(n,n.type,r.value),Un(e,n,r.children,s),n.child;case 9:return u=n.type._context,r=n.pendingProps.children,bi(n),u=Wn(u),r=r(u),n.flags|=1,Un(e,n,r,s),n.child;case 14:return Nd(e,n,n.type,n.pendingProps,s);case 15:return Od(e,n,n.type,n.pendingProps,s);case 19:return Hd(e,n,s);case 31:return r=n.pendingProps,s=n.mode,r={mode:r.mode,children:r.children},e===null?(s=Mo(r,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=fa(e.child,r),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Dd(e,n,s);case 24:return bi(n),r=Wn(Nn),e===null?(u=gc(),u===null&&(u=$t,f=yc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=s),u=f),n.memoizedState={parent:r,cache:u},Tc(n),ka(n,Nn,u)):((e.lanes&s)!==0&&(Ac(e,n),el(n,null,null,s),$r()),u=e.memoizedState,f=n.memoizedState,u.parent!==r?(u={parent:r,cache:r},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ka(n,Nn,r)):(r=f.cache,ka(n,Nn,r),r!==u.cache&&vc(n,[Nn],s,!0))),Un(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function ga(e){e.flags|=4}function Ud(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!W_(n)){if(n=Os.current,n!==null&&((Rt&4194048)===Rt?$s!==null:(Rt&62914560)!==Rt&&(Rt&536870912)===0||n!==$s))throw Pr=Sc,xf;e.flags|=8192}}function Ro(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Yn():536870912,e.lanes|=n,ar|=n)}function ll(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _n(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=s,n}function Lv(e,n,s){var r=n.pendingProps;switch(dc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(n),null;case 1:return _n(n),null;case 3:return s=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),pa(Nn),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Fr(n)?ga(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,bf())),_n(n),null;case 26:return s=n.memoizedState,e===null?(ga(n),s!==null?(_n(n),Ud(n,s)):(_n(n),n.flags&=-16777217)):s?s!==e.memoizedState?(ga(n),_n(n),Ud(n,s)):(_n(n),n.flags&=-16777217):(e.memoizedProps!==r&&ga(n),_n(n),n.flags&=-16777217),null;case 27:Ee(n),s=z.current;var u=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==r&&ga(n);else{if(!r){if(n.stateNode===null)throw Error(i(166));return _n(n),null}e=x.current,Fr(n)?vf(n):(e=U_(u,r,s),n.stateNode=e,ga(n))}return _n(n),null;case 5:if(Ee(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&ga(n);else{if(!r){if(n.stateNode===null)throw Error(i(166));return _n(n),null}if(e=x.current,Fr(n))vf(n);else{switch(u=Uo(z.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?u.createElement("select",{is:r.is}):u.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?u.createElement(s,{is:r.is}):u.createElement(s)}}e[re]=n,e[fe]=r;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=e;e:switch(Gn(e,s,r),s){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ga(n)}}return _n(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&ga(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(i(166));if(e=z.current,Fr(n)){if(e=n.stateNode,s=n.memoizedProps,r=null,u=es,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[re]=n,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||k_(e.nodeValue,s)),e||vi(n)}else e=Uo(e).createTextNode(r),e[re]=n,n.stateNode=e}return _n(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Fr(n),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[re]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_n(n),u=!1}else u=bf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(ya(n),n):(ya(n),null)}if(ya(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=r!==null,e=e!==null&&e.memoizedState!==null,s){r=n.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool);var f=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==u&&(r.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Ro(n,n.updateQueue),_n(n),null;case 4:return ae(),e===null&&w0(n.stateNode.containerInfo),_n(n),null;case 10:return pa(n.type),_n(n),null;case 19:if(_(On),u=n.memoizedState,u===null)return _n(n),null;if(r=(n.flags&128)!==0,f=u.rendering,f===null)if(r)ll(u,!1);else{if(vn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ao(e),f!==null){for(n.flags|=128,ll(u,!1),e=f.updateQueue,n.updateQueue=e,Ro(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)mf(s,e),s=s.sibling;return p(On,On.current&1|2),n.child}e=e.sibling}u.tail!==null&&nt()>Oo&&(n.flags|=128,r=!0,ll(u,!1),n.lanes=4194304)}else{if(!r)if(e=Ao(f),e!==null){if(n.flags|=128,r=!0,e=e.updateQueue,n.updateQueue=e,Ro(n,e),ll(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Vt)return _n(n),null}else 2*nt()-u.renderingStartTime>Oo&&s!==536870912&&(n.flags|=128,r=!0,ll(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(e=u.last,e!==null?e.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=nt(),n.sibling=null,e=On.current,p(On,r?e&1|2:e&1),n):(_n(n),null);case 22:case 23:return ya(n),Mc(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(_n(n),n.subtreeFlags&6&&(n.flags|=8192)):_n(n),s=n.updateQueue,s!==null&&Ro(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),e!==null&&_(gi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),pa(Nn),_n(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function Iv(e,n){switch(dc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return pa(Nn),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ee(n),null;case 13:if(ya(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return _(On),null;case 4:return ae(),null;case 10:return pa(n.type),null;case 22:case 23:return ya(n),Mc(),e!==null&&_(gi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return pa(Nn),null;case 25:return null;default:return null}}function jd(e,n){switch(dc(n),n.tag){case 3:pa(Nn),ae();break;case 26:case 27:case 5:Ee(n);break;case 4:ae();break;case 13:ya(n);break;case 19:_(On);break;case 10:pa(n.type);break;case 22:case 23:ya(n),Mc(),e!==null&&_(gi);break;case 24:pa(Nn)}}function ol(e,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){r=void 0;var f=s.create,O=s.inst;r=f(),O.destroy=r}s=s.next}while(s!==u)}}catch(U){Pt(n,n.return,U)}}function Ua(e,n,s){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var f=u.next;r=f;do{if((r.tag&e)===e){var O=r.inst,U=O.destroy;if(U!==void 0){O.destroy=void 0,u=n;var se=s,ve=U;try{ve()}catch(Re){Pt(u,se,Re)}}}r=r.next}while(r!==f)}}catch(Re){Pt(n,n.return,Re)}}function Gd(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Nf(n,s)}catch(r){Pt(e,e.return,r)}}}function Fd(e,n,s){s.props=Ti(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){Pt(e,n,r)}}function ul(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(u){Pt(e,n,u)}}function ea(e,n){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(u){Pt(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Pt(e,n,u)}else s.current=null}function Xd(e){var n=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(u){Pt(e,e.return,u)}}function t0(e,n,s){try{var r=e.stateNode;i3(r,e.type,s,n),r[fe]=n}catch(u){Pt(e,e.return,u)}}function Yd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wa(e.type)||e.tag===4}function n0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function s0(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zo));else if(r!==4&&(r===27&&Wa(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(s0(e,n,s),e=e.sibling;e!==null;)s0(e,n,s),e=e.sibling}function Co(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(r!==4&&(r===27&&Wa(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Co(e,n,s),e=e.sibling;e!==null;)Co(e,n,s),e=e.sibling}function Zd(e){var n=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);Gn(n,r,s),n[re]=e,n[fe]=s}catch(f){Pt(e,e.return,f)}}var Sa=!1,Sn=!1,a0=!1,Qd=typeof WeakSet=="function"?WeakSet:Set,Ln=null;function Hv(e,n){if(e=e.containerInfo,R0=Zo,e=af(e),nc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var u=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var O=0,U=-1,se=-1,ve=0,Re=0,Be=e,be=null;t:for(;;){for(var Se;Be!==s||u!==0&&Be.nodeType!==3||(U=O+u),Be!==f||r!==0&&Be.nodeType!==3||(se=O+r),Be.nodeType===3&&(O+=Be.nodeValue.length),(Se=Be.firstChild)!==null;)be=Be,Be=Se;for(;;){if(Be===e)break t;if(be===s&&++ve===u&&(U=O),be===f&&++Re===r&&(se=O),(Se=Be.nextSibling)!==null)break;Be=be,be=Be.parentNode}Be=Se}s=U===-1||se===-1?null:{start:U,end:se}}else s=null}s=s||{start:0,end:0}}else s=null;for(C0={focusedElem:e,selectionRange:s},Zo=!1,Ln=n;Ln!==null;)if(n=Ln,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ln=e;else for(;Ln!==null;){switch(n=Ln,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,u=f.memoizedProps,f=f.memoizedState,r=s.stateNode;try{var dt=Ti(s.type,u,s.elementType===s.type);e=r.getSnapshotBeforeUpdate(dt,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Pt(s,s.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)D0(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":D0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,Ln=e;break}Ln=n.return}}function Wd(e,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:ja(e,s),r&4&&ol(5,s);break;case 1:if(ja(e,s),r&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(O){Pt(s,s.return,O)}else{var u=Ti(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(O){Pt(s,s.return,O)}}r&64&&Gd(s),r&512&&ul(s,s.return);break;case 3:if(ja(e,s),r&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Nf(e,n)}catch(O){Pt(s,s.return,O)}}break;case 27:n===null&&r&4&&Zd(s);case 26:case 5:ja(e,s),n===null&&r&4&&Xd(s),r&512&&ul(s,s.return);break;case 12:ja(e,s);break;case 13:ja(e,s),r&4&&Jd(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Qv.bind(null,s),f3(e,s))));break;case 22:if(r=s.memoizedState!==null||Sa,!r){n=n!==null&&n.memoizedState!==null||Sn,u=Sa;var f=Sn;Sa=r,(Sn=n)&&!f?Ga(e,s,(s.subtreeFlags&8772)!==0):ja(e,s),Sa=u,Sn=f}break;case 30:break;default:ja(e,s)}}function Kd(e){var n=e.alternate;n!==null&&(e.alternate=null,Kd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Oe(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rn=null,os=!1;function Ta(e,n,s){for(s=s.child;s!==null;)Pd(e,n,s),s=s.sibling}function Pd(e,n,s){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(ct,s)}catch{}switch(s.tag){case 26:Sn||ea(s,n),Ta(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Sn||ea(s,n);var r=rn,u=os;Wa(s.type)&&(rn=s.stateNode,os=!1),Ta(e,n,s),yl(s.stateNode),rn=r,os=u;break;case 5:Sn||ea(s,n);case 6:if(r=rn,u=os,rn=null,Ta(e,n,s),rn=r,os=u,rn!==null)if(os)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(s.stateNode)}catch(f){Pt(s,n,f)}else try{rn.removeChild(s.stateNode)}catch(f){Pt(s,n,f)}break;case 18:rn!==null&&(os?(e=rn,H_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),El(e)):H_(rn,s.stateNode));break;case 4:r=rn,u=os,rn=s.stateNode.containerInfo,os=!0,Ta(e,n,s),rn=r,os=u;break;case 0:case 11:case 14:case 15:Sn||Ua(2,s,n),Sn||Ua(4,s,n),Ta(e,n,s);break;case 1:Sn||(ea(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Fd(s,n,r)),Ta(e,n,s);break;case 21:Ta(e,n,s);break;case 22:Sn=(r=Sn)||s.memoizedState!==null,Ta(e,n,s),Sn=r;break;default:Ta(e,n,s)}}function Jd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{El(e)}catch(s){Pt(n,n.return,s)}}function zv(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Qd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Qd),n;default:throw Error(i(435,e.tag))}}function i0(e,n){var s=zv(e);n.forEach(function(r){var u=Wv.bind(null,e,r);s.has(r)||(s.add(r),r.then(u,u))})}function ys(e,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var u=s[r],f=e,O=n,U=O;e:for(;U!==null;){switch(U.tag){case 27:if(Wa(U.type)){rn=U.stateNode,os=!1;break e}break;case 5:rn=U.stateNode,os=!1;break e;case 3:case 4:rn=U.stateNode.containerInfo,os=!0;break e}U=U.return}if(rn===null)throw Error(i(160));Pd(f,O,u),rn=null,os=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)$d(n,e),n=n.sibling}var zs=null;function $d(e,n){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ys(n,e),bs(e),r&4&&(Ua(3,e,e.return),ol(3,e),Ua(5,e,e.return));break;case 1:ys(n,e),bs(e),r&512&&(Sn||s===null||ea(s,s.return)),r&64&&Sa&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var u=zs;if(ys(n,e),bs(e),r&512&&(Sn||s===null||ea(s,s.return)),r&4){var f=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Je]||f[re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(r),u.head.insertBefore(f,u.querySelector("head > title"))),Gn(f,r,s),f[re]=e,Me(f),r=f;break e;case"link":var O=Z_("link","href",u).get(r+(s.href||""));if(O){for(var U=0;U<O.length;U++)if(f=O[U],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){O.splice(U,1);break t}}f=u.createElement(r),Gn(f,r,s),u.head.appendChild(f);break;case"meta":if(O=Z_("meta","content",u).get(r+(s.content||""))){for(U=0;U<O.length;U++)if(f=O[U],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){O.splice(U,1);break t}}f=u.createElement(r),Gn(f,r,s),u.head.appendChild(f);break;default:throw Error(i(468,r))}f[re]=e,Me(f),r=f}e.stateNode=r}else Q_(u,e.type,e.stateNode);else e.stateNode=Y_(u,r,e.memoizedProps);else f!==r?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,r===null?Q_(u,e.type,e.stateNode):Y_(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&t0(e,e.memoizedProps,s.memoizedProps)}break;case 27:ys(n,e),bs(e),r&512&&(Sn||s===null||ea(s,s.return)),s!==null&&r&4&&t0(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ys(n,e),bs(e),r&512&&(Sn||s===null||ea(s,s.return)),e.flags&32){u=e.stateNode;try{Ct(u,"")}catch(Se){Pt(e,e.return,Se)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,t0(e,u,s!==null?s.memoizedProps:u)),r&1024&&(a0=!0);break;case 6:if(ys(n,e),bs(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(Se){Pt(e,e.return,Se)}}break;case 3:if(Fo=null,u=zs,zs=jo(n.containerInfo),ys(n,e),zs=u,bs(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{El(n.containerInfo)}catch(Se){Pt(e,e.return,Se)}a0&&(a0=!1,e_(e));break;case 4:r=zs,zs=jo(e.stateNode.containerInfo),ys(n,e),bs(e),zs=r;break;case 12:ys(n,e),bs(e);break;case 13:ys(n,e),bs(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(h0=nt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,i0(e,r)));break;case 22:u=e.memoizedState!==null;var se=s!==null&&s.memoizedState!==null,ve=Sa,Re=Sn;if(Sa=ve||u,Sn=Re||se,ys(n,e),Sn=Re,Sa=ve,bs(e),r&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(s===null||se||Sa||Sn||Ai(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){se=s=n;try{if(f=se.stateNode,u)O=f.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{U=se.stateNode;var Be=se.memoizedProps.style,be=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;U.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(Se){Pt(se,se.return,Se)}}}else if(n.tag===6){if(s===null){se=n;try{se.stateNode.nodeValue=u?"":se.memoizedProps}catch(Se){Pt(se,se.return,Se)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,i0(e,s))));break;case 19:ys(n,e),bs(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,i0(e,r)));break;case 30:break;case 21:break;default:ys(n,e),bs(e)}}function bs(e){var n=e.flags;if(n&2){try{for(var s,r=e.return;r!==null;){if(Yd(r)){s=r;break}r=r.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var u=s.stateNode,f=n0(e);Co(e,f,u);break;case 5:var O=s.stateNode;s.flags&32&&(Ct(O,""),s.flags&=-33);var U=n0(e);Co(e,U,O);break;case 3:case 4:var se=s.stateNode.containerInfo,ve=n0(e);s0(e,ve,se);break;default:throw Error(i(161))}}catch(Re){Pt(e,e.return,Re)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function e_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;e_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ja(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wd(e,n.alternate,n),n=n.sibling}function Ai(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ua(4,n,n.return),Ai(n);break;case 1:ea(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Fd(n,n.return,s),Ai(n);break;case 27:yl(n.stateNode);case 26:case 5:ea(n,n.return),Ai(n);break;case 22:n.memoizedState===null&&Ai(n);break;case 30:Ai(n);break;default:Ai(n)}e=e.sibling}}function Ga(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,u=e,f=n,O=f.flags;switch(f.tag){case 0:case 11:case 15:Ga(u,f,s),ol(4,f);break;case 1:if(Ga(u,f,s),r=f,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(ve){Pt(r,r.return,ve)}if(r=f,u=r.updateQueue,u!==null){var U=r.stateNode;try{var se=u.shared.hiddenCallbacks;if(se!==null)for(u.shared.hiddenCallbacks=null,u=0;u<se.length;u++)Cf(se[u],U)}catch(ve){Pt(r,r.return,ve)}}s&&O&64&&Gd(f),ul(f,f.return);break;case 27:Zd(f);case 26:case 5:Ga(u,f,s),s&&r===null&&O&4&&Xd(f),ul(f,f.return);break;case 12:Ga(u,f,s);break;case 13:Ga(u,f,s),s&&O&4&&Jd(u,f);break;case 22:f.memoizedState===null&&Ga(u,f,s),ul(f,f.return);break;case 30:break;default:Ga(u,f,s)}n=n.sibling}}function r0(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Qr(s))}function l0(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qr(e))}function ta(e,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)t_(e,n,s,r),n=n.sibling}function t_(e,n,s,r){var u=n.flags;switch(n.tag){case 0:case 11:case 15:ta(e,n,s,r),u&2048&&ol(9,n);break;case 1:ta(e,n,s,r);break;case 3:ta(e,n,s,r),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qr(e)));break;case 12:if(u&2048){ta(e,n,s,r),e=n.stateNode;try{var f=n.memoizedProps,O=f.id,U=f.onPostCommit;typeof U=="function"&&U(O,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(se){Pt(n,n.return,se)}}else ta(e,n,s,r);break;case 13:ta(e,n,s,r);break;case 23:break;case 22:f=n.stateNode,O=n.alternate,n.memoizedState!==null?f._visibility&2?ta(e,n,s,r):cl(e,n):f._visibility&2?ta(e,n,s,r):(f._visibility|=2,tr(e,n,s,r,(n.subtreeFlags&10256)!==0)),u&2048&&r0(O,n);break;case 24:ta(e,n,s,r),u&2048&&l0(n.alternate,n);break;default:ta(e,n,s,r)}}function tr(e,n,s,r,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,O=n,U=s,se=r,ve=O.flags;switch(O.tag){case 0:case 11:case 15:tr(f,O,U,se,u),ol(8,O);break;case 23:break;case 22:var Re=O.stateNode;O.memoizedState!==null?Re._visibility&2?tr(f,O,U,se,u):cl(f,O):(Re._visibility|=2,tr(f,O,U,se,u)),u&&ve&2048&&r0(O.alternate,O);break;case 24:tr(f,O,U,se,u),u&&ve&2048&&l0(O.alternate,O);break;default:tr(f,O,U,se,u)}n=n.sibling}}function cl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,r=n,u=r.flags;switch(r.tag){case 22:cl(s,r),u&2048&&r0(r.alternate,r);break;case 24:cl(s,r),u&2048&&l0(r.alternate,r);break;default:cl(s,r)}n=n.sibling}}var hl=8192;function nr(e){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)n_(e),e=e.sibling}function n_(e){switch(e.tag){case 26:nr(e),e.flags&hl&&e.memoizedState!==null&&w3(zs,e.memoizedState,e.memoizedProps);break;case 5:nr(e);break;case 3:case 4:var n=zs;zs=jo(e.stateNode.containerInfo),nr(e),zs=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=hl,hl=16777216,nr(e),hl=n):nr(e));break;default:nr(e)}}function s_(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function fl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];Ln=r,i_(r,e)}s_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)a_(e),e=e.sibling}function a_(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&Ua(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,No(e)):fl(e);break;default:fl(e)}}function No(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];Ln=r,i_(r,e)}s_(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ua(8,n,n.return),No(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,No(n));break;default:No(n)}e=e.sibling}}function i_(e,n){for(;Ln!==null;){var s=Ln;switch(s.tag){case 0:case 11:case 15:Ua(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Qr(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,Ln=r;else e:for(s=e;Ln!==null;){r=Ln;var u=r.sibling,f=r.return;if(Kd(r),r===s){Ln=null;break e}if(u!==null){u.return=f,Ln=u;break e}Ln=f}}}var Uv={getCacheForType:function(e){var n=Wn(Nn),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},jv=typeof WeakMap=="function"?WeakMap:Map,Gt=0,$t=null,xt=null,Rt=0,Ft=0,gs=null,Fa=!1,sr=!1,o0=!1,Aa=0,vn=0,Xa=0,xi=0,u0=0,Ds=0,ar=0,dl=null,us=null,c0=!1,h0=0,Oo=1/0,Do=null,Ya=null,jn=0,Za=null,ir=null,rr=0,f0=0,d0=null,r_=null,_l=0,_0=null;function Ss(){if((Gt&2)!==0&&Rt!==0)return Rt&-Rt;if(S.T!==null){var e=Zi;return e!==0?e:S0()}return ie()}function l_(){Ds===0&&(Ds=(Rt&536870912)===0||Vt?is():536870912);var e=Os.current;return e!==null&&(e.flags|=32),Ds}function Ts(e,n,s){(e===$t&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(lr(e,0),Qa(e,Rt,Ds,!1)),zn(e,s),((Gt&2)===0||e!==$t)&&(e===$t&&((Gt&2)===0&&(xi|=s),vn===4&&Qa(e,Rt,Ds,!1)),na(e))}function o_(e,n,s){if((Gt&6)!==0)throw Error(i(327));var r=!s&&(n&124)===0&&(n&e.expiredLanes)===0||nn(e,n),u=r?Xv(e,n):v0(e,n,!0),f=r;do{if(u===0){sr&&!r&&Qa(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!Gv(s)){u=v0(e,n,!1),f=!1;continue}if(u===2){if(f=n,e.errorRecoveryDisabledLanes&f)var O=0;else O=e.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){n=O;e:{var U=e;u=dl;var se=U.current.memoizedState.isDehydrated;if(se&&(lr(U,O).flags|=256),O=v0(U,O,!1),O!==2){if(o0&&!se){U.errorRecoveryDisabledLanes|=f,xi|=f,u=4;break e}f=us,us=u,f!==null&&(us===null?us=f:us.push.apply(us,f))}u=O}if(f=!1,u!==2)continue}}if(u===1){lr(e,0),Qa(e,n,0,!0);break}e:{switch(r=e,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:Qa(r,n,Ds,!Fa);break e;case 2:us=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(u=h0+300-nt(),10<u)){if(Qa(r,n,Ds,!Fa),cn(r,0,!0)!==0)break e;r.timeoutHandle=L_(u_.bind(null,r,s,us,Do,c0,n,Ds,xi,ar,Fa,f,2,-0,0),u);break e}u_(r,s,us,Do,c0,n,Ds,xi,ar,Fa,f,0,-0,0)}}break}while(!0);na(e)}function u_(e,n,s,r,u,f,O,U,se,ve,Re,Be,be,Se){if(e.timeoutHandle=-1,Be=n.subtreeFlags,(Be&8192||(Be&16785408)===16785408)&&(Sl={stylesheets:null,count:0,unsuspend:x3},n_(n),Be=E3(),Be!==null)){e.cancelPendingCommit=Be(p_.bind(null,e,n,f,s,r,u,O,U,se,Re,1,be,Se)),Qa(e,f,O,!ve);return}p_(e,n,f,s,r,u,O,U,se)}function Gv(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var u=s[r],f=u.getSnapshot;u=u.value;try{if(!ps(f(),u))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qa(e,n,s,r){n&=~u0,n&=~xi,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var u=n;0<u;){var f=31-st(u),O=1<<f;r[f]=-1,u&=~O}s!==0&&Rn(e,s,n)}function Bo(){return(Gt&6)===0?(ml(0),!1):!0}function m0(){if(xt!==null){if(Ft===0)var e=xt.return;else e=xt,ma=yi=null,Dc(e),$i=null,il=0,e=xt;for(;e!==null;)jd(e.alternate,e),e=e.return;xt=null}}function lr(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,l3(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),m0(),$t=e,xt=s=fa(e.current,null),Rt=n,Ft=0,gs=null,Fa=!1,sr=nn(e,n),o0=!1,ar=Ds=u0=xi=Xa=vn=0,us=dl=null,c0=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var u=31-st(r),f=1<<u;n|=e[u],r&=~f}return Aa=n,eo(),s}function c_(e,n){St=null,S.H=go,n===Kr||n===uo?(n=Mf(),Ft=3):n===xf?(n=Mf(),Ft=4):Ft=n===Rd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gs=n,xt===null&&(vn=1,wo(e,Ms(n,e.current)))}function h_(){var e=S.H;return S.H=go,e===null?go:e}function f_(){var e=S.A;return S.A=Uv,e}function p0(){vn=4,Fa||(Rt&4194048)!==Rt&&Os.current!==null||(sr=!0),(Xa&134217727)===0&&(xi&134217727)===0||$t===null||Qa($t,Rt,Ds,!1)}function v0(e,n,s){var r=Gt;Gt|=2;var u=h_(),f=f_();($t!==e||Rt!==n)&&(Do=null,lr(e,n)),n=!1;var O=vn;e:do try{if(Ft!==0&&xt!==null){var U=xt,se=gs;switch(Ft){case 8:m0(),O=6;break e;case 3:case 2:case 9:case 6:Os.current===null&&(n=!0);var ve=Ft;if(Ft=0,gs=null,or(e,U,se,ve),s&&sr){O=0;break e}break;default:ve=Ft,Ft=0,gs=null,or(e,U,se,ve)}}Fv(),O=vn;break}catch(Re){c_(e,Re)}while(!0);return n&&e.shellSuspendCounter++,ma=yi=null,Gt=r,S.H=u,S.A=f,xt===null&&($t=null,Rt=0,eo()),O}function Fv(){for(;xt!==null;)d_(xt)}function Xv(e,n){var s=Gt;Gt|=2;var r=h_(),u=f_();$t!==e||Rt!==n?(Do=null,Oo=nt()+500,lr(e,n)):sr=nn(e,n);e:do try{if(Ft!==0&&xt!==null){n=xt;var f=gs;t:switch(Ft){case 1:Ft=0,gs=null,or(e,n,f,1);break;case 2:case 9:if(wf(f)){Ft=0,gs=null,__(n);break}n=function(){Ft!==2&&Ft!==9||$t!==e||(Ft=7),na(e)},f.then(n,n);break e;case 3:Ft=7;break e;case 4:Ft=5;break e;case 7:wf(f)?(Ft=0,gs=null,__(n)):(Ft=0,gs=null,or(e,n,f,7));break;case 5:var O=null;switch(xt.tag){case 26:O=xt.memoizedState;case 5:case 27:var U=xt;if(!O||W_(O)){Ft=0,gs=null;var se=U.sibling;if(se!==null)xt=se;else{var ve=U.return;ve!==null?(xt=ve,ko(ve)):xt=null}break t}}Ft=0,gs=null,or(e,n,f,5);break;case 6:Ft=0,gs=null,or(e,n,f,6);break;case 8:m0(),vn=6;break e;default:throw Error(i(462))}}Yv();break}catch(Re){c_(e,Re)}while(!0);return ma=yi=null,S.H=r,S.A=u,Gt=s,xt!==null?0:($t=null,Rt=0,eo(),vn)}function Yv(){for(;xt!==null&&!ge();)d_(xt)}function d_(e){var n=zd(e.alternate,e,Aa);e.memoizedProps=e.pendingProps,n===null?ko(e):xt=n}function __(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=kd(s,n,n.pendingProps,n.type,void 0,Rt);break;case 11:n=kd(s,n,n.pendingProps,n.type.render,n.ref,Rt);break;case 5:Dc(n);default:jd(s,n),n=xt=mf(n,Aa),n=zd(s,n,Aa)}e.memoizedProps=e.pendingProps,n===null?ko(e):xt=n}function or(e,n,s,r){ma=yi=null,Dc(n),$i=null,il=0;var u=n.return;try{if(Vv(e,u,n,s,Rt)){vn=1,wo(e,Ms(s,e.current)),xt=null;return}}catch(f){if(u!==null)throw xt=u,f;vn=1,wo(e,Ms(s,e.current)),xt=null;return}n.flags&32768?(Vt||r===1?e=!0:sr||(Rt&536870912)!==0?e=!1:(Fa=e=!0,(r===2||r===9||r===3||r===6)&&(r=Os.current,r!==null&&r.tag===13&&(r.flags|=16384))),m_(n,e)):ko(n)}function ko(e){var n=e;do{if((n.flags&32768)!==0){m_(n,Fa);return}e=n.return;var s=Lv(n.alternate,n,Aa);if(s!==null){xt=s;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);vn===0&&(vn=5)}function m_(e,n){do{var s=Iv(e.alternate,e);if(s!==null){s.flags&=32767,xt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=s}while(e!==null);vn=6,xt=null}function p_(e,n,s,r,u,f,O,U,se){e.cancelPendingCommit=null;do Vo();while(jn!==0);if((Gt&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(f=n.lanes|n.childLanes,f|=lc,ws(e,s,f,O,U,se),e===$t&&(xt=$t=null,Rt=0),ir=n,Za=e,rr=s,f0=f,d0=u,r_=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Kv(qe,function(){return S_(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=S.T,S.T=null,u=B.p,B.p=2,O=Gt,Gt|=4;try{Hv(e,n,s)}finally{Gt=O,B.p=u,S.T=r}}jn=1,v_(),y_(),b_()}}function v_(){if(jn===1){jn=0;var e=Za,n=ir,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=S.T,S.T=null;var r=B.p;B.p=2;var u=Gt;Gt|=4;try{$d(n,e);var f=C0,O=af(e.containerInfo),U=f.focusedElem,se=f.selectionRange;if(O!==U&&U&&U.ownerDocument&&sf(U.ownerDocument.documentElement,U)){if(se!==null&&nc(U)){var ve=se.start,Re=se.end;if(Re===void 0&&(Re=ve),"selectionStart"in U)U.selectionStart=ve,U.selectionEnd=Math.min(Re,U.value.length);else{var Be=U.ownerDocument||document,be=Be&&Be.defaultView||window;if(be.getSelection){var Se=be.getSelection(),dt=U.textContent.length,ht=Math.min(se.start,dt),Wt=se.end===void 0?ht:Math.min(se.end,dt);!Se.extend&&ht>Wt&&(O=Wt,Wt=ht,ht=O);var _e=nf(U,ht),ue=nf(U,Wt);if(_e&&ue&&(Se.rangeCount!==1||Se.anchorNode!==_e.node||Se.anchorOffset!==_e.offset||Se.focusNode!==ue.node||Se.focusOffset!==ue.offset)){var pe=Be.createRange();pe.setStart(_e.node,_e.offset),Se.removeAllRanges(),ht>Wt?(Se.addRange(pe),Se.extend(ue.node,ue.offset)):(pe.setEnd(ue.node,ue.offset),Se.addRange(pe))}}}}for(Be=[],Se=U;Se=Se.parentNode;)Se.nodeType===1&&Be.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Be.length;U++){var Ne=Be[U];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}Zo=!!R0,C0=R0=null}finally{Gt=u,B.p=r,S.T=s}}e.current=n,jn=2}}function y_(){if(jn===2){jn=0;var e=Za,n=ir,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=S.T,S.T=null;var r=B.p;B.p=2;var u=Gt;Gt|=4;try{Wd(e,n.alternate,n)}finally{Gt=u,B.p=r,S.T=s}}jn=3}}function b_(){if(jn===4||jn===3){jn=0,Ie();var e=Za,n=ir,s=rr,r=r_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?jn=5:(jn=0,ir=Za=null,g_(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Ya=null),te(s),n=n.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(ct,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=S.T,u=B.p,B.p=2,S.T=null;try{for(var f=e.onRecoverableError,O=0;O<r.length;O++){var U=r[O];f(U.value,{componentStack:U.stack})}}finally{S.T=n,B.p=u}}(rr&3)!==0&&Vo(),na(e),u=e.pendingLanes,(s&4194090)!==0&&(u&42)!==0?e===_0?_l++:(_l=0,_0=e):_l=0,ml(0)}}function g_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Qr(n)))}function Vo(e){return v_(),y_(),b_(),S_()}function S_(){if(jn!==5)return!1;var e=Za,n=f0;f0=0;var s=te(rr),r=S.T,u=B.p;try{B.p=32>s?32:s,S.T=null,s=d0,d0=null;var f=Za,O=rr;if(jn=0,ir=Za=null,rr=0,(Gt&6)!==0)throw Error(i(331));var U=Gt;if(Gt|=4,a_(f.current),t_(f,f.current,O,s),Gt=U,ml(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(ct,f)}catch{}return!0}finally{B.p=u,S.T=r,g_(e,n)}}function T_(e,n,s){n=Ms(s,n),n=Yc(e.stateNode,n,2),e=La(e,n,2),e!==null&&(zn(e,2),na(e))}function Pt(e,n,s){if(e.tag===3)T_(e,e,s);else for(;n!==null;){if(n.tag===3){T_(n,e,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ya===null||!Ya.has(r))){e=Ms(s,e),s=Ed(2),r=La(n,s,2),r!==null&&(Md(s,r,n,e),zn(r,2),na(r));break}}n=n.return}}function y0(e,n,s){var r=e.pingCache;if(r===null){r=e.pingCache=new jv;var u=new Set;r.set(n,u)}else u=r.get(n),u===void 0&&(u=new Set,r.set(n,u));u.has(s)||(o0=!0,u.add(s),e=Zv.bind(null,e,n,s),n.then(e,e))}function Zv(e,n,s){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,$t===e&&(Rt&s)===s&&(vn===4||vn===3&&(Rt&62914560)===Rt&&300>nt()-h0?(Gt&2)===0&&lr(e,0):u0|=s,ar===Rt&&(ar=0)),na(e)}function A_(e,n){n===0&&(n=Yn()),e=Gi(e,n),e!==null&&(zn(e,n),na(e))}function Qv(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),A_(e,s)}function Wv(e,n){var s=0;switch(e.tag){case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(n),A_(e,s)}function Kv(e,n){return Ve(e,n)}var qo=null,ur=null,b0=!1,Lo=!1,g0=!1,wi=0;function na(e){e!==ur&&e.next===null&&(ur===null?qo=ur=e:ur=ur.next=e),Lo=!0,b0||(b0=!0,Jv())}function ml(e,n){if(!g0&&Lo){g0=!0;do for(var s=!1,r=qo;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var f=0;else{var O=r.suspendedLanes,U=r.pingedLanes;f=(1<<31-st(42|e)+1)-1,f&=u&~(O&~U),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,M_(r,f))}else f=Rt,f=cn(r,r===$t?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||nn(r,f)||(s=!0,M_(r,f));r=r.next}while(s);g0=!1}}function Pv(){x_()}function x_(){Lo=b0=!1;var e=0;wi!==0&&(r3()&&(e=wi),wi=0);for(var n=nt(),s=null,r=qo;r!==null;){var u=r.next,f=w_(r,n);f===0?(r.next=null,s===null?qo=u:s.next=u,u===null&&(ur=s)):(s=r,(e!==0||(f&3)!==0)&&(Lo=!0)),r=u}ml(e)}function w_(e,n){for(var s=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var O=31-st(f),U=1<<O,se=u[O];se===-1?((U&s)===0||(U&r)!==0)&&(u[O]=Xn(U,n)):se<=n&&(e.expiredLanes|=U),f&=~U}if(n=$t,s=Rt,s=cn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&je(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||nn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(r!==null&&je(r),te(s)){case 2:case 8:s=Ce;break;case 32:s=qe;break;case 268435456:s=Ye;break;default:s=qe}return r=E_.bind(null,e),s=Ve(s,r),e.callbackPriority=n,e.callbackNode=s,n}return r!==null&&r!==null&&je(r),e.callbackPriority=2,e.callbackNode=null,2}function E_(e,n){if(jn!==0&&jn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Vo()&&e.callbackNode!==s)return null;var r=Rt;return r=cn(e,e===$t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(o_(e,r,n),w_(e,nt()),e.callbackNode!=null&&e.callbackNode===s?E_.bind(null,e):null)}function M_(e,n){if(Vo())return null;o_(e,n,!0)}function Jv(){o3(function(){(Gt&6)!==0?Ve(I,Pv):x_()})}function S0(){return wi===0&&(wi=is()),wi}function R_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:an(""+e)}function C_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function $v(e,n,s,r,u){if(n==="submit"&&s&&s.stateNode===u){var f=R_((u[fe]||null).action),O=r.submitter;O&&(n=(n=O[fe]||null)?R_(n.formAction):O.getAttribute("formAction"),n!==null&&(f=n,O=null));var U=new Pl("action","action",null,r,u);e.push({event:U,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(wi!==0){var se=O?C_(u,O):new FormData(u);Uc(s,{pending:!0,data:se,method:u.method,action:f},null,se)}}else typeof f=="function"&&(U.preventDefault(),se=O?C_(u,O):new FormData(u),Uc(s,{pending:!0,data:se,method:u.method,action:f},f,se))},currentTarget:u}]})}}for(var T0=0;T0<rc.length;T0++){var A0=rc[T0],e3=A0.toLowerCase(),t3=A0[0].toUpperCase()+A0.slice(1);Hs(e3,"on"+t3)}Hs(of,"onAnimationEnd"),Hs(uf,"onAnimationIteration"),Hs(cf,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs(yv,"onTransitionRun"),Hs(bv,"onTransitionStart"),Hs(gv,"onTransitionCancel"),Hs(hf,"onTransitionEnd"),Et("onMouseEnter",["mouseout","mouseover"]),Et("onMouseLeave",["mouseout","mouseover"]),Et("onPointerEnter",["pointerout","pointerover"]),Et("onPointerLeave",["pointerout","pointerover"]),$e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$e("onBeforeInput",["compositionend","keypress","textInput","paste"]),$e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function N_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],u=r.event;r=r.listeners;e:{var f=void 0;if(n)for(var O=r.length-1;0<=O;O--){var U=r[O],se=U.instance,ve=U.currentTarget;if(U=U.listener,se!==f&&u.isPropagationStopped())break e;f=U,u.currentTarget=ve;try{f(u)}catch(Re){xo(Re)}u.currentTarget=null,f=se}else for(O=0;O<r.length;O++){if(U=r[O],se=U.instance,ve=U.currentTarget,U=U.listener,se!==f&&u.isPropagationStopped())break e;f=U,u.currentTarget=ve;try{f(u)}catch(Re){xo(Re)}u.currentTarget=null,f=se}}}}function wt(e,n){var s=n[Ae];s===void 0&&(s=n[Ae]=new Set);var r=e+"__bubble";s.has(r)||(O_(n,e,2,!1),s.add(r))}function x0(e,n,s){var r=0;n&&(r|=4),O_(s,e,r,n)}var Io="_reactListening"+Math.random().toString(36).slice(2);function w0(e){if(!e[Io]){e[Io]=!0,Xe.forEach(function(s){s!=="selectionchange"&&(n3.has(s)||x0(s,!1,e),x0(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Io]||(n[Io]=!0,x0("selectionchange",!1,n))}}function O_(e,n,s,r){switch(t2(n)){case 2:var u=C3;break;case 8:u=N3;break;default:u=H0}s=u.bind(null,n,s,e),u=void 0,!Zu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function E0(e,n,s,r,u){var f=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var O=r.tag;if(O===3||O===4){var U=r.stateNode.containerInfo;if(U===u)break;if(O===4)for(O=r.return;O!==null;){var se=O.tag;if((se===3||se===4)&&O.stateNode.containerInfo===u)return;O=O.return}for(;U!==null;){if(O=Ze(U),O===null)return;if(se=O.tag,se===5||se===6||se===26||se===27){r=f=O;continue e}U=U.parentNode}}r=r.return}L1(function(){var ve=f,Re=ms(s),Be=[];e:{var be=ff.get(e);if(be!==void 0){var Se=Pl,dt=e;switch(e){case"keypress":if(Wl(s)===0)break e;case"keydown":case"keyup":Se=Kp;break;case"focusin":dt="focus",Se=Pu;break;case"focusout":dt="blur",Se=Pu;break;case"beforeblur":case"afterblur":Se=Pu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=z1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=Ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=$p;break;case of:case uf:case cf:Se=Up;break;case hf:Se=tv;break;case"scroll":case"scrollend":Se=qp;break;case"wheel":Se=sv;break;case"copy":case"cut":case"paste":Se=Gp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=j1;break;case"toggle":case"beforetoggle":Se=iv}var ht=(n&4)!==0,Wt=!ht&&(e==="scroll"||e==="scrollend"),_e=ht?be!==null?be+"Capture":null:be;ht=[];for(var ue=ve,pe;ue!==null;){var Ne=ue;if(pe=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||pe===null||_e===null||(Ne=Vr(ue,_e),Ne!=null&&ht.push(vl(ue,Ne,pe))),Wt)break;ue=ue.return}0<ht.length&&(be=new Se(be,dt,null,s,Re),Be.push({event:be,listeners:ht}))}}if((n&7)===0){e:{if(be=e==="mouseover"||e==="pointerover",Se=e==="mouseout"||e==="pointerout",be&&s!==Qn&&(dt=s.relatedTarget||s.fromElement)&&(Ze(dt)||dt[ce]))break e;if((Se||be)&&(be=Re.window===Re?Re:(be=Re.ownerDocument)?be.defaultView||be.parentWindow:window,Se?(dt=s.relatedTarget||s.toElement,Se=ve,dt=dt?Ze(dt):null,dt!==null&&(Wt=c(dt),ht=dt.tag,dt!==Wt||ht!==5&&ht!==27&&ht!==6)&&(dt=null)):(Se=null,dt=ve),Se!==dt)){if(ht=z1,Ne="onMouseLeave",_e="onMouseEnter",ue="mouse",(e==="pointerout"||e==="pointerover")&&(ht=j1,Ne="onPointerLeave",_e="onPointerEnter",ue="pointer"),Wt=Se==null?be:Fe(Se),pe=dt==null?be:Fe(dt),be=new ht(Ne,ue+"leave",Se,s,Re),be.target=Wt,be.relatedTarget=pe,Ne=null,Ze(Re)===ve&&(ht=new ht(_e,ue+"enter",dt,s,Re),ht.target=pe,ht.relatedTarget=Wt,Ne=ht),Wt=Ne,Se&&dt)t:{for(ht=Se,_e=dt,ue=0,pe=ht;pe;pe=cr(pe))ue++;for(pe=0,Ne=_e;Ne;Ne=cr(Ne))pe++;for(;0<ue-pe;)ht=cr(ht),ue--;for(;0<pe-ue;)_e=cr(_e),pe--;for(;ue--;){if(ht===_e||_e!==null&&ht===_e.alternate)break t;ht=cr(ht),_e=cr(_e)}ht=null}else ht=null;Se!==null&&D_(Be,be,Se,ht,!1),dt!==null&&Wt!==null&&D_(Be,Wt,dt,ht,!0)}}e:{if(be=ve?Fe(ve):window,Se=be.nodeName&&be.nodeName.toLowerCase(),Se==="select"||Se==="input"&&be.type==="file")var tt=K1;else if(Q1(be))if(P1)tt=mv;else{tt=dv;var Tt=fv}else Se=be.nodeName,!Se||Se.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?ve&&Cn(ve.elementType)&&(tt=K1):tt=_v;if(tt&&(tt=tt(e,ve))){W1(Be,tt,s,Re);break e}Tt&&Tt(e,be,ve),e==="focusout"&&ve&&be.type==="number"&&ve.memoizedProps.value!=null&&Le(be,"number",be.value)}switch(Tt=ve?Fe(ve):window,e){case"focusin":(Q1(Tt)||Tt.contentEditable==="true")&&(zi=Tt,sc=ve,Gr=null);break;case"focusout":Gr=sc=zi=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,rf(Be,s,Re);break;case"selectionchange":if(vv)break;case"keydown":case"keyup":rf(Be,s,Re)}var it;if($u)e:{switch(e){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Hi?Y1(e,s)&&(ft="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ft="onCompositionStart");ft&&(G1&&s.locale!=="ko"&&(Hi||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Hi&&(it=I1()):(Ba=Re,Qu="value"in Ba?Ba.value:Ba.textContent,Hi=!0)),Tt=Ho(ve,ft),0<Tt.length&&(ft=new U1(ft,e,null,s,Re),Be.push({event:ft,listeners:Tt}),it?ft.data=it:(it=Z1(s),it!==null&&(ft.data=it)))),(it=lv?ov(e,s):uv(e,s))&&(ft=Ho(ve,"onBeforeInput"),0<ft.length&&(Tt=new U1("onBeforeInput","beforeinput",null,s,Re),Be.push({event:Tt,listeners:ft}),Tt.data=it)),$v(Be,e,ve,s,Re)}N_(Be,n)})}function vl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ho(e,n){for(var s=n+"Capture",r=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Vr(e,s),u!=null&&r.unshift(vl(e,u,f)),u=Vr(e,n),u!=null&&r.push(vl(e,u,f))),e.tag===3)return r;e=e.return}return[]}function cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function D_(e,n,s,r,u){for(var f=n._reactName,O=[];s!==null&&s!==r;){var U=s,se=U.alternate,ve=U.stateNode;if(U=U.tag,se!==null&&se===r)break;U!==5&&U!==26&&U!==27||ve===null||(se=ve,u?(ve=Vr(s,f),ve!=null&&O.unshift(vl(s,ve,se))):u||(ve=Vr(s,f),ve!=null&&O.push(vl(s,ve,se)))),s=s.return}O.length!==0&&e.push({event:n,listeners:O})}var s3=/\r\n?/g,a3=/\u0000|\uFFFD/g;function B_(e){return(typeof e=="string"?e:""+e).replace(s3,`
`).replace(a3,"")}function k_(e,n){return n=B_(n),B_(e)===n}function zo(){}function Qt(e,n,s,r,u,f){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||Ct(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&Ct(e,""+r);break;case"className":jt(e,"class",r);break;case"tabIndex":jt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":jt(e,s,r);break;case"style":Ht(e,r,f);break;case"data":if(n!=="object"){jt(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=an(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Qt(e,n,"name",u.name,u,null),Qt(e,n,"formEncType",u.formEncType,u,null),Qt(e,n,"formMethod",u.formMethod,u,null),Qt(e,n,"formTarget",u.formTarget,u,null)):(Qt(e,n,"encType",u.encType,u,null),Qt(e,n,"method",u.method,u,null),Qt(e,n,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=an(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=zo);break;case"onScroll":r!=null&&wt("scroll",e);break;case"onScrollEnd":r!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(s=r.__html,s!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=an(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":wt("beforetoggle",e),wt("toggle",e),xn(e,"popover",r);break;case"xlinkActuate":yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":yt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":yt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":yt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":yt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":xn(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Zn.get(s)||s,xn(e,s,r))}}function M0(e,n,s,r,u,f){switch(s){case"style":Ht(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(s=r.__html,s!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof r=="string"?Ct(e,r):(typeof r=="number"||typeof r=="bigint")&&Ct(e,""+r);break;case"onScroll":r!=null&&wt("scroll",e);break;case"onScrollEnd":r!=null&&wt("scrollend",e);break;case"onClick":r!=null&&(e.onclick=zo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!De.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),n=s.slice(2,u?s.length-7:void 0),f=e[fe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,u),typeof r=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,r,u);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):xn(e,s,r)}}}function Gn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var r=!1,u=!1,f;for(f in s)if(s.hasOwnProperty(f)){var O=s[f];if(O!=null)switch(f){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Qt(e,n,f,O,s,null)}}u&&Qt(e,n,"srcSet",s.srcSet,s,null),r&&Qt(e,n,"src",s.src,s,null);return;case"input":wt("invalid",e);var U=f=O=u=null,se=null,ve=null;for(r in s)if(s.hasOwnProperty(r)){var Re=s[r];if(Re!=null)switch(r){case"name":u=Re;break;case"type":O=Re;break;case"checked":se=Re;break;case"defaultChecked":ve=Re;break;case"value":f=Re;break;case"defaultValue":U=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,n));break;default:Qt(e,n,r,Re,s,null)}}he(e,f,U,se,ve,O,u,!1),oa(e);return;case"select":wt("invalid",e),r=O=f=null;for(u in s)if(s.hasOwnProperty(u)&&(U=s[u],U!=null))switch(u){case"value":f=U;break;case"defaultValue":O=U;break;case"multiple":r=U;default:Qt(e,n,u,U,s,null)}n=f,s=O,e.multiple=!!r,n!=null?Ke(e,!!r,n,!1):s!=null&&Ke(e,!!r,s,!0);return;case"textarea":wt("invalid",e),f=u=r=null;for(O in s)if(s.hasOwnProperty(O)&&(U=s[O],U!=null))switch(O){case"value":r=U;break;case"defaultValue":u=U;break;case"children":f=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(91));break;default:Qt(e,n,O,U,s,null)}ut(e,r,u,f),oa(e);return;case"option":for(se in s)if(s.hasOwnProperty(se)&&(r=s[se],r!=null))switch(se){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Qt(e,n,se,r,s,null)}return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(r=0;r<pl.length;r++)wt(pl[r],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in s)if(s.hasOwnProperty(ve)&&(r=s[ve],r!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Qt(e,n,ve,r,s,null)}return;default:if(Cn(n)){for(Re in s)s.hasOwnProperty(Re)&&(r=s[Re],r!==void 0&&M0(e,n,Re,r,s,void 0));return}}for(U in s)s.hasOwnProperty(U)&&(r=s[U],r!=null&&Qt(e,n,U,r,s,null))}function i3(e,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,O=null,U=null,se=null,ve=null,Re=null;for(Se in s){var Be=s[Se];if(s.hasOwnProperty(Se)&&Be!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":se=Be;default:r.hasOwnProperty(Se)||Qt(e,n,Se,null,r,Be)}}for(var be in r){var Se=r[be];if(Be=s[be],r.hasOwnProperty(be)&&(Se!=null||Be!=null))switch(be){case"type":f=Se;break;case"name":u=Se;break;case"checked":ve=Se;break;case"defaultChecked":Re=Se;break;case"value":O=Se;break;case"defaultValue":U=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(i(137,n));break;default:Se!==Be&&Qt(e,n,be,Se,r,Be)}}ca(e,O,U,se,ve,Re,f,u);return;case"select":Se=O=U=be=null;for(f in s)if(se=s[f],s.hasOwnProperty(f)&&se!=null)switch(f){case"value":break;case"multiple":Se=se;default:r.hasOwnProperty(f)||Qt(e,n,f,null,r,se)}for(u in r)if(f=r[u],se=s[u],r.hasOwnProperty(u)&&(f!=null||se!=null))switch(u){case"value":be=f;break;case"defaultValue":U=f;break;case"multiple":O=f;default:f!==se&&Qt(e,n,u,f,r,se)}n=U,s=O,r=Se,be!=null?Ke(e,!!s,be,!1):!!r!=!!s&&(n!=null?Ke(e,!!s,n,!0):Ke(e,!!s,s?[]:"",!1));return;case"textarea":Se=be=null;for(U in s)if(u=s[U],s.hasOwnProperty(U)&&u!=null&&!r.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Qt(e,n,U,null,r,u)}for(O in r)if(u=r[O],f=s[O],r.hasOwnProperty(O)&&(u!=null||f!=null))switch(O){case"value":be=u;break;case"defaultValue":Se=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&Qt(e,n,O,u,r,f)}pt(e,be,Se);return;case"option":for(var dt in s)if(be=s[dt],s.hasOwnProperty(dt)&&be!=null&&!r.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:Qt(e,n,dt,null,r,be)}for(se in r)if(be=r[se],Se=s[se],r.hasOwnProperty(se)&&be!==Se&&(be!=null||Se!=null))switch(se){case"selected":e.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Qt(e,n,se,be,r,Se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in s)be=s[ht],s.hasOwnProperty(ht)&&be!=null&&!r.hasOwnProperty(ht)&&Qt(e,n,ht,null,r,be);for(ve in r)if(be=r[ve],Se=s[ve],r.hasOwnProperty(ve)&&be!==Se&&(be!=null||Se!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,n));break;default:Qt(e,n,ve,be,r,Se)}return;default:if(Cn(n)){for(var Wt in s)be=s[Wt],s.hasOwnProperty(Wt)&&be!==void 0&&!r.hasOwnProperty(Wt)&&M0(e,n,Wt,void 0,r,be);for(Re in r)be=r[Re],Se=s[Re],!r.hasOwnProperty(Re)||be===Se||be===void 0&&Se===void 0||M0(e,n,Re,be,r,Se);return}}for(var _e in s)be=s[_e],s.hasOwnProperty(_e)&&be!=null&&!r.hasOwnProperty(_e)&&Qt(e,n,_e,null,r,be);for(Be in r)be=r[Be],Se=s[Be],!r.hasOwnProperty(Be)||be===Se||be==null&&Se==null||Qt(e,n,Be,be,r,Se)}var R0=null,C0=null;function Uo(e){return e.nodeType===9?e:e.ownerDocument}function V_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function N0(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var O0=null;function r3(){var e=window.event;return e&&e.type==="popstate"?e===O0?!1:(O0=e,!0):(O0=null,!1)}var L_=typeof setTimeout=="function"?setTimeout:void 0,l3=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,o3=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(e){return I_.resolve(null).then(e).catch(u3)}:L_;function u3(e){setTimeout(function(){throw e})}function Wa(e){return e==="head"}function H_(e,n){var s=n,r=0,u=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<r&&8>r){s=r;var O=e.ownerDocument;if(s&1&&yl(O.documentElement),s&2&&yl(O.body),s&4)for(s=O.head,yl(s),O=s.firstChild;O;){var U=O.nextSibling,se=O.nodeName;O[Je]||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&O.rel.toLowerCase()==="stylesheet"||s.removeChild(O),O=U}}if(u===0){e.removeChild(f),El(n);return}u--}else s==="$"||s==="$?"||s==="$!"?u++:r=s.charCodeAt(0)-48;else r=0;s=f}while(s);El(n)}function D0(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":D0(s),Oe(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function c3(e,n,s,r){for(;e.nodeType===1;){var u=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Je])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Us(e.nextSibling),e===null)break}return null}function h3(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Us(e.nextSibling),e===null))return null;return e}function B0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function f3(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Us(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var k0=null;function z_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function U_(e,n,s){switch(n=Uo(s),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function yl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Oe(e)}var Bs=new Map,j_=new Set;function jo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xa=B.d;B.d={f:d3,r:_3,D:m3,C:p3,L:v3,m:y3,X:g3,S:b3,M:S3};function d3(){var e=xa.f(),n=Bo();return e||n}function _3(e){var n=ye(e);n!==null&&n.tag===5&&n.type==="form"?od(n):xa.r(e)}var hr=typeof document>"u"?null:document;function G_(e,n,s){var r=hr;if(r&&typeof n=="string"&&n){var u=Vn(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),j_.has(u)||(j_.add(u),e={rel:e,crossOrigin:s,href:n},r.querySelector(u)===null&&(n=r.createElement("link"),Gn(n,"link",e),Me(n),r.head.appendChild(n)))}}function m3(e){xa.D(e),G_("dns-prefetch",e,null)}function p3(e,n){xa.C(e,n),G_("preconnect",e,n)}function v3(e,n,s){xa.L(e,n,s);var r=hr;if(r&&e&&n){var u='link[rel="preload"][as="'+Vn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+Vn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+Vn(s.imageSizes)+'"]')):u+='[href="'+Vn(e)+'"]';var f=u;switch(n){case"style":f=fr(e);break;case"script":f=dr(e)}Bs.has(f)||(e=g({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Bs.set(f,e),r.querySelector(u)!==null||n==="style"&&r.querySelector(bl(f))||n==="script"&&r.querySelector(gl(f))||(n=r.createElement("link"),Gn(n,"link",e),Me(n),r.head.appendChild(n)))}}function y3(e,n){xa.m(e,n);var s=hr;if(s&&e){var r=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Vn(r)+'"][href="'+Vn(e)+'"]',f=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=dr(e)}if(!Bs.has(f)&&(e=g({rel:"modulepreload",href:e},n),Bs.set(f,e),s.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(gl(f)))return}r=s.createElement("link"),Gn(r,"link",e),Me(r),s.head.appendChild(r)}}}function b3(e,n,s){xa.S(e,n,s);var r=hr;if(r&&e){var u=lt(r).hoistableStyles,f=fr(e);n=n||"default";var O=u.get(f);if(!O){var U={loading:0,preload:null};if(O=r.querySelector(bl(f)))U.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Bs.get(f))&&V0(e,s);var se=O=r.createElement("link");Me(se),Gn(se,"link",e),se._p=new Promise(function(ve,Re){se.onload=ve,se.onerror=Re}),se.addEventListener("load",function(){U.loading|=1}),se.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Go(O,n,r)}O={type:"stylesheet",instance:O,count:1,state:U},u.set(f,O)}}}function g3(e,n){xa.X(e,n);var s=hr;if(s&&e){var r=lt(s).hoistableScripts,u=dr(e),f=r.get(u);f||(f=s.querySelector(gl(u)),f||(e=g({src:e,async:!0},n),(n=Bs.get(u))&&q0(e,n),f=s.createElement("script"),Me(f),Gn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function S3(e,n){xa.M(e,n);var s=hr;if(s&&e){var r=lt(s).hoistableScripts,u=dr(e),f=r.get(u);f||(f=s.querySelector(gl(u)),f||(e=g({src:e,async:!0,type:"module"},n),(n=Bs.get(u))&&q0(e,n),f=s.createElement("script"),Me(f),Gn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function F_(e,n,s,r){var u=(u=z.current)?jo(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=fr(s.href),s=lt(u).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=fr(s.href);var f=lt(u).hoistableStyles,O=f.get(e);if(O||(u=u.ownerDocument||u,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,O),(f=u.querySelector(bl(e)))&&!f._p&&(O.instance=f,O.state.loading=5),Bs.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Bs.set(e,s),f||T3(u,e,s,O.state))),n&&r===null)throw Error(i(528,""));return O}if(n&&r!==null)throw Error(i(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=dr(s),s=lt(u).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function fr(e){return'href="'+Vn(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function X_(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function T3(e,n,s,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),Gn(n,"link",s),Me(n),e.head.appendChild(n))}function dr(e){return'[src="'+Vn(e)+'"]'}function gl(e){return"script[async]"+e}function Y_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+Vn(s.href)+'"]');if(r)return n.instance=r,Me(r),r;var u=g({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Me(r),Gn(r,"style",u),Go(r,s.precedence,e),n.instance=r;case"stylesheet":u=fr(s.href);var f=e.querySelector(bl(u));if(f)return n.state.loading|=4,n.instance=f,Me(f),f;r=X_(s),(u=Bs.get(u))&&V0(r,u),f=(e.ownerDocument||e).createElement("link"),Me(f);var O=f;return O._p=new Promise(function(U,se){O.onload=U,O.onerror=se}),Gn(f,"link",r),n.state.loading|=4,Go(f,s.precedence,e),n.instance=f;case"script":return f=dr(s.src),(u=e.querySelector(gl(f)))?(n.instance=u,Me(u),u):(r=s,(u=Bs.get(f))&&(r=g({},s),q0(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),Me(u),Gn(u,"link",r),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,Go(r,s.precedence,e));return n.instance}function Go(e,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,f=u,O=0;O<r.length;O++){var U=r[O];if(U.dataset.precedence===n)f=U;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function V0(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function q0(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Fo=null;function Z_(e,n,s){if(Fo===null){var r=new Map,u=Fo=new Map;u.set(s,r)}else u=Fo,r=u.get(s),r||(r=new Map,u.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),u=0;u<s.length;u++){var f=s[u];if(!(f[Je]||f[re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var O=f.getAttribute(n)||"";O=e+O;var U=r.get(O);U?U.push(f):r.set(O,[f])}}return r}function Q_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function A3(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function W_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Sl=null;function x3(){}function w3(e,n,s){if(Sl===null)throw Error(i(475));var r=Sl;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=fr(s.href),f=e.querySelector(bl(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Xo.bind(r),e.then(r,r)),n.state.loading|=4,n.instance=f,Me(f);return}f=e.ownerDocument||e,s=X_(s),(u=Bs.get(u))&&V0(s,u),f=f.createElement("link"),Me(f);var O=f;O._p=new Promise(function(U,se){O.onload=U,O.onerror=se}),Gn(f,"link",s),n.instance=f}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(r.count++,n=Xo.bind(r),e.addEventListener("load",n),e.addEventListener("error",n))}}function E3(){if(Sl===null)throw Error(i(475));var e=Sl;return e.stylesheets&&e.count===0&&L0(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&L0(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Xo(){if(this.count--,this.count===0){if(this.stylesheets)L0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yo=null;function L0(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yo=new Map,n.forEach(M3,e),Yo=null,Xo.call(e))}function M3(e,n){if(!(n.state.loading&4)){var s=Yo.get(e);if(s)var r=s.get(null);else{s=new Map,Yo.set(e,s);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var O=u[f];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(s.set(O.dataset.precedence,O),r=O)}r&&s.set(null,r)}u=n.instance,O=u.getAttribute("data-precedence"),f=s.get(O)||r,f===r&&s.set(null,u),s.set(O,u),this.count++,r=Xo.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var Tl={$$typeof:b,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function R3(e,n,s,r,u,f,O,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.hiddenUpdates=fs(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function K_(e,n,s,r,u,f,O,U,se,ve,Re,Be){return e=new R3(e,n,s,O,U,se,ve,Be),n=1,f===!0&&(n|=24),f=vs(3,null,null,n),e.current=f,f.stateNode=e,n=yc(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:r,isDehydrated:s,cache:n},Tc(f),e}function P_(e){return e?(e=Fi,e):Fi}function J_(e,n,s,r,u,f){u=P_(u),r.context===null?r.context=u:r.pendingContext=u,r=qa(n),r.payload={element:s},f=f===void 0?null:f,f!==null&&(r.callback=f),s=La(e,r,n),s!==null&&(Ts(s,e,n),Jr(s,e,n))}function $_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function I0(e,n){$_(e,n),(e=e.alternate)&&$_(e,n)}function e2(e){if(e.tag===13){var n=Gi(e,67108864);n!==null&&Ts(n,e,67108864),I0(e,67108864)}}var Zo=!0;function C3(e,n,s,r){var u=S.T;S.T=null;var f=B.p;try{B.p=2,H0(e,n,s,r)}finally{B.p=f,S.T=u}}function N3(e,n,s,r){var u=S.T;S.T=null;var f=B.p;try{B.p=8,H0(e,n,s,r)}finally{B.p=f,S.T=u}}function H0(e,n,s,r){if(Zo){var u=z0(r);if(u===null)E0(e,n,r,Qo,s),n2(e,r);else if(D3(u,e,n,s,r))r.stopPropagation();else if(n2(e,r),n&4&&-1<O3.indexOf(e)){for(;u!==null;){var f=ye(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var O=Bt(f.pendingLanes);if(O!==0){var U=f;for(U.pendingLanes|=2,U.entangledLanes|=2;O;){var se=1<<31-st(O);U.entanglements[1]|=se,O&=~se}na(f),(Gt&6)===0&&(Oo=nt()+500,ml(0))}}break;case 13:U=Gi(f,2),U!==null&&Ts(U,f,2),Bo(),I0(f,2)}if(f=z0(r),f===null&&E0(e,n,r,Qo,s),f===u)break;u=f}u!==null&&r.stopPropagation()}else E0(e,n,r,null,s)}}function z0(e){return e=ms(e),U0(e)}var Qo=null;function U0(e){if(Qo=null,e=Ze(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Qo=e,null}function t2(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(R()){case I:return 2;case Ce:return 8;case qe:case et:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var j0=!1,Ka=null,Pa=null,Ja=null,Al=new Map,xl=new Map,$a=[],O3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n2(e,n){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":Al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function wl(e,n,s,r,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:f,targetContainers:[u]},n!==null&&(n=ye(n),n!==null&&e2(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function D3(e,n,s,r,u){switch(n){case"focusin":return Ka=wl(Ka,e,n,s,r,u),!0;case"dragenter":return Pa=wl(Pa,e,n,s,r,u),!0;case"mouseover":return Ja=wl(Ja,e,n,s,r,u),!0;case"pointerover":var f=u.pointerId;return Al.set(f,wl(Al.get(f)||null,e,n,s,r,u)),!0;case"gotpointercapture":return f=u.pointerId,xl.set(f,wl(xl.get(f)||null,e,n,s,r,u)),!0}return!1}function s2(e){var n=Ze(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,de(e.priority,function(){if(s.tag===13){var r=Ss();r=Y(r);var u=Gi(s,r);u!==null&&Ts(u,s,r),I0(s,r)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=z0(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Qn=r,s.target.dispatchEvent(r),Qn=null}else return n=ye(s),n!==null&&e2(n),e.blockedOn=s,!1;n.shift()}return!0}function a2(e,n,s){Wo(e)&&s.delete(n)}function B3(){j0=!1,Ka!==null&&Wo(Ka)&&(Ka=null),Pa!==null&&Wo(Pa)&&(Pa=null),Ja!==null&&Wo(Ja)&&(Ja=null),Al.forEach(a2),xl.forEach(a2)}function Ko(e,n){e.blockedOn===n&&(e.blockedOn=null,j0||(j0=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,B3)))}var Po=null;function i2(e){Po!==e&&(Po=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Po===e&&(Po=null);for(var n=0;n<e.length;n+=3){var s=e[n],r=e[n+1],u=e[n+2];if(typeof r!="function"){if(U0(r||s)===null)continue;break}var f=ye(s);f!==null&&(e.splice(n,3),n-=3,Uc(f,{pending:!0,data:u,method:s.method,action:r},r,u))}}))}function El(e){function n(se){return Ko(se,e)}Ka!==null&&Ko(Ka,e),Pa!==null&&Ko(Pa,e),Ja!==null&&Ko(Ja,e),Al.forEach(n),xl.forEach(n);for(var s=0;s<$a.length;s++){var r=$a[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<$a.length&&(s=$a[0],s.blockedOn===null);)s2(s),s.blockedOn===null&&$a.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var u=s[r],f=s[r+1],O=u[fe]||null;if(typeof f=="function")O||i2(s);else if(O){var U=null;if(f&&f.hasAttribute("formAction")){if(u=f,O=f[fe]||null)U=O.formAction;else if(U0(u)!==null)continue}else U=O.action;typeof U=="function"?s[r+1]=U:(s.splice(r,3),r-=3),i2(s)}}}function G0(e){this._internalRoot=e}Jo.prototype.render=G0.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var s=n.current,r=Ss();J_(s,r,e,n,null,null)},Jo.prototype.unmount=G0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;J_(e.current,2,null,e,null,null),Bo(),n[ce]=null}};function Jo(e){this._internalRoot=e}Jo.prototype.unstable_scheduleHydration=function(e){if(e){var n=ie();e={blockedOn:null,target:e,priority:n};for(var s=0;s<$a.length&&n!==0&&n<$a[s].priority;s++);$a.splice(s,0,e),s===0&&s2(e)}};var r2=t.version;if(r2!=="19.1.0")throw Error(i(527,r2,"19.1.0"));B.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var k3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$o.isDisabled&&$o.supportsFiber)try{ct=$o.inject(k3),We=$o}catch{}}return Rl.createRoot=function(e,n){if(!o(e))throw Error(i(299));var s=!1,r="",u=Td,f=Ad,O=xd,U=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(O=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(U=n.unstable_transitionCallbacks)),n=K_(e,1,!1,null,null,s,r,u,f,O,U,null),e[ce]=n.current,w0(e),new G0(n)},Rl.hydrateRoot=function(e,n,s){if(!o(e))throw Error(i(299));var r=!1,u="",f=Td,O=Ad,U=xd,se=null,ve=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(O=s.onCaughtError),s.onRecoverableError!==void 0&&(U=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(se=s.unstable_transitionCallbacks),s.formState!==void 0&&(ve=s.formState)),n=K_(e,1,!0,n,s??null,r,u,f,O,U,se,ve),n.context=P_(null),s=n.current,r=Ss(),r=Y(r),u=qa(r),u.callback=null,La(s,u,r),s=r,n.current.lanes=s,zn(n,s),na(n),e[ce]=n.current,w0(e),new Jo(n)},Rl.version="19.1.0",Rl}var p2;function F3(){if(p2)return Y0.exports;p2=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Y0.exports=G3(),Y0.exports}var X3=F3();const Tm="15.1.22",v2=(l,t,a)=>({endTime:t,insertTime:a,type:"exponentialRampToValue",value:l}),y2=(l,t,a)=>({endTime:t,insertTime:a,type:"linearRampToValue",value:l}),Dh=(l,t)=>({startTime:t,type:"setValue",value:l}),Am=(l,t,a)=>({duration:a,startTime:t,type:"setValueCurve",values:l}),xm=(l,t,{startTime:a,target:i,timeConstant:o})=>i+(t-i)*Math.exp((a-l)/o),pr=l=>l.type==="exponentialRampToValue",ou=l=>l.type==="linearRampToValue",ni=l=>pr(l)||ou(l),Gh=l=>l.type==="setValue",Ma=l=>l.type==="setValueCurve",uu=(l,t,a,i)=>{const o=l[t];return o===void 0?i:ni(o)||Gh(o)?o.value:Ma(o)?o.values[o.values.length-1]:xm(a,uu(l,t-1,o.startTime,i),o)},b2=(l,t,a,i,o)=>a===void 0?[i.insertTime,o]:ni(a)?[a.endTime,a.value]:Gh(a)?[a.startTime,a.value]:Ma(a)?[a.startTime+a.duration,a.values[a.values.length-1]]:[a.startTime,uu(l,t-1,a.startTime,o)],Bh=l=>l.type==="cancelAndHold",kh=l=>l.type==="cancelScheduledValues",ti=l=>Bh(l)||kh(l)?l.cancelTime:pr(l)||ou(l)?l.endTime:l.startTime,g2=(l,t,a,{endTime:i,value:o})=>a===o?o:0<a&&0<o||a<0&&o<0?a*(o/a)**((l-t)/(i-t)):0,S2=(l,t,a,{endTime:i,value:o})=>a+(l-t)/(i-t)*(o-a),Y3=(l,t)=>{const a=Math.floor(t),i=Math.ceil(t);return a===i?l[a]:(1-(t-a))*l[a]+(1-(i-t))*l[i]},Z3=(l,{duration:t,startTime:a,values:i})=>{const o=(l-a)/t*(i.length-1);return Y3(i,o)},eu=l=>l.type==="setTarget";class Q3{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const a=ti(t);if(Bh(t)||kh(t)){const i=this._automationEvents.findIndex(c=>kh(t)&&Ma(c)?c.startTime+c.duration>=a:ti(c)>=a),o=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),Bh(t)){const c=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&ni(o)){if(c!==void 0&&eu(c))throw new Error("The internal list is malformed.");const d=c===void 0?o.insertTime:Ma(c)?c.startTime+c.duration:ti(c),y=c===void 0?this._defaultValue:Ma(c)?c.values[c.values.length-1]:c.value,m=pr(o)?g2(a,d,y,o):S2(a,d,y,o),v=pr(o)?v2(m,a,this._currenTime):y2(m,a,this._currenTime);this._automationEvents.push(v)}if(c!==void 0&&eu(c)&&this._automationEvents.push(Dh(this.getValue(a),a)),c!==void 0&&Ma(c)&&c.startTime+c.duration>a){const d=a-c.startTime,y=(c.values.length-1)/c.duration,m=Math.max(2,1+Math.ceil(d*y)),v=d/(m-1)*y,g=c.values.slice(0,m);if(v<1)for(let T=1;T<m;T+=1){const w=v*T%1;g[T]=c.values[T-1]*(1-w)+c.values[T]*w}this._automationEvents[this._automationEvents.length-1]=Am(g,c.startTime,d)}}}else{const i=this._automationEvents.findIndex(d=>ti(d)>a),o=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(o!==void 0&&Ma(o)&&ti(o)+o.duration>a)return!1;const c=pr(t)?v2(t.value,t.endTime,this._currenTime):ou(t)?y2(t.value,a,this._currenTime):t;if(i===-1)this._automationEvents.push(c);else{if(Ma(t)&&a+t.duration>ti(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,c)}}return!0}flush(t){const a=this._automationEvents.findIndex(i=>ti(i)>t);if(a>1){const i=this._automationEvents.slice(a-1),o=i[0];eu(o)&&i.unshift(Dh(uu(this._automationEvents,a-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=i}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const a=this._automationEvents.findIndex(d=>ti(d)>t),i=this._automationEvents[a],o=(a===-1?this._automationEvents.length:a)-1,c=this._automationEvents[o];if(c!==void 0&&eu(c)&&(i===void 0||!ni(i)||i.insertTime>t))return xm(t,uu(this._automationEvents,o-1,c.startTime,this._defaultValue),c);if(c!==void 0&&Gh(c)&&(i===void 0||!ni(i)))return c.value;if(c!==void 0&&Ma(c)&&(i===void 0||!ni(i)||c.startTime+c.duration>t))return t<c.startTime+c.duration?Z3(t,c):c.values[c.values.length-1];if(c!==void 0&&ni(c)&&(i===void 0||!ni(i)))return c.value;if(i!==void 0&&pr(i)){const[d,y]=b2(this._automationEvents,o,c,i,this._defaultValue);return g2(t,d,y,i)}if(i!==void 0&&ou(i)){const[d,y]=b2(this._automationEvents,o,c,i,this._defaultValue);return S2(t,d,y,i)}return this._defaultValue}}const W3=l=>({cancelTime:l,type:"cancelAndHold"}),K3=l=>({cancelTime:l,type:"cancelScheduledValues"}),P3=(l,t)=>({endTime:t,type:"exponentialRampToValue",value:l}),J3=(l,t)=>({endTime:t,type:"linearRampToValue",value:l}),$3=(l,t,a)=>({startTime:t,target:l,timeConstant:a,type:"setTarget"}),e4=()=>new DOMException("","AbortError"),t4=l=>(t,a,[i,o,c],d)=>{l(t[o],[a,i,c],y=>y[0]===a&&y[1]===i,d)},n4=l=>(t,a,i)=>{const o=[];for(let c=0;c<i.numberOfInputs;c+=1)o.push(new Set);l.set(t,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:a})},s4=l=>(t,a)=>{l.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:a})},Tr=new WeakSet,wm=new WeakMap,Fh=new WeakMap,Em=new WeakMap,Xh=new WeakMap,xu=new WeakMap,Mm=new WeakMap,Vh=new WeakMap,qh=new WeakMap,Lh=new WeakMap,Rm={construct(){return Rm}},a4=l=>{try{const t=new Proxy(l,Rm);new t}catch{return!1}return!0},T2=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,A2=(l,t)=>{const a=[];let i=l.replace(/^[\s]+/,""),o=i.match(T2);for(;o!==null;){const c=o[1].slice(1,-1),d=o[0].replace(/([\s]+)?;?$/,"").replace(c,new URL(c,t).toString());a.push(d),i=i.slice(o[0].length).replace(/^[\s]+/,""),o=i.match(T2)}return[a.join(";"),i]},x2=l=>{if(l!==void 0&&!Array.isArray(l))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},w2=l=>{if(!a4(l))throw new TypeError("The given value for processorCtor should be a constructor.");if(l.prototype===null||typeof l.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},i4=(l,t,a,i,o,c,d,y,m,v,g,T,w)=>{let q=0;return(V,E,N={credentials:"omit"})=>{const M=g.get(V);if(M!==void 0&&M.has(E))return Promise.resolve();const G=v.get(V);if(G!==void 0){const C=G.get(E);if(C!==void 0)return C}const b=c(V),Z=b.audioWorklet===void 0?o(E).then(([C,Q])=>{const[j,H]=A2(C,Q),ne=`${j};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${H}
})})(window,'_AWGS')`;return a(ne)}).then(()=>{const C=w._AWGS.pop();if(C===void 0)throw new SyntaxError;i(b.currentTime,b.sampleRate,()=>C(class{},void 0,(Q,j)=>{if(Q.trim()==="")throw t();const H=qh.get(b);if(H!==void 0){if(H.has(Q))throw t();w2(j),x2(j.parameterDescriptors),H.set(Q,j)}else w2(j),x2(j.parameterDescriptors),qh.set(b,new Map([[Q,j]]))},b.sampleRate,void 0,void 0))}):Promise.all([o(E),Promise.resolve(l(T,T))]).then(([[C,Q],j])=>{const H=q+1;q=H;const[ne,le]=A2(C,Q),$=`${ne};((AudioWorkletProcessor,registerProcessor)=>{${le}
})(${j?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${j?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${j?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${H}',class extends AudioWorkletProcessor{process(){return !1}})`,W=new Blob([$],{type:"application/javascript; charset=utf-8"}),S=URL.createObjectURL(W);return b.audioWorklet.addModule(S,N).then(()=>{if(y(b))return b;const B=d(b);return B.audioWorklet.addModule(S,N).then(()=>B)}).then(B=>{if(m===null)throw new SyntaxError;try{new m(B,`__sac${H}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(S))});return G===void 0?v.set(V,new Map([[E,Z]])):G.set(E,Z),Z.then(()=>{const C=g.get(V);C===void 0?g.set(V,new Set([E])):C.add(E)}).finally(()=>{const C=v.get(V);C!==void 0&&C.delete(E)}),Z}},Ys=(l,t)=>{const a=l.get(t);if(a===void 0)throw new Error("A value with the given key could not be found.");return a},wu=(l,t)=>{const a=Array.from(l).filter(t);if(a.length>1)throw Error("More than one element was found.");if(a.length===0)throw Error("No element was found.");const[i]=a;return l.delete(i),i},Cm=(l,t,a,i)=>{const o=Ys(l,t),c=wu(o,d=>d[0]===a&&d[1]===i);return o.size===0&&l.delete(t),c},kl=l=>Ys(Mm,l),Ar=l=>{if(Tr.has(l))throw new Error("The AudioNode is already stored.");Tr.add(l),kl(l).forEach(t=>t(!0))},Nm=l=>"port"in l,Vl=l=>{if(!Tr.has(l))throw new Error("The AudioNode is not stored.");Tr.delete(l),kl(l).forEach(t=>t(!1))},Ih=(l,t)=>{!Nm(l)&&t.every(a=>a.size===0)&&Vl(l)},r4=(l,t,a,i,o,c,d,y,m,v,g,T,w)=>{const q=new WeakMap;return(V,E,N,M,G)=>{const{activeInputs:b,passiveInputs:Z}=c(E),{outputs:C}=c(V),Q=y(V),j=H=>{const ne=m(E),le=m(V);if(H){const ee=Cm(Z,V,N,M);l(b,V,ee,!1),!G&&!T(V)&&a(le,ne,N,M),w(E)&&Ar(E)}else{const ee=i(b,V,N,M);t(Z,M,ee,!1),!G&&!T(V)&&o(le,ne,N,M);const k=d(E);if(k===0)g(E)&&Ih(E,b);else{const Te=q.get(E);Te!==void 0&&clearTimeout(Te),q.set(E,setTimeout(()=>{g(E)&&Ih(E,b)},k*1e3))}}};return v(C,[E,N,M],H=>H[0]===E&&H[1]===N&&H[2]===M,!0)?(Q.add(j),g(V)?l(b,V,[N,M,j],!0):t(Z,M,[V,N,j],!0),!0):!1}},l4=l=>(t,a,[i,o,c],d)=>{const y=t.get(i);y===void 0?t.set(i,new Set([[o,a,c]])):l(y,[o,a,c],m=>m[0]===o&&m[1]===a,d)},o4=l=>(t,a)=>{const i=l(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.connect(i).connect(t.destination);const o=()=>{a.removeEventListener("ended",o),a.disconnect(i),i.disconnect()};a.addEventListener("ended",o)},u4=l=>(t,a)=>{l(t).add(a)},c4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},h4=(l,t,a,i,o,c)=>class extends l{constructor(y,m){const v=o(y),g={...c4,...m},T=i(v,g),w=c(v)?t():null;super(y,!1,T,w),this._nativeAnalyserNode=T}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(y){this._nativeAnalyserNode.fftSize=y}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(y){const m=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=y,!(y>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=m,a()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(y){const m=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=y,!(this._nativeAnalyserNode.maxDecibels>y))throw this._nativeAnalyserNode.minDecibels=m,a()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(y){this._nativeAnalyserNode.smoothingTimeConstant=y}getByteFrequencyData(y){this._nativeAnalyserNode.getByteFrequencyData(y)}getByteTimeDomainData(y){this._nativeAnalyserNode.getByteTimeDomainData(y)}getFloatFrequencyData(y){this._nativeAnalyserNode.getFloatFrequencyData(y)}getFloatTimeDomainData(y){this._nativeAnalyserNode.getFloatTimeDomainData(y)}},Pn=(l,t)=>l.context===t,f4=(l,t,a)=>()=>{const i=new WeakMap,o=async(c,d)=>{let y=t(c);if(!Pn(y,d)){const v={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,fftSize:y.fftSize,maxDecibels:y.maxDecibels,minDecibels:y.minDecibels,smoothingTimeConstant:y.smoothingTimeConstant};y=l(d,v)}return i.set(d,y),await a(c,d,y),y};return{render(c,d){const y=i.get(d);return y!==void 0?Promise.resolve(y):o(c,d)}}},cu=l=>{try{l.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},ia=()=>new DOMException("","IndexSizeError"),Yh=l=>{l.getChannelData=(t=>a=>{try{return t.call(l,a)}catch(i){throw i.code===12?ia():i}})(l.getChannelData)},d4={numberOfChannels:1},_4=(l,t,a,i,o,c,d,y)=>{let m=null;return class Om{constructor(g){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:T,numberOfChannels:w,sampleRate:q}={...d4,...g};m===null&&(m=new o(1,1,44100));const V=i!==null&&t(c,c)?new i({length:T,numberOfChannels:w,sampleRate:q}):m.createBuffer(w,T,q);if(V.numberOfChannels===0)throw a();return typeof V.copyFromChannel!="function"?(d(V),Yh(V)):t(cu,()=>cu(V))||y(V),l.add(V),V}static[Symbol.hasInstance](g){return g!==null&&typeof g=="object"&&Object.getPrototypeOf(g)===Om.prototype||l.has(g)}}},As=-34028234663852886e22,ts=34028234663852886e22,Ra=l=>Tr.has(l),m4={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},p4=(l,t,a,i,o,c,d,y)=>class extends l{constructor(v,g){const T=c(v),w={...m4,...g},q=o(T,w),V=d(T),E=V?t():null;super(v,!1,q,E),this._audioBufferSourceNodeRenderer=E,this._isBufferNullified=!1,this._isBufferSet=w.buffer!==null,this._nativeAudioBufferSourceNode=q,this._onended=null,this._playbackRate=a(this,V,q.playbackRate,ts,As)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(v){if(this._nativeAudioBufferSourceNode.buffer=v,v!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(v){this._nativeAudioBufferSourceNode.loop=v}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(v){this._nativeAudioBufferSourceNode.loopEnd=v}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(v){this._nativeAudioBufferSourceNode.loopStart=v}get onended(){return this._onended}set onended(v){const g=typeof v=="function"?y(this,v):null;this._nativeAudioBufferSourceNode.onended=g;const T=this._nativeAudioBufferSourceNode.onended;this._onended=T!==null&&T===g?v:T}get playbackRate(){return this._playbackRate}start(v=0,g=0,T){if(this._nativeAudioBufferSourceNode.start(v,g,T),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=T===void 0?[v,g]:[v,g,T]),this.context.state!=="closed"){Ar(this);const w=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",w),Ra(this)&&Vl(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",w)}}stop(v=0){this._nativeAudioBufferSourceNode.stop(v),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=v)}},v4=(l,t,a,i,o)=>()=>{const c=new WeakMap;let d=null,y=null;const m=async(v,g)=>{let T=a(v);const w=Pn(T,g);if(!w){const q={buffer:T.buffer,channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,loop:T.loop,loopEnd:T.loopEnd,loopStart:T.loopStart,playbackRate:T.playbackRate.value};T=t(g,q),d!==null&&T.start(...d),y!==null&&T.stop(y)}return c.set(g,T),w?await l(g,v.playbackRate,T.playbackRate):await i(g,v.playbackRate,T.playbackRate),await o(v,g,T),T};return{set start(v){d=v},set stop(v){y=v},render(v,g){const T=c.get(g);return T!==void 0?Promise.resolve(T):m(v,g)}}},y4=l=>"playbackRate"in l,b4=l=>"frequency"in l&&"gain"in l,g4=l=>"offset"in l,S4=l=>!("frequency"in l)&&"gain"in l,T4=l=>"detune"in l&&"frequency"in l&&!("gain"in l),A4=l=>"pan"in l,ns=l=>Ys(wm,l),ql=l=>Ys(Em,l),Hh=(l,t)=>{const{activeInputs:a}=ns(l);a.forEach(o=>o.forEach(([c])=>{t.includes(l)||Hh(c,[...t,l])}));const i=y4(l)?[l.playbackRate]:Nm(l)?Array.from(l.parameters.values()):b4(l)?[l.Q,l.detune,l.frequency,l.gain]:g4(l)?[l.offset]:S4(l)?[l.gain]:T4(l)?[l.detune,l.frequency]:A4(l)?[l.pan]:[];for(const o of i){const c=ql(o);c!==void 0&&c.activeInputs.forEach(([d])=>Hh(d,t))}Ra(l)&&Vl(l)},Dm=l=>{Hh(l.destination,[])},x4=l=>l===void 0||typeof l=="number"||typeof l=="string"&&(l==="balanced"||l==="interactive"||l==="playback"),w4=(l,t,a,i,o,c,d,y,m)=>class extends l{constructor(g={}){if(m===null)throw new Error("Missing the native AudioContext constructor.");let T;try{T=new m(g)}catch(V){throw V.code===12&&V.message==="sampleRate is not in range"?a():V}if(T===null)throw i();if(!x4(g.latencyHint))throw new TypeError(`The provided value '${g.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(g.sampleRate!==void 0&&T.sampleRate!==g.sampleRate)throw a();super(T,2);const{latencyHint:w}=g,{sampleRate:q}=T;if(this._baseLatency=typeof T.baseLatency=="number"?T.baseLatency:w==="balanced"?512/q:w==="interactive"||w===void 0?256/q:w==="playback"?1024/q:Math.max(2,Math.min(128,Math.round(w*q/128)))*128/q,this._nativeAudioContext=T,m.name==="webkitAudioContext"?(this._nativeGainNode=T.createGain(),this._nativeOscillatorNode=T.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(T.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,T.state==="running"){this._state="suspended";const V=()=>{this._state==="suspended"&&(this._state=null),T.removeEventListener("statechange",V)};T.addEventListener("statechange",V)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Dm(this)}))}createMediaElementSource(g){return new o(this,{mediaElement:g})}createMediaStreamDestination(){return new c(this)}createMediaStreamSource(g){return new d(this,{mediaStream:g})}createMediaStreamTrackSource(g){return new y(this,{mediaStreamTrack:g})}resume(){return this._state==="suspended"?new Promise((g,T)=>{const w=()=>{this._nativeAudioContext.removeEventListener("statechange",w),this._nativeAudioContext.state==="running"?g():this.resume().then(g,T)};this._nativeAudioContext.addEventListener("statechange",w)}):this._nativeAudioContext.resume().catch(g=>{throw g===void 0||g.code===15?t():g})}suspend(){return this._nativeAudioContext.suspend().catch(g=>{throw g===void 0?t():g})}},E4=(l,t,a,i,o,c,d,y)=>class extends l{constructor(v,g){const T=c(v),w=d(T),q=o(T,g,w),V=w?t(y):null;super(v,!1,q,V),this._isNodeOfNativeOfflineAudioContext=w,this._nativeAudioDestinationNode=q}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(v){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(v>this._nativeAudioDestinationNode.maxChannelCount)throw a();this._nativeAudioDestinationNode.channelCount=v}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(v){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=v}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},M4=l=>{const t=new WeakMap,a=async(i,o)=>{const c=o.destination;return t.set(o,c),await l(i,o,c),c};return{render(i,o){const c=t.get(o);return c!==void 0?Promise.resolve(c):a(i,o)}}},R4=(l,t,a,i,o,c,d,y)=>(m,v)=>{const g=v.listener,T=()=>{const C=new Float32Array(1),Q=t(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),j=d(v);let H=!1,ne=[0,0,-1,0,1,0],le=[0,0,0];const ee=()=>{if(H)return;H=!0;const W=i(v,256,9,0);W.onaudioprocess=({inputBuffer:S})=>{const B=[c(S,C,0),c(S,C,1),c(S,C,2),c(S,C,3),c(S,C,4),c(S,C,5)];B.some((P,A)=>P!==ne[A])&&(g.setOrientation(...B),ne=B);const X=[c(S,C,6),c(S,C,7),c(S,C,8)];X.some((P,A)=>P!==le[A])&&(g.setPosition(...X),le=X)},Q.connect(W)},k=W=>S=>{S!==ne[W]&&(ne[W]=S,g.setOrientation(...ne))},Te=W=>S=>{S!==le[W]&&(le[W]=S,g.setPosition(...le))},$=(W,S,B)=>{const X=a(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:S});X.connect(Q,0,W),X.start(),Object.defineProperty(X.offset,"defaultValue",{get(){return S}});const P=l({context:m},j,X.offset,ts,As);return y(P,"value",A=>()=>A.call(P),A=>h=>{try{A.call(P,h)}catch(_){if(_.code!==9)throw _}ee(),j&&B(h)}),P.cancelAndHoldAtTime=(A=>j?()=>{throw o()}:(...h)=>{const _=A.apply(P,h);return ee(),_})(P.cancelAndHoldAtTime),P.cancelScheduledValues=(A=>j?()=>{throw o()}:(...h)=>{const _=A.apply(P,h);return ee(),_})(P.cancelScheduledValues),P.exponentialRampToValueAtTime=(A=>j?()=>{throw o()}:(...h)=>{const _=A.apply(P,h);return ee(),_})(P.exponentialRampToValueAtTime),P.linearRampToValueAtTime=(A=>j?()=>{throw o()}:(...h)=>{const _=A.apply(P,h);return ee(),_})(P.linearRampToValueAtTime),P.setTargetAtTime=(A=>j?()=>{throw o()}:(...h)=>{const _=A.apply(P,h);return ee(),_})(P.setTargetAtTime),P.setValueAtTime=(A=>j?()=>{throw o()}:(...h)=>{const _=A.apply(P,h);return ee(),_})(P.setValueAtTime),P.setValueCurveAtTime=(A=>j?()=>{throw o()}:(...h)=>{const _=A.apply(P,h);return ee(),_})(P.setValueCurveAtTime),P};return{forwardX:$(0,0,k(0)),forwardY:$(1,0,k(1)),forwardZ:$(2,-1,k(2)),positionX:$(6,0,Te(0)),positionY:$(7,0,Te(1)),positionZ:$(8,0,Te(2)),upX:$(3,0,k(3)),upY:$(4,1,k(4)),upZ:$(5,0,k(5))}},{forwardX:w,forwardY:q,forwardZ:V,positionX:E,positionY:N,positionZ:M,upX:G,upY:b,upZ:Z}=g.forwardX===void 0?T():g;return{get forwardX(){return w},get forwardY(){return q},get forwardZ(){return V},get positionX(){return E},get positionY(){return N},get positionZ(){return M},get upX(){return G},get upY(){return b},get upZ(){return Z}}},hu=l=>"context"in l,Ll=l=>hu(l[0]),ki=(l,t,a,i)=>{for(const o of l)if(a(o)){if(i)return!1;throw Error("The set contains at least one similar element.")}return l.add(t),!0},E2=(l,t,[a,i],o)=>{ki(l,[t,a,i],c=>c[0]===t&&c[1]===a,o)},M2=(l,[t,a,i],o)=>{const c=l.get(t);c===void 0?l.set(t,new Set([[a,i]])):ki(c,[a,i],d=>d[0]===a,o)},Cr=l=>"inputs"in l,fu=(l,t,a,i)=>{if(Cr(t)){const o=t.inputs[i];return l.connect(o,a,0),[o,a,0]}return l.connect(t,a,i),[t,a,i]},Bm=(l,t,a)=>{for(const i of l)if(i[0]===t&&i[1]===a)return l.delete(i),i;return null},C4=(l,t,a)=>wu(l,i=>i[0]===t&&i[1]===a),km=(l,t)=>{if(!kl(l).delete(t))throw new Error("Missing the expected event listener.")},Vm=(l,t,a)=>{const i=Ys(l,t),o=wu(i,c=>c[0]===a);return i.size===0&&l.delete(t),o},du=(l,t,a,i)=>{Cr(t)?l.disconnect(t.inputs[i],a,0):l.disconnect(t,a,i)},sn=l=>Ys(Fh,l),Ol=l=>Ys(Xh,l),Ni=l=>Vh.has(l),ru=l=>!Tr.has(l),R2=(l,t)=>new Promise(a=>{if(t!==null)a(!0);else{const i=l.createScriptProcessor(256,1,1),o=l.createGain(),c=l.createBuffer(1,2,44100),d=c.getChannelData(0);d[0]=1,d[1]=1;const y=l.createBufferSource();y.buffer=c,y.loop=!0,y.connect(i).connect(l.destination),y.connect(o),y.disconnect(o),i.onaudioprocess=m=>{const v=m.inputBuffer.getChannelData(0);Array.prototype.some.call(v,g=>g===1)?a(!0):a(!1),y.stop(),i.onaudioprocess=null,y.disconnect(i),i.disconnect(l.destination)},y.start()}}),K0=(l,t)=>{const a=new Map;for(const i of l)for(const o of i){const c=a.get(o);a.set(o,c===void 0?1:c+1)}a.forEach((i,o)=>t(o,i))},_u=l=>"context"in l,N4=l=>{const t=new Map;l.connect=(a=>(i,o=0,c=0)=>{const d=_u(i)?a(i,o,c):a(i,o),y=t.get(i);return y===void 0?t.set(i,[{input:c,output:o}]):y.every(m=>m.input!==c||m.output!==o)&&y.push({input:c,output:o}),d})(l.connect.bind(l)),l.disconnect=(a=>(i,o,c)=>{if(a.apply(l),i===void 0)t.clear();else if(typeof i=="number")for(const[d,y]of t){const m=y.filter(v=>v.output!==i);m.length===0?t.delete(d):t.set(d,m)}else if(t.has(i))if(o===void 0)t.delete(i);else{const d=t.get(i);if(d!==void 0){const y=d.filter(m=>m.output!==o&&(m.input!==c||c===void 0));y.length===0?t.delete(i):t.set(i,y)}}for(const[d,y]of t)y.forEach(m=>{_u(d)?l.connect(d,m.output,m.input):l.connect(d,m.output)})})(l.disconnect)},O4=(l,t,a,i)=>{const{activeInputs:o,passiveInputs:c}=ql(t),{outputs:d}=ns(l),y=kl(l),m=v=>{const g=sn(l),T=Ol(t);if(v){const w=Vm(c,l,a);E2(o,l,w,!1),!i&&!Ni(l)&&g.connect(T,a)}else{const w=C4(o,l,a);M2(c,w,!1),!i&&!Ni(l)&&g.disconnect(T,a)}};return ki(d,[t,a],v=>v[0]===t&&v[1]===a,!0)?(y.add(m),Ra(l)?E2(o,l,[a,m],!0):M2(c,[l,a,m],!0),!0):!1},D4=(l,t,a,i)=>{const{activeInputs:o,passiveInputs:c}=ns(t),d=Bm(o[i],l,a);return d===null?[Cm(c,l,a,i)[2],!1]:[d[2],!0]},B4=(l,t,a)=>{const{activeInputs:i,passiveInputs:o}=ql(t),c=Bm(i,l,a);return c===null?[Vm(o,l,a)[1],!1]:[c[2],!0]},Zh=(l,t,a,i,o)=>{const[c,d]=D4(l,a,i,o);if(c!==null&&(km(l,c),d&&!t&&!Ni(l)&&du(sn(l),sn(a),i,o)),Ra(a)){const{activeInputs:y}=ns(a);Ih(a,y)}},Qh=(l,t,a,i)=>{const[o,c]=B4(l,a,i);o!==null&&(km(l,o),c&&!t&&!Ni(l)&&sn(l).disconnect(Ol(a),i))},k4=(l,t)=>{const a=ns(l),i=[];for(const o of a.outputs)Ll(o)?Zh(l,t,...o):Qh(l,t,...o),i.push(o[0]);return a.outputs.clear(),i},V4=(l,t,a)=>{const i=ns(l),o=[];for(const c of i.outputs)c[1]===a&&(Ll(c)?Zh(l,t,...c):Qh(l,t,...c),o.push(c[0]),i.outputs.delete(c));return o},q4=(l,t,a,i,o)=>{const c=ns(l);return Array.from(c.outputs).filter(d=>d[0]===a&&(i===void 0||d[1]===i)&&(o===void 0||d[2]===o)).map(d=>(Ll(d)?Zh(l,t,...d):Qh(l,t,...d),c.outputs.delete(d),d[0]))},L4=(l,t,a,i,o,c,d,y,m,v,g,T,w,q,V,E)=>class extends v{constructor(M,G,b,Z){super(b),this._context=M,this._nativeAudioNode=b;const C=g(M);T(C)&&a(R2,()=>R2(C,E))!==!0&&N4(b),Fh.set(this,b),Mm.set(this,new Set),M.state!=="closed"&&G&&Ar(this),l(this,Z,b)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(M){this._nativeAudioNode.channelCount=M}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(M){this._nativeAudioNode.channelCountMode=M}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(M){this._nativeAudioNode.channelInterpretation=M}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(M,G=0,b=0){if(G<0||G>=this._nativeAudioNode.numberOfOutputs)throw o();const Z=g(this._context),C=V(Z);if(w(M)||q(M))throw c();if(hu(M)){const H=sn(M);try{const le=fu(this._nativeAudioNode,H,G,b),ee=ru(this);(C||ee)&&this._nativeAudioNode.disconnect(...le),this.context.state!=="closed"&&!ee&&ru(M)&&Ar(M)}catch(le){throw le.code===12?c():le}if(t(this,M,G,b,C)){const le=m([this],M);K0(le,i(C))}return M}const Q=Ol(M);if(Q.name==="playbackRate"&&Q.maxValue===1024)throw d();try{this._nativeAudioNode.connect(Q,G),(C||ru(this))&&this._nativeAudioNode.disconnect(Q,G)}catch(H){throw H.code===12?c():H}if(O4(this,M,G,C)){const H=m([this],M);K0(H,i(C))}}disconnect(M,G,b){let Z;const C=g(this._context),Q=V(C);if(M===void 0)Z=k4(this,Q);else if(typeof M=="number"){if(M<0||M>=this.numberOfOutputs)throw o();Z=V4(this,Q,M)}else{if(G!==void 0&&(G<0||G>=this.numberOfOutputs)||hu(M)&&b!==void 0&&(b<0||b>=M.numberOfInputs))throw o();if(Z=q4(this,Q,M,G,b),Z.length===0)throw c()}for(const j of Z){const H=m([this],j);K0(H,y)}}},I4=(l,t,a,i,o,c,d,y,m,v,g,T,w)=>(q,V,E,N=null,M=null)=>{const G=E.value,b=new Q3(G),Z=V?i(b):null,C={get defaultValue(){return G},get maxValue(){return N===null?E.maxValue:N},get minValue(){return M===null?E.minValue:M},get value(){return E.value},set value(Q){E.value=Q,C.setValueAtTime(Q,q.context.currentTime)},cancelAndHoldAtTime(Q){if(typeof E.cancelAndHoldAtTime=="function")Z===null&&b.flush(q.context.currentTime),b.add(o(Q)),E.cancelAndHoldAtTime(Q);else{const j=Array.from(b).pop();Z===null&&b.flush(q.context.currentTime),b.add(o(Q));const H=Array.from(b).pop();E.cancelScheduledValues(Q),j!==H&&H!==void 0&&(H.type==="exponentialRampToValue"?E.exponentialRampToValueAtTime(H.value,H.endTime):H.type==="linearRampToValue"?E.linearRampToValueAtTime(H.value,H.endTime):H.type==="setValue"?E.setValueAtTime(H.value,H.startTime):H.type==="setValueCurve"&&E.setValueCurveAtTime(H.values,H.startTime,H.duration))}return C},cancelScheduledValues(Q){return Z===null&&b.flush(q.context.currentTime),b.add(c(Q)),E.cancelScheduledValues(Q),C},exponentialRampToValueAtTime(Q,j){if(Q===0)throw new RangeError;if(!Number.isFinite(j)||j<0)throw new RangeError;const H=q.context.currentTime;return Z===null&&b.flush(H),Array.from(b).length===0&&(b.add(v(G,H)),E.setValueAtTime(G,H)),b.add(d(Q,j)),E.exponentialRampToValueAtTime(Q,j),C},linearRampToValueAtTime(Q,j){const H=q.context.currentTime;return Z===null&&b.flush(H),Array.from(b).length===0&&(b.add(v(G,H)),E.setValueAtTime(G,H)),b.add(y(Q,j)),E.linearRampToValueAtTime(Q,j),C},setTargetAtTime(Q,j,H){return Z===null&&b.flush(q.context.currentTime),b.add(m(Q,j,H)),E.setTargetAtTime(Q,j,H),C},setValueAtTime(Q,j){return Z===null&&b.flush(q.context.currentTime),b.add(v(Q,j)),E.setValueAtTime(Q,j),C},setValueCurveAtTime(Q,j,H){const ne=Q instanceof Float32Array?Q:new Float32Array(Q);if(T!==null&&T.name==="webkitAudioContext"){const le=j+H,ee=q.context.sampleRate,k=Math.ceil(j*ee),Te=Math.floor(le*ee),$=Te-k,W=new Float32Array($);for(let B=0;B<$;B+=1){const X=(ne.length-1)/H*((k+B)/ee-j),P=Math.floor(X),A=Math.ceil(X);W[B]=P===A?ne[P]:(1-(X-P))*ne[P]+(1-(A-X))*ne[A]}Z===null&&b.flush(q.context.currentTime),b.add(g(W,j,H)),E.setValueCurveAtTime(W,j,H);const S=Te/ee;S<le&&w(C,W[W.length-1],S),w(C,ne[ne.length-1],le)}else Z===null&&b.flush(q.context.currentTime),b.add(g(ne,j,H)),E.setValueCurveAtTime(ne,j,H);return C}};return a.set(C,E),t.set(C,q),l(C,Z),C},H4=l=>({replay(t){for(const a of l)if(a.type==="exponentialRampToValue"){const{endTime:i,value:o}=a;t.exponentialRampToValueAtTime(o,i)}else if(a.type==="linearRampToValue"){const{endTime:i,value:o}=a;t.linearRampToValueAtTime(o,i)}else if(a.type==="setTarget"){const{startTime:i,target:o,timeConstant:c}=a;t.setTargetAtTime(o,i,c)}else if(a.type==="setValue"){const{startTime:i,value:o}=a;t.setValueAtTime(o,i)}else if(a.type==="setValueCurve"){const{duration:i,startTime:o,values:c}=a;t.setValueCurveAtTime(c,o,i)}else throw new Error("Can't apply an unknown automation.")}});class qm{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,a=null){return this._map.forEach((i,o)=>t.call(a,i,o,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const z4={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},U4=(l,t,a,i,o,c,d,y,m,v,g,T,w,q)=>class extends t{constructor(E,N,M){var G;const b=y(E),Z=m(b),C=g({...z4,...M});w(C);const Q=qh.get(b),j=Q==null?void 0:Q.get(N),H=Z||b.state!=="closed"?b:(G=d(b))!==null&&G!==void 0?G:b,ne=o(H,Z?null:E.baseLatency,v,N,j,C),le=Z?i(N,C,j):null;super(E,!0,ne,le);const ee=[];ne.parameters.forEach((Te,$)=>{const W=a(this,Z,Te);ee.push([$,W])}),this._nativeAudioWorkletNode=ne,this._onprocessorerror=null,this._parameters=new qm(ee),Z&&l(b,this);const{activeInputs:k}=c(this);T(ne,k)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(E){const N=typeof E=="function"?q(this,E):null;this._nativeAudioWorkletNode.onprocessorerror=N;const M=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=M!==null&&M===N?E:M}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function mu(l,t,a,i,o){if(typeof l.copyFromChannel=="function")t[a].byteLength===0&&(t[a]=new Float32Array(128)),l.copyFromChannel(t[a],i,o);else{const c=l.getChannelData(i);if(t[a].byteLength===0)t[a]=c.slice(o,o+128);else{const d=new Float32Array(c.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);t[a].set(d)}}}const Lm=(l,t,a,i,o)=>{typeof l.copyToChannel=="function"?t[a].byteLength!==0&&l.copyToChannel(t[a],i,o):t[a].byteLength!==0&&l.getChannelData(i).set(t[a],o)},pu=(l,t)=>{const a=[];for(let i=0;i<l;i+=1){const o=[],c=typeof t=="number"?t:t[i];for(let d=0;d<c;d+=1)o.push(new Float32Array(128));a.push(o)}return a},j4=(l,t)=>{const a=Ys(Lh,l),i=sn(t);return Ys(a,i)},G4=async(l,t,a,i,o,c,d)=>{const y=t===null?Math.ceil(l.context.length/128)*128:t.length,m=i.channelCount*i.numberOfInputs,v=o.reduce((N,M)=>N+M,0),g=v===0?null:a.createBuffer(v,y,a.sampleRate);if(c===void 0)throw new Error("Missing the processor constructor.");const T=ns(l),w=await j4(a,l),q=pu(i.numberOfInputs,i.channelCount),V=pu(i.numberOfOutputs,o),E=Array.from(l.parameters.keys()).reduce((N,M)=>({...N,[M]:new Float32Array(128)}),{});for(let N=0;N<y;N+=128){if(i.numberOfInputs>0&&t!==null)for(let M=0;M<i.numberOfInputs;M+=1)for(let G=0;G<i.channelCount;G+=1)mu(t,q[M],G,G,N);c.parameterDescriptors!==void 0&&t!==null&&c.parameterDescriptors.forEach(({name:M},G)=>{mu(t,E,M,m+G,N)});for(let M=0;M<i.numberOfInputs;M+=1)for(let G=0;G<o[M];G+=1)V[M][G].byteLength===0&&(V[M][G]=new Float32Array(128));try{const M=q.map((b,Z)=>T.activeInputs[Z].size===0?[]:b),G=d(N/a.sampleRate,a.sampleRate,()=>w.process(M,V,E));if(g!==null)for(let b=0,Z=0;b<i.numberOfOutputs;b+=1){for(let C=0;C<o[b];C+=1)Lm(g,V[b],C,Z+C,N);Z+=o[b]}if(!G)break}catch(M){l.dispatchEvent(new ErrorEvent("processorerror",{colno:M.colno,filename:M.filename,lineno:M.lineno,message:M.message}));break}}return g},F4=(l,t,a,i,o,c,d,y,m,v,g,T,w,q,V,E)=>(N,M,G)=>{const b=new WeakMap;let Z=null;const C=async(Q,j)=>{let H=g(Q),ne=null;const le=Pn(H,j),ee=Array.isArray(M.outputChannelCount)?M.outputChannelCount:Array.from(M.outputChannelCount);if(T===null){const k=ee.reduce((S,B)=>S+B,0),Te=o(j,{channelCount:Math.max(1,k),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,k)}),$=[];for(let S=0;S<Q.numberOfOutputs;S+=1)$.push(i(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:ee[S]}));const W=d(j,{channelCount:M.channelCount,channelCountMode:M.channelCountMode,channelInterpretation:M.channelInterpretation,gain:1});W.connect=t.bind(null,$),W.disconnect=m.bind(null,$),ne=[Te,$,W]}else le||(H=new T(j,N));if(b.set(j,ne===null?H:ne[2]),ne!==null){if(Z===null){if(G===void 0)throw new Error("Missing the processor constructor.");if(w===null)throw new Error("Missing the native OfflineAudioContext constructor.");const B=Q.channelCount*Q.numberOfInputs,X=G.parameterDescriptors===void 0?0:G.parameterDescriptors.length,P=B+X;Z=G4(Q,P===0?null:await(async()=>{const h=new w(P,Math.ceil(Q.context.length/128)*128,j.sampleRate),_=[],p=[];for(let z=0;z<M.numberOfInputs;z+=1)_.push(d(h,{channelCount:M.channelCount,channelCountMode:M.channelCountMode,channelInterpretation:M.channelInterpretation,gain:1})),p.push(o(h,{channelCount:M.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:M.channelCount}));const x=await Promise.all(Array.from(Q.parameters.values()).map(async z=>{const K=c(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:z.value});return await q(h,z,K.offset),K})),D=i(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,B+X)});for(let z=0;z<M.numberOfInputs;z+=1){_[z].connect(p[z]);for(let K=0;K<M.channelCount;K+=1)p[z].connect(D,K,z*M.channelCount+K)}for(const[z,K]of x.entries())K.connect(D,0,B+z),K.start(0);return D.connect(h.destination),await Promise.all(_.map(z=>V(Q,h,z))),E(h)})(),j,M,ee,G,v)}const k=await Z,Te=a(j,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[$,W,S]=ne;k!==null&&(Te.buffer=k,Te.start(0)),Te.connect($);for(let B=0,X=0;B<Q.numberOfOutputs;B+=1){const P=W[B];for(let A=0;A<ee[B];A+=1)$.connect(P,X+A,A);X+=ee[B]}return S}if(le)for(const[k,Te]of Q.parameters.entries())await l(j,Te,H.parameters.get(k));else for(const[k,Te]of Q.parameters.entries())await q(j,Te,H.parameters.get(k));return await V(Q,j,H),H};return{render(Q,j){y(j,Q);const H=b.get(j);return H!==void 0?Promise.resolve(H):C(Q,j)}}},X4=(l,t,a,i,o,c,d,y,m,v,g,T,w,q,V,E,N,M,G,b)=>class extends V{constructor(C,Q){super(C,Q),this._nativeContext=C,this._audioWorklet=l===void 0?void 0:{addModule:(j,H)=>l(this,j,H)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new o(this)}createBuffer(C,Q,j){return new a({length:Q,numberOfChannels:C,sampleRate:j})}createBufferSource(){return new i(this)}createChannelMerger(C=6){return new c(this,{numberOfInputs:C})}createChannelSplitter(C=6){return new d(this,{numberOfOutputs:C})}createConstantSource(){return new y(this)}createConvolver(){return new m(this)}createDelay(C=1){return new g(this,{maxDelayTime:C})}createDynamicsCompressor(){return new T(this)}createGain(){return new w(this)}createIIRFilter(C,Q){return new q(this,{feedback:Q,feedforward:C})}createOscillator(){return new E(this)}createPanner(){return new N(this)}createPeriodicWave(C,Q,j={disableNormalization:!1}){return new M(this,{...j,imag:Q,real:C})}createStereoPanner(){return new G(this)}createWaveShaper(){return new b(this)}decodeAudioData(C,Q,j){return v(this._nativeContext,C).then(H=>(typeof Q=="function"&&Q(H),H),H=>{throw typeof j=="function"&&j(H),H})}},Y4={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Z4=(l,t,a,i,o,c,d,y)=>class extends l{constructor(v,g){const T=c(v),w={...Y4,...g},q=o(T,w),V=d(T),E=V?a():null;super(v,!1,q,E),this._Q=t(this,V,q.Q,ts,As),this._detune=t(this,V,q.detune,1200*Math.log2(ts),-1200*Math.log2(ts)),this._frequency=t(this,V,q.frequency,v.sampleRate/2,0),this._gain=t(this,V,q.gain,40*Math.log10(ts),As),this._nativeBiquadFilterNode=q,y(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(v){this._nativeBiquadFilterNode.type=v}getFrequencyResponse(v,g,T){try{this._nativeBiquadFilterNode.getFrequencyResponse(v,g,T)}catch(w){throw w.code===11?i():w}if(v.length!==g.length||g.length!==T.length)throw i()}},Q4=(l,t,a,i,o)=>()=>{const c=new WeakMap,d=async(y,m)=>{let v=a(y);const g=Pn(v,m);if(!g){const T={Q:v.Q.value,channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,detune:v.detune.value,frequency:v.frequency.value,gain:v.gain.value,type:v.type};v=t(m,T)}return c.set(m,v),g?(await l(m,y.Q,v.Q),await l(m,y.detune,v.detune),await l(m,y.frequency,v.frequency),await l(m,y.gain,v.gain)):(await i(m,y.Q,v.Q),await i(m,y.detune,v.detune),await i(m,y.frequency,v.frequency),await i(m,y.gain,v.gain)),await o(y,m,v),v};return{render(y,m){const v=c.get(m);return v!==void 0?Promise.resolve(v):d(y,m)}}},W4=(l,t)=>(a,i)=>{const o=t.get(a);if(o!==void 0)return o;const c=l.get(a);if(c!==void 0)return c;try{const d=i();return d instanceof Promise?(l.set(a,d),d.catch(()=>!1).then(y=>(l.delete(a),t.set(a,y),y))):(t.set(a,d),d)}catch{return t.set(a,!1),!1}},K4={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},P4=(l,t,a,i,o)=>class extends l{constructor(d,y){const m=i(d),v={...K4,...y},g=a(m,v),T=o(m)?t():null;super(d,!1,g,T)}},J4=(l,t,a)=>()=>{const i=new WeakMap,o=async(c,d)=>{let y=t(c);if(!Pn(y,d)){const v={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,numberOfInputs:y.numberOfInputs};y=l(d,v)}return i.set(d,y),await a(c,d,y),y};return{render(c,d){const y=i.get(d);return y!==void 0?Promise.resolve(y):o(c,d)}}},$4={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},ey=(l,t,a,i,o,c)=>class extends l{constructor(y,m){const v=i(y),g=c({...$4,...m}),T=a(v,g),w=o(v)?t():null;super(y,!1,T,w)}},ty=(l,t,a)=>()=>{const i=new WeakMap,o=async(c,d)=>{let y=t(c);if(!Pn(y,d)){const v={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,numberOfOutputs:y.numberOfOutputs};y=l(d,v)}return i.set(d,y),await a(c,d,y),y};return{render(c,d){const y=i.get(d);return y!==void 0?Promise.resolve(y):o(c,d)}}},ny=l=>(t,a,i)=>l(a,t,i),sy=l=>(t,a,i=0,o=0)=>{const c=t[i];if(c===void 0)throw l();return _u(a)?c.connect(a,0,o):c.connect(a,0)},ay=l=>(t,a)=>{const i=l(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=t.createBuffer(1,2,44100);return i.buffer=o,i.loop=!0,i.connect(a),i.start(),()=>{i.stop(),i.disconnect(a)}},iy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},ry=(l,t,a,i,o,c,d)=>class extends l{constructor(m,v){const g=o(m),T={...iy,...v},w=i(g,T),q=c(g),V=q?a():null;super(m,!1,w,V),this._constantSourceNodeRenderer=V,this._nativeConstantSourceNode=w,this._offset=t(this,q,w.offset,ts,As),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(m){const v=typeof m=="function"?d(this,m):null;this._nativeConstantSourceNode.onended=v;const g=this._nativeConstantSourceNode.onended;this._onended=g!==null&&g===v?m:g}start(m=0){if(this._nativeConstantSourceNode.start(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=m),this.context.state!=="closed"){Ar(this);const v=()=>{this._nativeConstantSourceNode.removeEventListener("ended",v),Ra(this)&&Vl(this)};this._nativeConstantSourceNode.addEventListener("ended",v)}}stop(m=0){this._nativeConstantSourceNode.stop(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=m)}},ly=(l,t,a,i,o)=>()=>{const c=new WeakMap;let d=null,y=null;const m=async(v,g)=>{let T=a(v);const w=Pn(T,g);if(!w){const q={channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,offset:T.offset.value};T=t(g,q),d!==null&&T.start(d),y!==null&&T.stop(y)}return c.set(g,T),w?await l(g,v.offset,T.offset):await i(g,v.offset,T.offset),await o(v,g,T),T};return{set start(v){d=v},set stop(v){y=v},render(v,g){const T=c.get(g);return T!==void 0?Promise.resolve(T):m(v,g)}}},oy=l=>t=>(l[0]=t,l[0]),uy={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},cy=(l,t,a,i,o,c)=>class extends l{constructor(y,m){const v=i(y),g={...uy,...m},T=a(v,g),q=o(v)?t():null;super(y,!1,T,q),this._isBufferNullified=!1,this._nativeConvolverNode=T,g.buffer!==null&&c(this,g.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(y){if(this._nativeConvolverNode.buffer=y,y===null&&this._nativeConvolverNode.buffer!==null){const m=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=m.createBuffer(1,1,m.sampleRate),this._isBufferNullified=!0,c(this,0)}else this._isBufferNullified=!1,c(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(y){this._nativeConvolverNode.normalize=y}},hy=(l,t,a)=>()=>{const i=new WeakMap,o=async(c,d)=>{let y=t(c);if(!Pn(y,d)){const v={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,disableNormalization:!y.normalize};y=l(d,v)}return i.set(d,y),Cr(y)?await a(c,d,y.inputs[0]):await a(c,d,y),y};return{render(c,d){const y=i.get(d);return y!==void 0?Promise.resolve(y):o(c,d)}}},fy=(l,t)=>(a,i,o)=>{if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(a,i,o)}catch(c){throw c.name==="SyntaxError"?l():c}},dy=()=>new DOMException("","DataCloneError"),C2=l=>{const{port1:t,port2:a}=new MessageChannel;return new Promise(i=>{const o=()=>{a.onmessage=null,t.close(),a.close(),i()};a.onmessage=()=>o();try{t.postMessage(l,[l])}catch{}finally{o()}})},_y=(l,t,a,i,o,c,d,y,m,v,g)=>(T,w)=>{const q=d(T)?T:c(T);if(o.has(w)){const V=a();return Promise.reject(V)}try{o.add(w)}catch{}return t(m,()=>m(q))?q.decodeAudioData(w).then(V=>(C2(w).catch(()=>{}),t(y,()=>y(V))||g(V),l.add(V),V)):new Promise((V,E)=>{const N=async()=>{try{await C2(w)}catch{}},M=G=>{E(G),N()};try{q.decodeAudioData(w,G=>{typeof G.copyFromChannel!="function"&&(v(G),Yh(G)),l.add(G),N().then(()=>V(G))},G=>{M(G===null?i():G)})}catch(G){M(G)}})},my=(l,t,a,i,o,c,d,y)=>(m,v)=>{const g=t.get(m);if(g===void 0)throw new Error("Missing the expected cycle count.");const T=c(m.context),w=y(T);if(g===v){if(t.delete(m),!w&&d(m)){const q=i(m),{outputs:V}=a(m);for(const E of V)if(Ll(E)){const N=i(E[0]);l(q,N,E[1],E[2])}else{const N=o(E[0]);q.connect(N,E[1])}}}else t.set(m,g-v)},py={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},vy=(l,t,a,i,o,c,d)=>class extends l{constructor(m,v){const g=o(m),T={...py,...v},w=i(g,T),q=c(g),V=q?a(T.maxDelayTime):null;super(m,!1,w,V),this._delayTime=t(this,q,w.delayTime),d(this,T.maxDelayTime)}get delayTime(){return this._delayTime}},yy=(l,t,a,i,o)=>c=>{const d=new WeakMap,y=async(m,v)=>{let g=a(m);const T=Pn(g,v);if(!T){const w={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,delayTime:g.delayTime.value,maxDelayTime:c};g=t(v,w)}return d.set(v,g),T?await l(v,m.delayTime,g.delayTime):await i(v,m.delayTime,g.delayTime),await o(m,v,g),g};return{render(m,v){const g=d.get(v);return g!==void 0?Promise.resolve(g):y(m,v)}}},by=l=>(t,a,i,o)=>l(t[o],c=>c[0]===a&&c[1]===i),gy=l=>(t,a)=>{l(t).delete(a)},Sy=l=>"delayTime"in l,Ty=(l,t,a)=>function i(o,c){const d=hu(c)?c:a(l,c);if(Sy(d))return[];if(o[0]===d)return[o];if(o.includes(d))return[];const{outputs:y}=t(d);return Array.from(y).map(m=>i([...o,d],m[0])).reduce((m,v)=>m.concat(v),[])},tu=(l,t,a)=>{const i=t[a];if(i===void 0)throw l();return i},Ay=l=>(t,a=void 0,i=void 0,o=0)=>a===void 0?t.forEach(c=>c.disconnect()):typeof a=="number"?tu(l,t,a).disconnect():_u(a)?i===void 0?t.forEach(c=>c.disconnect(a)):o===void 0?tu(l,t,i).disconnect(a,0):tu(l,t,i).disconnect(a,0,o):i===void 0?t.forEach(c=>c.disconnect(a)):tu(l,t,i).disconnect(a,0),xy={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},wy=(l,t,a,i,o,c,d,y)=>class extends l{constructor(v,g){const T=c(v),w={...xy,...g},q=i(T,w),V=d(T),E=V?a():null;super(v,!1,q,E),this._attack=t(this,V,q.attack),this._knee=t(this,V,q.knee),this._nativeDynamicsCompressorNode=q,this._ratio=t(this,V,q.ratio),this._release=t(this,V,q.release),this._threshold=t(this,V,q.threshold),y(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(v){const g=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=v,v>2)throw this._nativeDynamicsCompressorNode.channelCount=g,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(v){const g=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=v,v==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=g,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Ey=(l,t,a,i,o)=>()=>{const c=new WeakMap,d=async(y,m)=>{let v=a(y);const g=Pn(v,m);if(!g){const T={attack:v.attack.value,channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,knee:v.knee.value,ratio:v.ratio.value,release:v.release.value,threshold:v.threshold.value};v=t(m,T)}return c.set(m,v),g?(await l(m,y.attack,v.attack),await l(m,y.knee,v.knee),await l(m,y.ratio,v.ratio),await l(m,y.release,v.release),await l(m,y.threshold,v.threshold)):(await i(m,y.attack,v.attack),await i(m,y.knee,v.knee),await i(m,y.ratio,v.ratio),await i(m,y.release,v.release),await i(m,y.threshold,v.threshold)),await o(y,m,v),v};return{render(y,m){const v=c.get(m);return v!==void 0?Promise.resolve(v):d(y,m)}}},My=()=>new DOMException("","EncodingError"),Ry=l=>t=>new Promise((a,i)=>{if(l===null){i(new SyntaxError);return}const o=l.document.head;if(o===null)i(new SyntaxError);else{const c=l.document.createElement("script"),d=new Blob([t],{type:"application/javascript"}),y=URL.createObjectURL(d),m=l.onerror,v=()=>{l.onerror=m,URL.revokeObjectURL(y)};l.onerror=(g,T,w,q,V)=>{if(T===y||T===l.location.href&&w===1&&q===1)return v(),i(V),!1;if(m!==null)return m(g,T,w,q,V)},c.onerror=()=>{v(),i(new SyntaxError)},c.onload=()=>{v(),a()},c.src=y,c.type="module",o.appendChild(c)}}),Cy=l=>class{constructor(a){this._nativeEventTarget=a,this._listeners=new WeakMap}addEventListener(a,i,o){if(i!==null){let c=this._listeners.get(i);c===void 0&&(c=l(this,i),typeof i=="function"&&this._listeners.set(i,c)),this._nativeEventTarget.addEventListener(a,c,o)}}dispatchEvent(a){return this._nativeEventTarget.dispatchEvent(a)}removeEventListener(a,i,o){const c=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(a,c===void 0?null:c,o)}},Ny=l=>(t,a,i)=>{Object.defineProperties(l,{currentFrame:{configurable:!0,get(){return Math.round(t*a)}},currentTime:{configurable:!0,get(){return t}}});try{return i()}finally{l!==null&&(delete l.currentFrame,delete l.currentTime)}},Oy=l=>async t=>{try{const a=await fetch(t);if(a.ok)return[await a.text(),a.url]}catch{}throw l()},Dy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},By=(l,t,a,i,o,c)=>class extends l{constructor(y,m){const v=o(y),g={...Dy,...m},T=i(v,g),w=c(v),q=w?a():null;super(y,!1,T,q),this._gain=t(this,w,T.gain,ts,As)}get gain(){return this._gain}},ky=(l,t,a,i,o)=>()=>{const c=new WeakMap,d=async(y,m)=>{let v=a(y);const g=Pn(v,m);if(!g){const T={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:v.gain.value};v=t(m,T)}return c.set(m,v),g?await l(m,y.gain,v.gain):await i(m,y.gain,v.gain),await o(y,m,v),v};return{render(y,m){const v=c.get(m);return v!==void 0?Promise.resolve(v):d(y,m)}}},Vy=(l,t)=>a=>t(l,a),qy=l=>t=>{const a=l(t);if(a.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return a.renderer},Ly=l=>t=>{var a;return(a=l.get(t))!==null&&a!==void 0?a:0},Iy=l=>t=>{const a=l(t);if(a.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return a.renderer},Hy=l=>t=>l.get(t),Hn=()=>new DOMException("","InvalidStateError"),zy=l=>t=>{const a=l.get(t);if(a===void 0)throw Hn();return a},Uy=(l,t)=>a=>{let i=l.get(a);if(i!==void 0)return i;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new t(1,1,44100),l.set(a,i),i},jy=l=>t=>{const a=l.get(t);if(a===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return a},Eu=()=>new DOMException("","InvalidAccessError"),Gy=l=>{l.getFrequencyResponse=(t=>(a,i,o)=>{if(a.length!==i.length||i.length!==o.length)throw Eu();return t.call(l,a,i,o)})(l.getFrequencyResponse)},Fy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Xy=(l,t,a,i,o,c)=>class extends l{constructor(y,m){const v=i(y),g=o(v),T={...Fy,...m},w=t(v,g?null:y.baseLatency,T),q=g?a(T.feedback,T.feedforward):null;super(y,!1,w,q),Gy(w),this._nativeIIRFilterNode=w,c(this,1)}getFrequencyResponse(y,m,v){return this._nativeIIRFilterNode.getFrequencyResponse(y,m,v)}},Im=(l,t,a,i,o,c,d,y,m,v,g)=>{const T=v.length;let w=y;for(let q=0;q<T;q+=1){let V=a[0]*v[q];for(let E=1;E<o;E+=1){const N=w-E&m-1;V+=a[E]*c[N],V-=l[E]*d[N]}for(let E=o;E<i;E+=1)V+=a[E]*c[w-E&m-1];for(let E=o;E<t;E+=1)V-=l[E]*d[w-E&m-1];c[w]=v[q],d[w]=V,w=w+1&m-1,g[q]=V}return w},Yy=(l,t,a,i)=>{const o=a instanceof Float64Array?a:new Float64Array(a),c=i instanceof Float64Array?i:new Float64Array(i),d=o.length,y=c.length,m=Math.min(d,y);if(o[0]!==1){for(let V=0;V<d;V+=1)c[V]/=o[0];for(let V=1;V<y;V+=1)o[V]/=o[0]}const v=32,g=new Float32Array(v),T=new Float32Array(v),w=t.createBuffer(l.numberOfChannels,l.length,l.sampleRate),q=l.numberOfChannels;for(let V=0;V<q;V+=1){const E=l.getChannelData(V),N=w.getChannelData(V);g.fill(0),T.fill(0),Im(o,d,c,y,m,g,T,0,v,E,N)}return w},Zy=(l,t,a,i,o)=>(c,d)=>{const y=new WeakMap;let m=null;const v=async(g,T)=>{let w=null,q=t(g);const V=Pn(q,T);if(T.createIIRFilter===void 0?w=l(T,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):V||(q=T.createIIRFilter(d,c)),y.set(T,w===null?q:w),w!==null){if(m===null){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const N=new a(g.context.destination.channelCount,g.context.length,T.sampleRate);m=(async()=>{await i(g,N,N.destination);const M=await o(N);return Yy(M,T,c,d)})()}const E=await m;return w.buffer=E,w.start(0),w}return await i(g,T,q),q};return{render(g,T){const w=y.get(T);return w!==void 0?Promise.resolve(w):v(g,T)}}},Qy=(l,t,a,i,o,c)=>d=>(y,m)=>{const v=l.get(y);if(v===void 0){if(!d&&c(y)){const g=i(y),{outputs:T}=a(y);for(const w of T)if(Ll(w)){const q=i(w[0]);t(g,q,w[1],w[2])}else{const q=o(w[0]);g.disconnect(q,w[1])}}l.set(y,m)}else l.set(y,v+m)},Wy=(l,t)=>a=>{const i=l.get(a);return t(i)||t(a)},Ky=(l,t)=>a=>l.has(a)||t(a),Py=(l,t)=>a=>l.has(a)||t(a),Jy=(l,t)=>a=>{const i=l.get(a);return t(i)||t(a)},$y=l=>t=>l!==null&&t instanceof l,e5=l=>t=>l!==null&&typeof l.AudioNode=="function"&&t instanceof l.AudioNode,t5=l=>t=>l!==null&&typeof l.AudioParam=="function"&&t instanceof l.AudioParam,n5=(l,t)=>a=>l(a)||t(a),s5=l=>t=>l!==null&&t instanceof l,a5=l=>l!==null&&l.isSecureContext,i5=(l,t,a,i)=>class extends l{constructor(c,d){const y=a(c),m=t(y,d);if(i(y))throw TypeError();super(c,!0,m,null),this._nativeMediaElementAudioSourceNode=m}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},r5={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},l5=(l,t,a,i)=>class extends l{constructor(c,d){const y=a(c);if(i(y))throw new TypeError;const m={...r5,...d},v=t(y,m);super(c,!1,v,null),this._nativeMediaStreamAudioDestinationNode=v}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},o5=(l,t,a,i)=>class extends l{constructor(c,d){const y=a(c),m=t(y,d);if(i(y))throw new TypeError;super(c,!0,m,null),this._nativeMediaStreamAudioSourceNode=m}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},u5=(l,t,a)=>class extends l{constructor(o,c){const d=a(o),y=t(d,c);super(o,!0,y,null)}},c5=(l,t,a,i,o,c)=>class extends a{constructor(y,m){super(y),this._nativeContext=y,xu.set(this,y),i(y)&&o.set(y,new Set),this._destination=new l(this,m),this._listener=t(this,y),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(y){const m=typeof y=="function"?c(this,y):null;this._nativeContext.onstatechange=m;const v=this._nativeContext.onstatechange;this._onstatechange=v!==null&&v===m?y:v}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Dl=l=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const a=l.decodeAudioData(t.buffer,()=>{});return a===void 0?!1:(a.catch(()=>{}),!0)}catch{}return!1},h5=(l,t)=>(a,i,o)=>{const c=new Set;return a.connect=(d=>(y,m=0,v=0)=>{const g=c.size===0;if(t(y))return d.call(a,y,m,v),l(c,[y,m,v],T=>T[0]===y&&T[1]===m&&T[2]===v,!0),g&&i(),y;d.call(a,y,m),l(c,[y,m],T=>T[0]===y&&T[1]===m,!0),g&&i()})(a.connect),a.disconnect=(d=>(y,m,v)=>{const g=c.size>0;if(y===void 0)d.apply(a),c.clear();else if(typeof y=="number"){d.call(a,y);for(const w of c)w[1]===y&&c.delete(w)}else{t(y)?d.call(a,y,m,v):d.call(a,y,m);for(const w of c)w[0]===y&&(m===void 0||w[1]===m)&&(v===void 0||w[2]===v)&&c.delete(w)}const T=c.size===0;g&&T&&o()})(a.disconnect),a},ln=(l,t,a)=>{const i=t[a];i!==void 0&&i!==l[a]&&(l[a]=i)},Dn=(l,t)=>{ln(l,t,"channelCount"),ln(l,t,"channelCountMode"),ln(l,t,"channelInterpretation")},N2=l=>typeof l.getFloatTimeDomainData=="function",f5=l=>{l.getFloatTimeDomainData=t=>{const a=new Uint8Array(t.length);l.getByteTimeDomainData(a);const i=Math.max(a.length,l.fftSize);for(let o=0;o<i;o+=1)t[o]=(a[o]-128)*.0078125;return t}},d5=(l,t)=>(a,i)=>{const o=a.createAnalyser();if(Dn(o,i),!(i.maxDecibels>i.minDecibels))throw t();return ln(o,i,"fftSize"),ln(o,i,"maxDecibels"),ln(o,i,"minDecibels"),ln(o,i,"smoothingTimeConstant"),l(N2,()=>N2(o))||f5(o),o},_5=l=>l===null?null:l.hasOwnProperty("AudioBuffer")?l.AudioBuffer:null,yn=(l,t,a)=>{const i=t[a];i!==void 0&&i!==l[a].value&&(l[a].value=i)},m5=l=>{l.start=(t=>{let a=!1;return(i=0,o=0,c)=>{if(a)throw Hn();t.call(l,i,o,c),a=!0}})(l.start)},Wh=l=>{l.start=(t=>(a=0,i=0,o)=>{if(typeof o=="number"&&o<0||i<0||a<0)throw new RangeError("The parameters can't be negative.");t.call(l,a,i,o)})(l.start)},Kh=l=>{l.stop=(t=>(a=0)=>{if(a<0)throw new RangeError("The parameter can't be negative.");t.call(l,a)})(l.stop)},p5=(l,t,a,i,o,c,d,y,m,v,g)=>(T,w)=>{const q=T.createBufferSource();return Dn(q,w),yn(q,w,"playbackRate"),ln(q,w,"buffer"),ln(q,w,"loop"),ln(q,w,"loopEnd"),ln(q,w,"loopStart"),t(a,()=>a(T))||m5(q),t(i,()=>i(T))||m(q),t(o,()=>o(T))||v(q,T),t(c,()=>c(T))||Wh(q),t(d,()=>d(T))||g(q,T),t(y,()=>y(T))||Kh(q),l(T,q),q},v5=l=>l===null?null:l.hasOwnProperty("AudioContext")?l.AudioContext:l.hasOwnProperty("webkitAudioContext")?l.webkitAudioContext:null,y5=(l,t)=>(a,i,o)=>{const c=a.destination;if(c.channelCount!==i)try{c.channelCount=i}catch{}o&&c.channelCountMode!=="explicit"&&(c.channelCountMode="explicit"),c.maxChannelCount===0&&Object.defineProperty(c,"maxChannelCount",{value:i});const d=l(a,{channelCount:i,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:1});return t(d,"channelCount",y=>()=>y.call(d),y=>m=>{y.call(d,m);try{c.channelCount=m}catch(v){if(m>c.maxChannelCount)throw v}}),t(d,"channelCountMode",y=>()=>y.call(d),y=>m=>{y.call(d,m),c.channelCountMode=m}),t(d,"channelInterpretation",y=>()=>y.call(d),y=>m=>{y.call(d,m),c.channelInterpretation=m}),Object.defineProperty(d,"maxChannelCount",{get:()=>c.maxChannelCount}),d.connect(c),d},b5=l=>l===null?null:l.hasOwnProperty("AudioWorkletNode")?l.AudioWorkletNode:null,g5=l=>{const{port1:t}=new MessageChannel;try{t.postMessage(l)}finally{t.close()}},S5=(l,t,a,i,o)=>(c,d,y,m,v,g)=>{if(y!==null)try{const T=new y(c,m,g),w=new Map;let q=null;if(Object.defineProperties(T,{channelCount:{get:()=>g.channelCount,set:()=>{throw l()}},channelCountMode:{get:()=>"explicit",set:()=>{throw l()}},onprocessorerror:{get:()=>q,set:V=>{typeof q=="function"&&T.removeEventListener("processorerror",q),q=typeof V=="function"?V:null,typeof q=="function"&&T.addEventListener("processorerror",q)}}}),T.addEventListener=(V=>(...E)=>{if(E[0]==="processorerror"){const N=typeof E[1]=="function"?E[1]:typeof E[1]=="object"&&E[1]!==null&&typeof E[1].handleEvent=="function"?E[1].handleEvent:null;if(N!==null){const M=w.get(E[1]);M!==void 0?E[1]=M:(E[1]=G=>{G.type==="error"?(Object.defineProperties(G,{type:{value:"processorerror"}}),N(G)):N(new ErrorEvent(E[0],{...G}))},w.set(N,E[1]))}}return V.call(T,"error",E[1],E[2]),V.call(T,...E)})(T.addEventListener),T.removeEventListener=(V=>(...E)=>{if(E[0]==="processorerror"){const N=w.get(E[1]);N!==void 0&&(w.delete(E[1]),E[1]=N)}return V.call(T,"error",E[1],E[2]),V.call(T,E[0],E[1],E[2])})(T.removeEventListener),g.numberOfOutputs!==0){const V=a(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return T.connect(V).connect(c.destination),o(T,()=>V.disconnect(),()=>V.connect(c.destination))}return T}catch(T){throw T.code===11?i():T}if(v===void 0)throw i();return g5(g),t(c,d,v,g)},Hm=(l,t)=>l===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(l*t))))),T5=l=>new Promise((t,a)=>{const{port1:i,port2:o}=new MessageChannel;i.onmessage=({data:c})=>{i.close(),o.close(),t(c)},i.onmessageerror=({data:c})=>{i.close(),o.close(),a(c)},o.postMessage(l)}),A5=async(l,t)=>{const a=await T5(t);return new l(a)},x5=(l,t,a,i)=>{let o=Lh.get(l);o===void 0&&(o=new WeakMap,Lh.set(l,o));const c=A5(a,i);return o.set(t,c),c},w5=(l,t,a,i,o,c,d,y,m,v,g,T,w)=>(q,V,E,N)=>{if(N.numberOfInputs===0&&N.numberOfOutputs===0)throw m();const M=Array.isArray(N.outputChannelCount)?N.outputChannelCount:Array.from(N.outputChannelCount);if(M.some(ge=>ge<1))throw m();if(M.length!==N.numberOfOutputs)throw t();if(N.channelCountMode!=="explicit")throw m();const G=N.channelCount*N.numberOfInputs,b=M.reduce((ge,Ie)=>ge+Ie,0),Z=E.parameterDescriptors===void 0?0:E.parameterDescriptors.length;if(G+Z>6||b>6)throw m();const C=new MessageChannel,Q=[],j=[];for(let ge=0;ge<N.numberOfInputs;ge+=1)Q.push(d(q,{channelCount:N.channelCount,channelCountMode:N.channelCountMode,channelInterpretation:N.channelInterpretation,gain:1})),j.push(o(q,{channelCount:N.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:N.channelCount}));const H=[];if(E.parameterDescriptors!==void 0)for(const{defaultValue:ge,maxValue:Ie,minValue:nt,name:R}of E.parameterDescriptors){const I=c(q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:N.parameterData[R]!==void 0?N.parameterData[R]:ge===void 0?0:ge});Object.defineProperties(I.offset,{defaultValue:{get:()=>ge===void 0?0:ge},maxValue:{get:()=>Ie===void 0?ts:Ie},minValue:{get:()=>nt===void 0?As:nt}}),H.push(I)}const ne=i(q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,G+Z)}),le=Hm(V,q.sampleRate),ee=y(q,le,G+Z,Math.max(1,b)),k=o(q,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),Te=[];for(let ge=0;ge<N.numberOfOutputs;ge+=1)Te.push(i(q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:M[ge]}));for(let ge=0;ge<N.numberOfInputs;ge+=1){Q[ge].connect(j[ge]);for(let Ie=0;Ie<N.channelCount;Ie+=1)j[ge].connect(ne,Ie,ge*N.channelCount+Ie)}const $=new qm(E.parameterDescriptors===void 0?[]:E.parameterDescriptors.map(({name:ge},Ie)=>{const nt=H[Ie];return nt.connect(ne,0,G+Ie),nt.start(0),[ge,nt.offset]}));ne.connect(ee);let W=N.channelInterpretation,S=null;const B=N.numberOfOutputs===0?[ee]:Te,X={get bufferSize(){return le},get channelCount(){return N.channelCount},set channelCount(ge){throw a()},get channelCountMode(){return N.channelCountMode},set channelCountMode(ge){throw a()},get channelInterpretation(){return W},set channelInterpretation(ge){for(const Ie of Q)Ie.channelInterpretation=ge;W=ge},get context(){return ee.context},get inputs(){return Q},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},get onprocessorerror(){return S},set onprocessorerror(ge){typeof S=="function"&&X.removeEventListener("processorerror",S),S=typeof ge=="function"?ge:null,typeof S=="function"&&X.addEventListener("processorerror",S)},get parameters(){return $},get port(){return C.port2},addEventListener(...ge){return ee.addEventListener(ge[0],ge[1],ge[2])},connect:l.bind(null,B),disconnect:v.bind(null,B),dispatchEvent(...ge){return ee.dispatchEvent(ge[0])},removeEventListener(...ge){return ee.removeEventListener(ge[0],ge[1],ge[2])}},P=new Map;C.port1.addEventListener=(ge=>(...Ie)=>{if(Ie[0]==="message"){const nt=typeof Ie[1]=="function"?Ie[1]:typeof Ie[1]=="object"&&Ie[1]!==null&&typeof Ie[1].handleEvent=="function"?Ie[1].handleEvent:null;if(nt!==null){const R=P.get(Ie[1]);R!==void 0?Ie[1]=R:(Ie[1]=I=>{g(q.currentTime,q.sampleRate,()=>nt(I))},P.set(nt,Ie[1]))}}return ge.call(C.port1,Ie[0],Ie[1],Ie[2])})(C.port1.addEventListener),C.port1.removeEventListener=(ge=>(...Ie)=>{if(Ie[0]==="message"){const nt=P.get(Ie[1]);nt!==void 0&&(P.delete(Ie[1]),Ie[1]=nt)}return ge.call(C.port1,Ie[0],Ie[1],Ie[2])})(C.port1.removeEventListener);let A=null;Object.defineProperty(C.port1,"onmessage",{get:()=>A,set:ge=>{typeof A=="function"&&C.port1.removeEventListener("message",A),A=typeof ge=="function"?ge:null,typeof A=="function"&&(C.port1.addEventListener("message",A),C.port1.start())}}),E.prototype.port=C.port1;let h=null;x5(q,X,E,N).then(ge=>h=ge);const p=pu(N.numberOfInputs,N.channelCount),x=pu(N.numberOfOutputs,M),D=E.parameterDescriptors===void 0?[]:E.parameterDescriptors.reduce((ge,{name:Ie})=>({...ge,[Ie]:new Float32Array(128)}),{});let z=!0;const K=()=>{N.numberOfOutputs>0&&ee.disconnect(k);for(let ge=0,Ie=0;ge<N.numberOfOutputs;ge+=1){const nt=Te[ge];for(let R=0;R<M[ge];R+=1)k.disconnect(nt,Ie+R,R);Ie+=M[ge]}},L=new Map;ee.onaudioprocess=({inputBuffer:ge,outputBuffer:Ie})=>{if(h!==null){const nt=T(X);for(let R=0;R<le;R+=128){for(let I=0;I<N.numberOfInputs;I+=1)for(let Ce=0;Ce<N.channelCount;Ce+=1)mu(ge,p[I],Ce,Ce,R);E.parameterDescriptors!==void 0&&E.parameterDescriptors.forEach(({name:I},Ce)=>{mu(ge,D,I,G+Ce,R)});for(let I=0;I<N.numberOfInputs;I+=1)for(let Ce=0;Ce<M[I];Ce+=1)x[I][Ce].byteLength===0&&(x[I][Ce]=new Float32Array(128));try{const I=p.map((qe,et)=>{if(nt[et].size>0)return L.set(et,le/128),qe;const Pe=L.get(et);return Pe===void 0?[]:(qe.every(Qe=>Qe.every(ct=>ct===0))&&(Pe===1?L.delete(et):L.set(et,Pe-1)),qe)});z=g(q.currentTime+R/q.sampleRate,q.sampleRate,()=>h.process(I,x,D));for(let qe=0,et=0;qe<N.numberOfOutputs;qe+=1){for(let Ye=0;Ye<M[qe];Ye+=1)Lm(Ie,x[qe],Ye,et+Ye,R);et+=M[qe]}}catch(I){z=!1,X.dispatchEvent(new ErrorEvent("processorerror",{colno:I.colno,filename:I.filename,lineno:I.lineno,message:I.message}))}if(!z){for(let I=0;I<N.numberOfInputs;I+=1){Q[I].disconnect(j[I]);for(let Ce=0;Ce<N.channelCount;Ce+=1)j[R].disconnect(ne,Ce,I*N.channelCount+Ce)}if(E.parameterDescriptors!==void 0){const I=E.parameterDescriptors.length;for(let Ce=0;Ce<I;Ce+=1){const qe=H[Ce];qe.disconnect(ne,0,G+Ce),qe.stop()}}ne.disconnect(ee),ee.onaudioprocess=null,ae?K():ke();break}}}};let ae=!1;const oe=d(q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ee=()=>ee.connect(oe).connect(q.destination),ke=()=>{ee.disconnect(oe),oe.disconnect()},Ve=()=>{if(z){ke(),N.numberOfOutputs>0&&ee.connect(k);for(let ge=0,Ie=0;ge<N.numberOfOutputs;ge+=1){const nt=Te[ge];for(let R=0;R<M[ge];R+=1)k.connect(nt,Ie+R,R);Ie+=M[ge]}}ae=!0},je=()=>{z&&(Ee(),K()),ae=!1};return Ee(),w(X,Ve,je)},zm=(l,t)=>{const a=l.createBiquadFilter();return Dn(a,t),yn(a,t,"Q"),yn(a,t,"detune"),yn(a,t,"frequency"),yn(a,t,"gain"),ln(a,t,"type"),a},E5=(l,t)=>(a,i)=>{const o=a.createChannelMerger(i.numberOfInputs);return l!==null&&l.name==="webkitAudioContext"&&t(a,o),Dn(o,i),o},M5=l=>{const t=l.numberOfOutputs;Object.defineProperty(l,"channelCount",{get:()=>t,set:a=>{if(a!==t)throw Hn()}}),Object.defineProperty(l,"channelCountMode",{get:()=>"explicit",set:a=>{if(a!=="explicit")throw Hn()}}),Object.defineProperty(l,"channelInterpretation",{get:()=>"discrete",set:a=>{if(a!=="discrete")throw Hn()}})},Il=(l,t)=>{const a=l.createChannelSplitter(t.numberOfOutputs);return Dn(a,t),M5(a),a},R5=(l,t,a,i,o)=>(c,d)=>{if(c.createConstantSource===void 0)return a(c,d);const y=c.createConstantSource();return Dn(y,d),yn(y,d,"offset"),t(i,()=>i(c))||Wh(y),t(o,()=>o(c))||Kh(y),l(c,y),y},Nr=(l,t)=>(l.connect=t.connect.bind(t),l.disconnect=t.disconnect.bind(t),l),C5=(l,t,a,i)=>(o,{offset:c,...d})=>{const y=o.createBuffer(1,2,44100),m=t(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),v=a(o,{...d,gain:c}),g=y.getChannelData(0);g[0]=1,g[1]=1,m.buffer=y,m.loop=!0;const T={get bufferSize(){},get channelCount(){return v.channelCount},set channelCount(V){v.channelCount=V},get channelCountMode(){return v.channelCountMode},set channelCountMode(V){v.channelCountMode=V},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(V){v.channelInterpretation=V},get context(){return v.context},get inputs(){return[]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get offset(){return v.gain},get onended(){return m.onended},set onended(V){m.onended=V},addEventListener(...V){return m.addEventListener(V[0],V[1],V[2])},dispatchEvent(...V){return m.dispatchEvent(V[0])},removeEventListener(...V){return m.removeEventListener(V[0],V[1],V[2])},start(V=0){m.start.call(m,V)},stop(V=0){m.stop.call(m,V)}},w=()=>m.connect(v),q=()=>m.disconnect(v);return l(o,m),i(Nr(T,v),w,q)},N5=(l,t)=>(a,i)=>{const o=a.createConvolver();if(Dn(o,i),i.disableNormalization===o.normalize&&(o.normalize=!i.disableNormalization),ln(o,i,"buffer"),i.channelCount>2||(t(o,"channelCount",c=>()=>c.call(o),c=>d=>{if(d>2)throw l();return c.call(o,d)}),i.channelCountMode==="max"))throw l();return t(o,"channelCountMode",c=>()=>c.call(o),c=>d=>{if(d==="max")throw l();return c.call(o,d)}),o},Um=(l,t)=>{const a=l.createDelay(t.maxDelayTime);return Dn(a,t),yn(a,t,"delayTime"),a},O5=l=>(t,a)=>{const i=t.createDynamicsCompressor();if(Dn(i,a),a.channelCount>2||a.channelCountMode==="max")throw l();return yn(i,a,"attack"),yn(i,a,"knee"),yn(i,a,"ratio"),yn(i,a,"release"),yn(i,a,"threshold"),i},hs=(l,t)=>{const a=l.createGain();return Dn(a,t),yn(a,t,"gain"),a},D5=l=>(t,a,i)=>{if(t.createIIRFilter===void 0)return l(t,a,i);const o=t.createIIRFilter(i.feedforward,i.feedback);return Dn(o,i),o};function B5(l,t){const a=t[0]*t[0]+t[1]*t[1];return[(l[0]*t[0]+l[1]*t[1])/a,(l[1]*t[0]-l[0]*t[1])/a]}function k5(l,t){return[l[0]*t[0]-l[1]*t[1],l[0]*t[1]+l[1]*t[0]]}function O2(l,t){let a=[0,0];for(let i=l.length-1;i>=0;i-=1)a=k5(a,t),a[0]+=l[i];return a}const V5=(l,t,a,i)=>(o,c,{channelCount:d,channelCountMode:y,channelInterpretation:m,feedback:v,feedforward:g})=>{const T=Hm(c,o.sampleRate),w=v instanceof Float64Array?v:new Float64Array(v),q=g instanceof Float64Array?g:new Float64Array(g),V=w.length,E=q.length,N=Math.min(V,E);if(V===0||V>20)throw i();if(w[0]===0)throw t();if(E===0||E>20)throw i();if(q[0]===0)throw t();if(w[0]!==1){for(let H=0;H<E;H+=1)q[H]/=w[0];for(let H=1;H<V;H+=1)w[H]/=w[0]}const M=a(o,T,d,d);M.channelCount=d,M.channelCountMode=y,M.channelInterpretation=m;const G=32,b=[],Z=[],C=[];for(let H=0;H<d;H+=1){b.push(0);const ne=new Float32Array(G),le=new Float32Array(G);ne.fill(0),le.fill(0),Z.push(ne),C.push(le)}M.onaudioprocess=H=>{const ne=H.inputBuffer,le=H.outputBuffer,ee=ne.numberOfChannels;for(let k=0;k<ee;k+=1){const Te=ne.getChannelData(k),$=le.getChannelData(k);b[k]=Im(w,V,q,E,N,Z[k],C[k],b[k],G,Te,$)}};const Q=o.sampleRate/2;return Nr({get bufferSize(){return T},get channelCount(){return M.channelCount},set channelCount(H){M.channelCount=H},get channelCountMode(){return M.channelCountMode},set channelCountMode(H){M.channelCountMode=H},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(H){M.channelInterpretation=H},get context(){return M.context},get inputs(){return[M]},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},addEventListener(...H){return M.addEventListener(H[0],H[1],H[2])},dispatchEvent(...H){return M.dispatchEvent(H[0])},getFrequencyResponse(H,ne,le){if(H.length!==ne.length||ne.length!==le.length)throw l();const ee=H.length;for(let k=0;k<ee;k+=1){const Te=-Math.PI*(H[k]/Q),$=[Math.cos(Te),Math.sin(Te)],W=O2(q,$),S=O2(w,$),B=B5(W,S);ne[k]=Math.sqrt(B[0]*B[0]+B[1]*B[1]),le[k]=Math.atan2(B[1],B[0])}},removeEventListener(...H){return M.removeEventListener(H[0],H[1],H[2])}},M)},q5=(l,t)=>l.createMediaElementSource(t.mediaElement),L5=(l,t)=>{const a=l.createMediaStreamDestination();return Dn(a,t),a.numberOfOutputs===1&&Object.defineProperty(a,"numberOfOutputs",{get:()=>0}),a},I5=(l,{mediaStream:t})=>{const a=t.getAudioTracks();a.sort((c,d)=>c.id<d.id?-1:c.id>d.id?1:0);const i=a.slice(0,1),o=l.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(o,"mediaStream",{value:t}),o},H5=(l,t)=>(a,{mediaStreamTrack:i})=>{if(typeof a.createMediaStreamTrackSource=="function")return a.createMediaStreamTrackSource(i);const o=new MediaStream([i]),c=a.createMediaStreamSource(o);if(i.kind!=="audio")throw l();if(t(a))throw new TypeError;return c},z5=l=>l===null?null:l.hasOwnProperty("OfflineAudioContext")?l.OfflineAudioContext:l.hasOwnProperty("webkitOfflineAudioContext")?l.webkitOfflineAudioContext:null,U5=(l,t,a,i,o,c)=>(d,y)=>{const m=d.createOscillator();return Dn(m,y),yn(m,y,"detune"),yn(m,y,"frequency"),y.periodicWave!==void 0?m.setPeriodicWave(y.periodicWave):ln(m,y,"type"),t(a,()=>a(d))||Wh(m),t(i,()=>i(d))||c(m,d),t(o,()=>o(d))||Kh(m),l(d,m),m},j5=l=>(t,a)=>{const i=t.createPanner();return i.orientationX===void 0?l(t,a):(Dn(i,a),yn(i,a,"orientationX"),yn(i,a,"orientationY"),yn(i,a,"orientationZ"),yn(i,a,"positionX"),yn(i,a,"positionY"),yn(i,a,"positionZ"),ln(i,a,"coneInnerAngle"),ln(i,a,"coneOuterAngle"),ln(i,a,"coneOuterGain"),ln(i,a,"distanceModel"),ln(i,a,"maxDistance"),ln(i,a,"panningModel"),ln(i,a,"refDistance"),ln(i,a,"rolloffFactor"),i)},G5=(l,t,a,i,o,c,d,y,m,v)=>(g,{coneInnerAngle:T,coneOuterAngle:w,coneOuterGain:q,distanceModel:V,maxDistance:E,orientationX:N,orientationY:M,orientationZ:G,panningModel:b,positionX:Z,positionY:C,positionZ:Q,refDistance:j,rolloffFactor:H,...ne})=>{const le=g.createPanner();if(ne.channelCount>2||ne.channelCountMode==="max")throw d();Dn(le,ne);const ee={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},k=a(g,{...ee,channelInterpretation:"speakers",numberOfInputs:6}),Te=i(g,{...ne,gain:1}),$=i(g,{...ee,gain:1}),W=i(g,{...ee,gain:0}),S=i(g,{...ee,gain:0}),B=i(g,{...ee,gain:0}),X=i(g,{...ee,gain:0}),P=i(g,{...ee,gain:0}),A=o(g,256,6,1),h=c(g,{...ee,curve:new Float32Array([1,1]),oversample:"none"});let _=[N,M,G],p=[Z,C,Q];const x=new Float32Array(1);A.onaudioprocess=({inputBuffer:L})=>{const ae=[m(L,x,0),m(L,x,1),m(L,x,2)];ae.some((Ee,ke)=>Ee!==_[ke])&&(le.setOrientation(...ae),_=ae);const oe=[m(L,x,3),m(L,x,4),m(L,x,5)];oe.some((Ee,ke)=>Ee!==p[ke])&&(le.setPosition(...oe),p=oe)},Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(S.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(X.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0});const D={get bufferSize(){},get channelCount(){return le.channelCount},set channelCount(L){if(L>2)throw d();Te.channelCount=L,le.channelCount=L},get channelCountMode(){return le.channelCountMode},set channelCountMode(L){if(L==="max")throw d();Te.channelCountMode=L,le.channelCountMode=L},get channelInterpretation(){return le.channelInterpretation},set channelInterpretation(L){Te.channelInterpretation=L,le.channelInterpretation=L},get coneInnerAngle(){return le.coneInnerAngle},set coneInnerAngle(L){le.coneInnerAngle=L},get coneOuterAngle(){return le.coneOuterAngle},set coneOuterAngle(L){le.coneOuterAngle=L},get coneOuterGain(){return le.coneOuterGain},set coneOuterGain(L){if(L<0||L>1)throw t();le.coneOuterGain=L},get context(){return le.context},get distanceModel(){return le.distanceModel},set distanceModel(L){le.distanceModel=L},get inputs(){return[Te]},get maxDistance(){return le.maxDistance},set maxDistance(L){if(L<0)throw new RangeError;le.maxDistance=L},get numberOfInputs(){return le.numberOfInputs},get numberOfOutputs(){return le.numberOfOutputs},get orientationX(){return $.gain},get orientationY(){return W.gain},get orientationZ(){return S.gain},get panningModel(){return le.panningModel},set panningModel(L){le.panningModel=L},get positionX(){return B.gain},get positionY(){return X.gain},get positionZ(){return P.gain},get refDistance(){return le.refDistance},set refDistance(L){if(L<0)throw new RangeError;le.refDistance=L},get rolloffFactor(){return le.rolloffFactor},set rolloffFactor(L){if(L<0)throw new RangeError;le.rolloffFactor=L},addEventListener(...L){return Te.addEventListener(L[0],L[1],L[2])},dispatchEvent(...L){return Te.dispatchEvent(L[0])},removeEventListener(...L){return Te.removeEventListener(L[0],L[1],L[2])}};T!==D.coneInnerAngle&&(D.coneInnerAngle=T),w!==D.coneOuterAngle&&(D.coneOuterAngle=w),q!==D.coneOuterGain&&(D.coneOuterGain=q),V!==D.distanceModel&&(D.distanceModel=V),E!==D.maxDistance&&(D.maxDistance=E),N!==D.orientationX.value&&(D.orientationX.value=N),M!==D.orientationY.value&&(D.orientationY.value=M),G!==D.orientationZ.value&&(D.orientationZ.value=G),b!==D.panningModel&&(D.panningModel=b),Z!==D.positionX.value&&(D.positionX.value=Z),C!==D.positionY.value&&(D.positionY.value=C),Q!==D.positionZ.value&&(D.positionZ.value=Q),j!==D.refDistance&&(D.refDistance=j),H!==D.rolloffFactor&&(D.rolloffFactor=H),(_[0]!==1||_[1]!==0||_[2]!==0)&&le.setOrientation(..._),(p[0]!==0||p[1]!==0||p[2]!==0)&&le.setPosition(...p);const z=()=>{Te.connect(le),l(Te,h,0,0),h.connect($).connect(k,0,0),h.connect(W).connect(k,0,1),h.connect(S).connect(k,0,2),h.connect(B).connect(k,0,3),h.connect(X).connect(k,0,4),h.connect(P).connect(k,0,5),k.connect(A).connect(g.destination)},K=()=>{Te.disconnect(le),y(Te,h,0,0),h.disconnect($),$.disconnect(k),h.disconnect(W),W.disconnect(k),h.disconnect(S),S.disconnect(k),h.disconnect(B),B.disconnect(k),h.disconnect(X),X.disconnect(k),h.disconnect(P),P.disconnect(k),k.disconnect(A),A.disconnect(g.destination)};return v(Nr(D,le),z,K)},F5=l=>(t,{disableNormalization:a,imag:i,real:o})=>{const c=i instanceof Float32Array?i:new Float32Array(i),d=o instanceof Float32Array?o:new Float32Array(o),y=t.createPeriodicWave(d,c,{disableNormalization:a});if(Array.from(i).length<2)throw l();return y},Hl=(l,t,a,i)=>l.createScriptProcessor(t,a,i),X5=(l,t)=>(a,i)=>{const o=i.channelCountMode;if(o==="clamped-max")throw t();if(a.createStereoPanner===void 0)return l(a,i);const c=a.createStereoPanner();return Dn(c,i),yn(c,i,"pan"),Object.defineProperty(c,"channelCountMode",{get:()=>o,set:d=>{if(d!==o)throw t()}}),c},Y5=(l,t,a,i,o,c)=>{const y=new Float32Array([1,1]),m=Math.PI/2,v={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},g={...v,oversample:"none"},T=(V,E,N,M)=>{const G=new Float32Array(16385),b=new Float32Array(16385);for(let ne=0;ne<16385;ne+=1){const le=ne/16384*m;G[ne]=Math.cos(le),b[ne]=Math.sin(le)}const Z=a(V,{...v,gain:0}),C=i(V,{...g,curve:G}),Q=i(V,{...g,curve:y}),j=a(V,{...v,gain:0}),H=i(V,{...g,curve:b});return{connectGraph(){E.connect(Z),E.connect(Q.inputs===void 0?Q:Q.inputs[0]),E.connect(j),Q.connect(N),N.connect(C.inputs===void 0?C:C.inputs[0]),N.connect(H.inputs===void 0?H:H.inputs[0]),C.connect(Z.gain),H.connect(j.gain),Z.connect(M,0,0),j.connect(M,0,1)},disconnectGraph(){E.disconnect(Z),E.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),E.disconnect(j),Q.disconnect(N),N.disconnect(C.inputs===void 0?C:C.inputs[0]),N.disconnect(H.inputs===void 0?H:H.inputs[0]),C.disconnect(Z.gain),H.disconnect(j.gain),Z.disconnect(M,0,0),j.disconnect(M,0,1)}}},w=(V,E,N,M)=>{const G=new Float32Array(16385),b=new Float32Array(16385),Z=new Float32Array(16385),C=new Float32Array(16385),Q=Math.floor(16385/2);for(let B=0;B<16385;B+=1)if(B>Q){const X=(B-Q)/(16384-Q)*m;G[B]=Math.cos(X),b[B]=Math.sin(X),Z[B]=0,C[B]=1}else{const X=B/(16384-Q)*m;G[B]=1,b[B]=0,Z[B]=Math.cos(X),C[B]=Math.sin(X)}const j=t(V,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),H=a(V,{...v,gain:0}),ne=i(V,{...g,curve:G}),le=a(V,{...v,gain:0}),ee=i(V,{...g,curve:b}),k=i(V,{...g,curve:y}),Te=a(V,{...v,gain:0}),$=i(V,{...g,curve:Z}),W=a(V,{...v,gain:0}),S=i(V,{...g,curve:C});return{connectGraph(){E.connect(j),E.connect(k.inputs===void 0?k:k.inputs[0]),j.connect(H,0),j.connect(le,0),j.connect(Te,1),j.connect(W,1),k.connect(N),N.connect(ne.inputs===void 0?ne:ne.inputs[0]),N.connect(ee.inputs===void 0?ee:ee.inputs[0]),N.connect($.inputs===void 0?$:$.inputs[0]),N.connect(S.inputs===void 0?S:S.inputs[0]),ne.connect(H.gain),ee.connect(le.gain),$.connect(Te.gain),S.connect(W.gain),H.connect(M,0,0),Te.connect(M,0,0),le.connect(M,0,1),W.connect(M,0,1)},disconnectGraph(){E.disconnect(j),E.disconnect(k.inputs===void 0?k:k.inputs[0]),j.disconnect(H,0),j.disconnect(le,0),j.disconnect(Te,1),j.disconnect(W,1),k.disconnect(N),N.disconnect(ne.inputs===void 0?ne:ne.inputs[0]),N.disconnect(ee.inputs===void 0?ee:ee.inputs[0]),N.disconnect($.inputs===void 0?$:$.inputs[0]),N.disconnect(S.inputs===void 0?S:S.inputs[0]),ne.disconnect(H.gain),ee.disconnect(le.gain),$.disconnect(Te.gain),S.disconnect(W.gain),H.disconnect(M,0,0),Te.disconnect(M,0,0),le.disconnect(M,0,1),W.disconnect(M,0,1)}}},q=(V,E,N,M,G)=>{if(E===1)return T(V,N,M,G);if(E===2)return w(V,N,M,G);throw o()};return(V,{channelCount:E,channelCountMode:N,pan:M,...G})=>{if(N==="max")throw o();const b=l(V,{...G,channelCount:1,channelCountMode:N,numberOfInputs:2}),Z=a(V,{...G,channelCount:E,channelCountMode:N,gain:1}),C=a(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:M});let{connectGraph:Q,disconnectGraph:j}=q(V,E,Z,C,b);Object.defineProperty(C.gain,"defaultValue",{get:()=>0}),Object.defineProperty(C.gain,"maxValue",{get:()=>1}),Object.defineProperty(C.gain,"minValue",{get:()=>-1});const H={get bufferSize(){},get channelCount(){return Z.channelCount},set channelCount(k){Z.channelCount!==k&&(ne&&j(),{connectGraph:Q,disconnectGraph:j}=q(V,k,Z,C,b),ne&&Q()),Z.channelCount=k},get channelCountMode(){return Z.channelCountMode},set channelCountMode(k){if(k==="clamped-max"||k==="max")throw o();Z.channelCountMode=k},get channelInterpretation(){return Z.channelInterpretation},set channelInterpretation(k){Z.channelInterpretation=k},get context(){return Z.context},get inputs(){return[Z]},get numberOfInputs(){return Z.numberOfInputs},get numberOfOutputs(){return Z.numberOfOutputs},get pan(){return C.gain},addEventListener(...k){return Z.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return Z.dispatchEvent(k[0])},removeEventListener(...k){return Z.removeEventListener(k[0],k[1],k[2])}};let ne=!1;const le=()=>{Q(),ne=!0},ee=()=>{j(),ne=!1};return c(Nr(H,b),le,ee)}},Z5=(l,t,a,i,o,c,d)=>(y,m)=>{const v=y.createWaveShaper();if(c!==null&&c.name==="webkitAudioContext"&&y.createGain().gain.automationRate===void 0)return a(y,m);Dn(v,m);const g=m.curve===null||m.curve instanceof Float32Array?m.curve:new Float32Array(m.curve);if(g!==null&&g.length<2)throw t();ln(v,{curve:g},"curve"),ln(v,m,"oversample");let T=null,w=!1;return d(v,"curve",E=>()=>E.call(v),E=>N=>(E.call(v,N),w&&(i(N)&&T===null?T=l(y,v):!i(N)&&T!==null&&(T(),T=null)),N)),o(v,()=>{w=!0,i(v.curve)&&(T=l(y,v))},()=>{w=!1,T!==null&&(T(),T=null)})},Q5=(l,t,a,i,o)=>(c,{curve:d,oversample:y,...m})=>{const v=c.createWaveShaper(),g=c.createWaveShaper();Dn(v,m),Dn(g,m);const T=a(c,{...m,gain:1}),w=a(c,{...m,gain:-1}),q=a(c,{...m,gain:1}),V=a(c,{...m,gain:-1});let E=null,N=!1,M=null;const G={get bufferSize(){},get channelCount(){return v.channelCount},set channelCount(C){T.channelCount=C,w.channelCount=C,v.channelCount=C,q.channelCount=C,g.channelCount=C,V.channelCount=C},get channelCountMode(){return v.channelCountMode},set channelCountMode(C){T.channelCountMode=C,w.channelCountMode=C,v.channelCountMode=C,q.channelCountMode=C,g.channelCountMode=C,V.channelCountMode=C},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(C){T.channelInterpretation=C,w.channelInterpretation=C,v.channelInterpretation=C,q.channelInterpretation=C,g.channelInterpretation=C,V.channelInterpretation=C},get context(){return v.context},get curve(){return M},set curve(C){if(C!==null&&C.length<2)throw t();if(C===null)v.curve=C,g.curve=C;else{const Q=C.length,j=new Float32Array(Q+2-Q%2),H=new Float32Array(Q+2-Q%2);j[0]=C[0],H[0]=-C[Q-1];const ne=Math.ceil((Q+1)/2),le=(Q+1)/2-1;for(let ee=1;ee<ne;ee+=1){const k=ee/ne*le,Te=Math.floor(k),$=Math.ceil(k);j[ee]=Te===$?C[Te]:(1-(k-Te))*C[Te]+(1-($-k))*C[$],H[ee]=Te===$?-C[Q-1-Te]:-((1-(k-Te))*C[Q-1-Te])-(1-($-k))*C[Q-1-$]}j[ne]=Q%2===1?C[ne-1]:(C[ne-2]+C[ne-1])/2,v.curve=j,g.curve=H}M=C,N&&(i(M)&&E===null?E=l(c,T):E!==null&&(E(),E=null))},get inputs(){return[T]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get oversample(){return v.oversample},set oversample(C){v.oversample=C,g.oversample=C},addEventListener(...C){return T.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return T.dispatchEvent(C[0])},removeEventListener(...C){return T.removeEventListener(C[0],C[1],C[2])}};d!==null&&(G.curve=d instanceof Float32Array?d:new Float32Array(d)),y!==G.oversample&&(G.oversample=y);const b=()=>{T.connect(v).connect(q),T.connect(w).connect(g).connect(V).connect(q),N=!0,i(M)&&(E=l(c,T))},Z=()=>{T.disconnect(v),v.disconnect(q),T.disconnect(w),w.disconnect(g),g.disconnect(V),V.disconnect(q),N=!1,E!==null&&(E(),E=null)};return o(Nr(G,q),b,Z)},as=()=>new DOMException("","NotSupportedError"),W5={numberOfChannels:1},K5=(l,t,a,i,o)=>class extends l{constructor(d,y,m){let v;if(typeof d=="number"&&y!==void 0&&m!==void 0)v={length:y,numberOfChannels:d,sampleRate:m};else if(typeof d=="object")v=d;else throw new Error("The given parameters are not valid.");const{length:g,numberOfChannels:T,sampleRate:w}={...W5,...v},q=i(T,g,w);t(Dl,()=>Dl(q))||q.addEventListener("statechange",(()=>{let V=0;const E=N=>{this._state==="running"&&(V>0?(q.removeEventListener("statechange",E),N.stopImmediatePropagation(),this._waitForThePromiseToSettle(N)):V+=1)};return E})()),super(q,T),this._length=g,this._nativeOfflineAudioContext=q,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(a()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Dm(this)}))}_waitForThePromiseToSettle(d){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(d):setTimeout(()=>this._waitForThePromiseToSettle(d))}},P5={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},J5=(l,t,a,i,o,c,d)=>class extends l{constructor(m,v){const g=o(m),T={...P5,...v},w=a(g,T),q=c(g),V=q?i():null,E=m.sampleRate/2;super(m,!1,w,V),this._detune=t(this,q,w.detune,153600,-153600),this._frequency=t(this,q,w.frequency,E,-E),this._nativeOscillatorNode=w,this._onended=null,this._oscillatorNodeRenderer=V,this._oscillatorNodeRenderer!==null&&T.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=T.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(m){const v=typeof m=="function"?d(this,m):null;this._nativeOscillatorNode.onended=v;const g=this._nativeOscillatorNode.onended;this._onended=g!==null&&g===v?m:g}get type(){return this._nativeOscillatorNode.type}set type(m){this._nativeOscillatorNode.type=m,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(m){this._nativeOscillatorNode.setPeriodicWave(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=m)}start(m=0){if(this._nativeOscillatorNode.start(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=m),this.context.state!=="closed"){Ar(this);const v=()=>{this._nativeOscillatorNode.removeEventListener("ended",v),Ra(this)&&Vl(this)};this._nativeOscillatorNode.addEventListener("ended",v)}}stop(m=0){this._nativeOscillatorNode.stop(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=m)}},$5=(l,t,a,i,o)=>()=>{const c=new WeakMap;let d=null,y=null,m=null;const v=async(g,T)=>{let w=a(g);const q=Pn(w,T);if(!q){const V={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,detune:w.detune.value,frequency:w.frequency.value,periodicWave:d===null?void 0:d,type:w.type};w=t(T,V),y!==null&&w.start(y),m!==null&&w.stop(m)}return c.set(T,w),q?(await l(T,g.detune,w.detune),await l(T,g.frequency,w.frequency)):(await i(T,g.detune,w.detune),await i(T,g.frequency,w.frequency)),await o(g,T,w),w};return{set periodicWave(g){d=g},set start(g){y=g},set stop(g){m=g},render(g,T){const w=c.get(T);return w!==void 0?Promise.resolve(w):v(g,T)}}},e8={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},t8=(l,t,a,i,o,c,d)=>class extends l{constructor(m,v){const g=o(m),T={...e8,...v},w=a(g,T),q=c(g),V=q?i():null;super(m,!1,w,V),this._nativePannerNode=w,this._orientationX=t(this,q,w.orientationX,ts,As),this._orientationY=t(this,q,w.orientationY,ts,As),this._orientationZ=t(this,q,w.orientationZ,ts,As),this._positionX=t(this,q,w.positionX,ts,As),this._positionY=t(this,q,w.positionY,ts,As),this._positionZ=t(this,q,w.positionZ,ts,As),d(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(m){this._nativePannerNode.coneInnerAngle=m}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(m){this._nativePannerNode.coneOuterAngle=m}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(m){this._nativePannerNode.coneOuterGain=m}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(m){this._nativePannerNode.distanceModel=m}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(m){this._nativePannerNode.maxDistance=m}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(m){this._nativePannerNode.panningModel=m}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(m){this._nativePannerNode.refDistance=m}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(m){this._nativePannerNode.rolloffFactor=m}},n8=(l,t,a,i,o,c,d,y,m,v)=>()=>{const g=new WeakMap;let T=null;const w=async(q,V)=>{let E=null,N=c(q);const M={channelCount:N.channelCount,channelCountMode:N.channelCountMode,channelInterpretation:N.channelInterpretation},G={...M,coneInnerAngle:N.coneInnerAngle,coneOuterAngle:N.coneOuterAngle,coneOuterGain:N.coneOuterGain,distanceModel:N.distanceModel,maxDistance:N.maxDistance,panningModel:N.panningModel,refDistance:N.refDistance,rolloffFactor:N.rolloffFactor},b=Pn(N,V);if("bufferSize"in N)E=i(V,{...M,gain:1});else if(!b){const Z={...G,orientationX:N.orientationX.value,orientationY:N.orientationY.value,orientationZ:N.orientationZ.value,positionX:N.positionX.value,positionY:N.positionY.value,positionZ:N.positionZ.value};N=o(V,Z)}if(g.set(V,E===null?N:E),E!==null){if(T===null){if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ee=new d(6,q.context.length,V.sampleRate),k=t(ee,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});k.connect(ee.destination),T=(async()=>{const Te=await Promise.all([q.orientationX,q.orientationY,q.orientationZ,q.positionX,q.positionY,q.positionZ].map(async($,W)=>{const S=a(ee,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:W===0?1:0});return await y(ee,$,S.offset),S}));for(let $=0;$<6;$+=1)Te[$].connect(k,0,$),Te[$].start(0);return v(ee)})()}const Z=await T,C=i(V,{...M,gain:1});await m(q,V,C);const Q=[];for(let ee=0;ee<Z.numberOfChannels;ee+=1)Q.push(Z.getChannelData(ee));let j=[Q[0][0],Q[1][0],Q[2][0]],H=[Q[3][0],Q[4][0],Q[5][0]],ne=i(V,{...M,gain:1}),le=o(V,{...G,orientationX:j[0],orientationY:j[1],orientationZ:j[2],positionX:H[0],positionY:H[1],positionZ:H[2]});C.connect(ne).connect(le.inputs[0]),le.connect(E);for(let ee=128;ee<Z.length;ee+=128){const k=[Q[0][ee],Q[1][ee],Q[2][ee]],Te=[Q[3][ee],Q[4][ee],Q[5][ee]];if(k.some(($,W)=>$!==j[W])||Te.some(($,W)=>$!==H[W])){j=k,H=Te;const $=ee/V.sampleRate;ne.gain.setValueAtTime(0,$),ne=i(V,{...M,gain:0}),le=o(V,{...G,orientationX:j[0],orientationY:j[1],orientationZ:j[2],positionX:H[0],positionY:H[1],positionZ:H[2]}),ne.gain.setValueAtTime(1,$),C.connect(ne).connect(le.inputs[0]),le.connect(E)}}return E}return b?(await l(V,q.orientationX,N.orientationX),await l(V,q.orientationY,N.orientationY),await l(V,q.orientationZ,N.orientationZ),await l(V,q.positionX,N.positionX),await l(V,q.positionY,N.positionY),await l(V,q.positionZ,N.positionZ)):(await y(V,q.orientationX,N.orientationX),await y(V,q.orientationY,N.orientationY),await y(V,q.orientationZ,N.orientationZ),await y(V,q.positionX,N.positionX),await y(V,q.positionY,N.positionY),await y(V,q.positionZ,N.positionZ)),Cr(N)?await m(q,V,N.inputs[0]):await m(q,V,N),N};return{render(q,V){const E=g.get(V);return E!==void 0?Promise.resolve(E):w(q,V)}}},s8={disableNormalization:!1},a8=(l,t,a,i)=>class jm{constructor(c,d){const y=t(c),m=i({...s8,...d}),v=l(y,m);return a.add(v),v}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===jm.prototype||a.has(c)}},i8=(l,t)=>(a,i,o)=>(l(i).replay(o),t(i,a,o)),r8=(l,t,a)=>async(i,o,c)=>{const d=l(i);await Promise.all(d.activeInputs.map((y,m)=>Array.from(y).map(async([v,g])=>{const w=await t(v).render(v,o),q=i.context.destination;!a(v)&&(i!==q||!a(i))&&w.connect(c,g,m)})).reduce((y,m)=>[...y,...m],[]))},l8=(l,t,a)=>async(i,o,c)=>{const d=t(i);await Promise.all(Array.from(d.activeInputs).map(async([y,m])=>{const g=await l(y).render(y,o);a(y)||g.connect(c,m)}))},o8=(l,t,a,i)=>o=>l(Dl,()=>Dl(o))?Promise.resolve(l(i,i)).then(c=>{if(!c){const d=a(o,512,0,1);o.oncomplete=()=>{d.onaudioprocess=null,d.disconnect()},d.onaudioprocess=()=>o.currentTime,d.connect(o.destination)}return o.startRendering()}):new Promise(c=>{const d=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=y=>{d.disconnect(),c(y.renderedBuffer)},d.connect(o.destination),o.startRendering()}),u8=l=>(t,a)=>{l.set(t,a)},c8=l=>(t,a)=>l.set(t,a),h8=(l,t,a,i,o,c,d,y)=>(m,v)=>a(m).render(m,v).then(()=>Promise.all(Array.from(i(v)).map(g=>a(g).render(g,v)))).then(()=>o(v)).then(g=>(typeof g.copyFromChannel!="function"?(d(g),Yh(g)):t(c,()=>c(g))||y(g),l.add(g),g)),f8={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},d8=(l,t,a,i,o,c)=>class extends l{constructor(y,m){const v=o(y),g={...f8,...m},T=a(v,g),w=c(v),q=w?i():null;super(y,!1,T,q),this._pan=t(this,w,T.pan)}get pan(){return this._pan}},_8=(l,t,a,i,o)=>()=>{const c=new WeakMap,d=async(y,m)=>{let v=a(y);const g=Pn(v,m);if(!g){const T={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,pan:v.pan.value};v=t(m,T)}return c.set(m,v),g?await l(m,y.pan,v.pan):await i(m,y.pan,v.pan),Cr(v)?await o(y,m,v.inputs[0]):await o(y,m,v),v};return{render(y,m){const v=c.get(m);return v!==void 0?Promise.resolve(v):d(y,m)}}},m8=l=>()=>{if(l===null)return!1;try{new l({length:1,sampleRate:44100})}catch{return!1}return!0},p8=(l,t)=>async()=>{if(l===null)return!0;if(t===null)return!1;const a=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new t(1,128,44100),o=URL.createObjectURL(a);let c=!1,d=!1;try{await i.audioWorklet.addModule(o);const y=new l(i,"a",{numberOfOutputs:0}),m=i.createOscillator();y.port.onmessage=()=>c=!0,y.onprocessorerror=()=>d=!0,m.connect(y),m.start(0),await i.startRendering(),await new Promise(v=>setTimeout(v))}catch{}finally{URL.revokeObjectURL(o)}return c&&!d},v8=(l,t)=>()=>{if(t===null)return Promise.resolve(!1);const a=new t(1,1,44100),i=l(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{a.oncomplete=()=>{i.disconnect(),o(a.currentTime!==0)},a.startRendering()})},y8=()=>new DOMException("","UnknownError"),b8={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},g8=(l,t,a,i,o,c,d)=>class extends l{constructor(m,v){const g=o(m),T={...b8,...v},w=a(g,T),V=c(g)?i():null;super(m,!0,w,V),this._isCurveNullified=!1,this._nativeWaveShaperNode=w,d(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(m){if(m===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(m.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=m}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(m){this._nativeWaveShaperNode.oversample=m}},S8=(l,t,a)=>()=>{const i=new WeakMap,o=async(c,d)=>{let y=t(c);if(!Pn(y,d)){const v={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,curve:y.curve,oversample:y.oversample};y=l(d,v)}return i.set(d,y),Cr(y)?await a(c,d,y.inputs[0]):await a(c,d,y),y};return{render(c,d){const y=i.get(d);return y!==void 0?Promise.resolve(y):o(c,d)}}},T8=()=>typeof window>"u"?null:window,A8=(l,t)=>a=>{a.copyFromChannel=(i,o,c=0)=>{const d=l(c),y=l(o);if(y>=a.numberOfChannels)throw t();const m=a.length,v=a.getChannelData(y),g=i.length;for(let T=d<0?-d:0;T+d<m&&T<g;T+=1)i[T]=v[T+d]},a.copyToChannel=(i,o,c=0)=>{const d=l(c),y=l(o);if(y>=a.numberOfChannels)throw t();const m=a.length,v=a.getChannelData(y),g=i.length;for(let T=d<0?-d:0;T+d<m&&T<g;T+=1)v[T+d]=i[T]}},x8=l=>t=>{t.copyFromChannel=(a=>(i,o,c=0)=>{const d=l(c),y=l(o);if(d<t.length)return a.call(t,i,y,d)})(t.copyFromChannel),t.copyToChannel=(a=>(i,o,c=0)=>{const d=l(c),y=l(o);if(d<t.length)return a.call(t,i,y,d)})(t.copyToChannel)},w8=l=>(t,a)=>{const i=a.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=i),l(t,"buffer",o=>()=>{const c=o.call(t);return c===i?null:c},o=>c=>o.call(t,c===null?i:c))},E8=(l,t)=>(a,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw l()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw l()}});const o=a.createBufferSource();t(i,()=>{const y=i.numberOfInputs;for(let m=0;m<y;m+=1)o.connect(i,0,m)},()=>o.disconnect(i))},Gm=(l,t,a)=>l.copyFromChannel===void 0?l.getChannelData(a)[0]:(l.copyFromChannel(t,a),t[0]),Fm=l=>{if(l===null)return!1;const t=l.length;return t%2!==0?l[Math.floor(t/2)]!==0:l[t/2-1]+l[t/2]!==0},zl=(l,t,a,i)=>{let o=l;for(;!o.hasOwnProperty(t);)o=Object.getPrototypeOf(o);const{get:c,set:d}=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(l,t,{get:a(c),set:i(d)})},M8=l=>({...l,outputChannelCount:l.outputChannelCount!==void 0?l.outputChannelCount:l.numberOfInputs===1&&l.numberOfOutputs===1?[l.channelCount]:Array.from({length:l.numberOfOutputs},()=>1)}),R8=l=>({...l,channelCount:l.numberOfOutputs}),C8=l=>{const{imag:t,real:a}=l;return t===void 0?a===void 0?{...l,imag:[0,0],real:[0,0]}:{...l,imag:Array.from(a,()=>0),real:a}:a===void 0?{...l,imag:t,real:Array.from(t,()=>0)}:{...l,imag:t,real:a}},Xm=(l,t,a)=>{try{l.setValueAtTime(t,a)}catch(i){if(i.code!==9)throw i;Xm(l,t,a+1e-7)}},N8=l=>{const t=l.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},O8=l=>{const t=l.createBufferSource(),a=l.createBuffer(1,1,44100);t.buffer=a;try{t.start(0,1)}catch{return!1}return!0},D8=l=>{const t=l.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},Ph=l=>{const t=l.createOscillator();try{t.start(-1)}catch(a){return a instanceof RangeError}return!1},Ym=l=>{const t=l.createBuffer(1,1,44100),a=l.createBufferSource();a.buffer=t,a.start(),a.stop();try{return a.stop(),!0}catch{return!1}},Jh=l=>{const t=l.createOscillator();try{t.stop(-1)}catch(a){return a instanceof RangeError}return!1},B8=l=>{const{port1:t,port2:a}=new MessageChannel;try{t.postMessage(l)}finally{t.close(),a.close()}},k8=l=>{l.start=(t=>(a=0,i=0,o)=>{const c=l.buffer,d=c===null?i:Math.min(c.duration,i);c!==null&&d>c.duration-.5/l.context.sampleRate?t.call(l,a,0,0):t.call(l,a,d,o)})(l.start)},Zm=(l,t)=>{const a=t.createGain();l.connect(a);const i=(o=>()=>{o.call(l,a),l.removeEventListener("ended",i)})(l.disconnect);l.addEventListener("ended",i),Nr(l,a),l.stop=(o=>{let c=!1;return(d=0)=>{if(c)try{o.call(l,d)}catch{a.gain.setValueAtTime(0,d)}else o.call(l,d),c=!0}})(l.stop)},Or=(l,t)=>a=>{const i={value:l};return Object.defineProperties(a,{currentTarget:i,target:i}),typeof t=="function"?t.call(l,a):t.handleEvent.call(l,a)},V8=t4(ki),q8=l4(ki),L8=by(wu),Qm=new WeakMap,I8=Ly(Qm),Qs=W4(new Map,new WeakMap),sa=T8(),Wm=d5(Qs,ia),$h=qy(ns),Fn=r8(ns,$h,Ni),H8=f4(Wm,sn,Fn),en=zy(xu),Na=z5(sa),Kt=s5(Na),Km=new WeakMap,Pm=Cy(Or),Ul=v5(sa),e1=$y(Ul),t1=e5(sa),Jm=t5(sa),Bl=b5(sa),An=L4(n4(wm),r4(V8,q8,fu,L8,du,ns,I8,kl,sn,ki,Ra,Ni,ru),Qs,Qy(Vh,du,ns,sn,Ol,Ra),ia,Eu,as,my(fu,Vh,ns,sn,Ol,en,Ra,Kt),Ty(Km,ns,Ys),Pm,en,e1,t1,Jm,Kt,Bl),z8=h4(An,H8,ia,Wm,en,Kt),n1=new WeakSet,D2=_5(sa),$m=oy(new Uint32Array(1)),s1=A8($m,ia),a1=x8($m),ep=_4(n1,Qs,as,D2,Na,m8(D2),s1,a1),Mu=o4(hs),tp=l8($h,ql,Ni),ra=ny(tp),Dr=p5(Mu,Qs,N8,O8,D8,Ph,Ym,Jh,k8,w8(zl),Zm),la=i8(Iy(ql),tp),U8=v4(ra,Dr,sn,la,Fn),Ws=I4(s4(Em),Km,Xh,H4,W3,K3,P3,J3,$3,Dh,Am,Ul,Xm),j8=p4(An,U8,Ws,Hn,Dr,en,Kt,Or),G8=E4(An,M4,ia,Hn,y5(hs,zl),en,Kt,Fn),F8=Q4(ra,zm,sn,la,Fn),Vi=c8(Qm),X8=Z4(An,Ws,F8,Eu,zm,en,Kt,Vi),ri=h5(ki,t1),Y8=E8(Hn,ri),li=E5(Ul,Y8),Z8=J4(li,sn,Fn),Q8=P4(An,Z8,li,en,Kt),W8=ty(Il,sn,Fn),K8=ey(An,W8,Il,en,Kt,R8),P8=C5(Mu,Dr,hs,ri),Br=R5(Mu,Qs,P8,Ph,Jh),J8=ly(ra,Br,sn,la,Fn),$8=ry(An,Ws,J8,Br,en,Kt,Or),np=N5(as,zl),e6=hy(np,sn,Fn),t6=cy(An,e6,np,en,Kt,Vi),n6=yy(ra,Um,sn,la,Fn),s6=vy(An,Ws,n6,Um,en,Kt,Vi),sp=O5(as),a6=Ey(ra,sp,sn,la,Fn),i6=wy(An,Ws,a6,sp,as,en,Kt,Vi),r6=ky(ra,hs,sn,la,Fn),l6=By(An,Ws,r6,hs,en,Kt),o6=V5(Eu,Hn,Hl,as),Ru=o8(Qs,hs,Hl,v8(hs,Na)),u6=Zy(Dr,sn,Na,Fn,Ru),c6=D5(o6),h6=Xy(An,c6,u6,en,Kt,Vi),f6=R4(Ws,li,Br,Hl,as,Gm,Kt,zl),ap=new WeakMap,d6=c5(G8,f6,Pm,Kt,ap,Or),ip=U5(Mu,Qs,Ph,Ym,Jh,Zm),_6=$5(ra,ip,sn,la,Fn),m6=J5(An,Ws,ip,_6,en,Kt,Or),rp=ay(Dr),p6=Q5(rp,Hn,hs,Fm,ri),Cu=Z5(rp,Hn,p6,Fm,ri,Ul,zl),v6=G5(fu,Hn,li,hs,Hl,Cu,as,du,Gm,ri),lp=j5(v6),y6=n8(ra,li,Br,hs,lp,sn,Na,la,Fn,Ru),b6=t8(An,Ws,lp,y6,en,Kt,Vi),g6=F5(ia),S6=a8(g6,en,new WeakSet,C8),T6=Y5(li,Il,hs,Cu,as,ri),op=X5(T6,as),A6=_8(ra,op,sn,la,Fn),x6=d8(An,Ws,op,A6,en,Kt),w6=S8(Cu,sn,Fn),E6=g8(An,Hn,Cu,w6,en,Kt,Vi),up=a5(sa),i1=Ny(sa),cp=new WeakMap,M6=Uy(cp,Na),R6=up?i4(Qs,as,Ry(sa),i1,Oy(e4),en,M6,Kt,Bl,new WeakMap,new WeakMap,p8(Bl,Na),sa):void 0,C6=n5(e1,Kt),N6=_y(n1,Qs,dy,My,new WeakSet,en,C6,cu,Dl,s1,a1),hp=X4(R6,z8,ep,j8,X8,Q8,K8,$8,t6,N6,s6,i6,l6,h6,d6,m6,b6,S6,x6,E6),O6=i5(An,q5,en,Kt),D6=l5(An,L5,en,Kt),B6=o5(An,I5,en,Kt),k6=H5(Hn,Kt),V6=u5(An,k6,en),q6=w4(hp,Hn,as,y8,O6,D6,B6,V6,Ul),r1=jy(ap),L6=u4(r1),fp=sy(ia),I6=gy(r1),dp=Ay(ia),_p=new WeakMap,H6=Vy(_p,Ys),z6=w5(fp,ia,Hn,li,Il,Br,hs,Hl,as,dp,i1,H6,ri),U6=S5(Hn,z6,hs,as,ri),j6=F4(ra,fp,Dr,li,Il,Br,hs,I6,dp,i1,sn,Bl,Na,la,Fn,Ru),G6=Hy(cp),F6=u8(_p),B2=up?U4(L6,An,Ws,j6,U6,ns,G6,en,Kt,Bl,M8,F6,B8,Or):void 0,X6=fy(as,Na),Y6=h8(n1,Qs,$h,r1,Ru,cu,s1,a1),Z6=K5(hp,Qs,Hn,X6,Y6),Q6=Wy(xu,e1),W6=Ky(Fh,t1),K6=Py(Xh,Jm),P6=Jy(xu,Kt);function qs(l){return l===void 0}function Mt(l){return l!==void 0}function J6(l){return typeof l=="function"}function ai(l){return typeof l=="number"}function Mi(l){return Object.prototype.toString.call(l)==="[object Object]"&&l.constructor===Object}function $6(l){return typeof l=="boolean"}function Xs(l){return Array.isArray(l)}function Ca(l){return typeof l=="string"}function nu(l){return Ca(l)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(l)}function mt(l,t){if(!l)throw new Error(t)}function ks(l,t,a=1/0){if(!(t<=l&&l<=a))throw new RangeError(`Value must be within [${t}, ${a}], got: ${l}`)}function mp(l){!l.isOffline&&l.state!=="running"&&l1('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let pp=!1,k2=!1;function V2(l){pp=l}function eb(l){qs(l)&&pp&&!k2&&(k2=!0,l1("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let vp=console;function tb(...l){vp.log(...l)}function l1(...l){vp.warn(...l)}function nb(l){return new q6(l)}function sb(l,t,a){return new Z6(l,t,a)}const xs=typeof self=="object"?self:null,ab=xs&&(xs.hasOwnProperty("AudioContext")||xs.hasOwnProperty("webkitAudioContext"));function ib(l,t,a){return mt(Mt(B2),"AudioWorkletNode only works in a secure context (https or localhost)"),new(l instanceof(xs==null?void 0:xs.BaseAudioContext)?xs==null?void 0:xs.AudioWorkletNode:B2)(l,t,a)}function Ks(l,t,a,i){var o=arguments.length,c=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,a):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(l,t,a,i);else for(var y=l.length-1;y>=0;y--)(d=l[y])&&(c=(o<3?d(c):o>3?d(t,a,c):d(t,a))||c);return o>3&&c&&Object.defineProperty(t,a,c),c}function Tn(l,t,a,i){function o(c){return c instanceof a?c:new a(function(d){d(c)})}return new(a||(a=Promise))(function(c,d){function y(g){try{v(i.next(g))}catch(T){d(T)}}function m(g){try{v(i.throw(g))}catch(T){d(T)}}function v(g){g.done?c(g.value):o(g.value).then(y,m)}v((i=i.apply(l,t||[])).next())})}class rb{constructor(t,a,i,o){this._callback=t,this._type=a,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const t=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),a=URL.createObjectURL(t),i=new Worker(a);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var a;this._updateInterval=Math.max(t,this._minimumUpdateInterval),this._type==="worker"&&((a=this._worker)===null||a===void 0||a.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Oi(l){return K6(l)}function si(l){return W6(l)}function lu(l){return P6(l)}function mr(l){return Q6(l)}function lb(l){return l instanceof ep}function ob(l,t){return l==="value"||Oi(t)||si(t)||lb(t)}function br(l,...t){if(!t.length)return l;const a=t.shift();if(Mi(l)&&Mi(a))for(const i in a)ob(i,a[i])?l[i]=a[i]:Mi(a[i])?(l[i]||Object.assign(l,{[i]:{}}),br(l[i],a[i])):Object.assign(l,{[i]:a[i]});return br(l,...t)}function ub(l,t){return l.length===t.length&&l.every((a,i)=>t[i]===a)}function at(l,t,a=[],i){const o={},c=Array.from(t);if(Mi(c[0])&&i&&!Reflect.has(c[0],i)&&(Object.keys(c[0]).some(y=>Reflect.has(l,y))||(br(o,{[i]:c[0]}),a.splice(a.indexOf(i),1),c.shift())),c.length===1&&Mi(c[0]))br(o,c[0]);else for(let d=0;d<a.length;d++)Mt(c[d])&&(o[a[d]]=c[d]);return br(l,o)}function cb(l){return l.constructor.getDefaults()}function gr(l,t){return qs(l)?t:l}function q2(l,t){return t.forEach(a=>{Reflect.has(l,a)&&delete l[a]}),l}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Oa{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||xs&&this.toString()===xs.TONE_DEBUG_CLASS)&&tb(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Oa.version=Tm;const o1=1e-6;function xr(l,t){return l>t+o1}function zh(l,t){return xr(l,t)||js(l,t)}function vu(l,t){return l+o1<t}function js(l,t){return Math.abs(l-t)<o1}function hb(l,t,a){return Math.max(Math.min(l,a),t)}class Ls extends Oa{constructor(){super(),this.name="Timeline",this._timeline=[];const t=at(Ls.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(mt(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const a=this._timeline[this.length-1];mt(zh(t.time,a.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const a=this._search(t.time);this._timeline.splice(a+1,0,t)}if(this.length>this.memory){const a=this.length-this.memory;this._timeline.splice(0,a)}return this}remove(t){const a=this._timeline.indexOf(t);return a!==-1&&this._timeline.splice(a,1),this}get(t,a="time"){const i=this._search(t,a);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,a="time"){const i=this._search(t,a);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(t){const a=this._timeline.length;if(a>0&&this._timeline[a-1].time<t)return this._timeline[a-1];const i=this._search(t);return i-1>=0?this._timeline[i-1]:null}cancel(t){if(this._timeline.length>1){let a=this._search(t);if(a>=0)if(js(this._timeline[a].time,t)){for(let i=a;i>=0&&js(this._timeline[i].time,t);i--)a=i;this._timeline=this._timeline.slice(0,a)}else this._timeline=this._timeline.slice(0,a+1);else this._timeline=[]}else this._timeline.length===1&&zh(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const a=this._search(t);return a>=0&&(this._timeline=this._timeline.slice(a+1)),this}previousEvent(t){const a=this._timeline.indexOf(t);return a>0?this._timeline[a-1]:null}_search(t,a="time"){if(this._timeline.length===0)return-1;let i=0;const o=this._timeline.length;let c=o;if(o>0&&this._timeline[o-1][a]<=t)return o-1;for(;i<c;){let d=Math.floor(i+(c-i)/2);const y=this._timeline[d],m=this._timeline[d+1];if(js(y[a],t)){for(let v=d;v<this._timeline.length;v++){const g=this._timeline[v];if(js(g[a],t))d=v;else break}return d}else{if(vu(y[a],t)&&xr(m[a],t))return d;xr(y[a],t)?c=d:i=d+1}}return-1}_iterate(t,a=0,i=this._timeline.length-1){this._timeline.slice(a,i+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,a){const i=this._search(t);return i!==-1&&this._iterate(a,0,i),this}forEachAfter(t,a){const i=this._search(t);return this._iterate(a,i+1),this}forEachBetween(t,a,i){let o=this._search(t),c=this._search(a);return o!==-1&&c!==-1?(this._timeline[o].time!==t&&(o+=1),this._timeline[c].time===a&&(c-=1),this._iterate(i,o,c)):o===-1&&this._iterate(i,0,c),this}forEachFrom(t,a){let i=this._search(t);for(;i>=0&&this._timeline[i].time>=t;)i--;return this._iterate(a,i+1),this}forEachAtTime(t,a){const i=this._search(t);if(i!==-1&&js(this._timeline[i].time,t)){let o=i;for(let c=i;c>=0&&js(this._timeline[c].time,t);c--)o=c;this._iterate(c=>{a(c)},o,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const yp=[];function Nu(l){yp.push(l)}function fb(l){yp.forEach(t=>t(l))}const bp=[];function Ou(l){bp.push(l)}function db(l){bp.forEach(t=>t(l))}class jl extends Oa{constructor(){super(...arguments),this.name="Emitter"}on(t,a){return t.split(/\W+/).forEach(o=>{qs(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(a)}),this}once(t,a){const i=(...o)=>{a(...o),this.off(t,i)};return this.on(t,i),this}off(t,a){return t.split(/\W+/).forEach(o=>{if(qs(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(qs(a))this._events[o]=[];else{const c=this._events[o];for(let d=c.length-1;d>=0;d--)c[d]===a&&c.splice(d,1)}}),this}emit(t,...a){if(this._events&&this._events.hasOwnProperty(t)){const i=this._events[t].slice(0);for(let o=0,c=i.length;o<c;o++)i[o].apply(this,a)}return this}static mixin(t){["on","once","off","emit"].forEach(a=>{const i=Object.getOwnPropertyDescriptor(jl.prototype,a);Object.defineProperty(t.prototype,a,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class gp extends jl{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Gl extends gp{constructor(){var t,a;super(),this.name="Context",this._constants=new Map,this._timeouts=new Ls,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=at(Gl.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((t=arguments[0])===null||t===void 0?void 0:t.latencyHint)||""):(this._context=nb({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new rb(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((a=arguments[0])===null||a===void 0)&&a.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(fb(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,a,i){return this._context.createBuffer(t,a,i)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,a){return this._context.createIIRFilter(t,a)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,a,i){return this._context.createPeriodicWave(t,a,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return mt(mr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return mt(mr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return mt(mr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){mt(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){mt(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){mt(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){mt(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,a){return ib(this.rawContext,t,a)}addAudioWorkletModule(t){return Tn(this,void 0,void 0,function*(){mt(Mt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise})}workletsAreReady(){return Tn(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return mr(this._context)?this._context.resume():Promise.resolve()}close(){return Tn(this,void 0,void 0,function*(){mr(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&db(this)})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const a=this._context.createBuffer(1,128,this._context.sampleRate),i=a.getChannelData(0);for(let c=0;c<i.length;c++)i[c]=t;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=a,o.loop=!0,o.start(0),this._constants.set(t,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this.close(),this}_timeoutLoop(){const t=this.now();this._timeouts.forEachBefore(t,a=>{a.callback(),this._timeouts.remove(a)})}setTimeout(t,a){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:i+a}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(a=>{a.id===t&&this._timeouts.remove(a)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,a){const i=++this._timeoutIds,o=()=>{const c=this.now();this._timeouts.add({callback:()=>{t(),o()},id:i,time:c+a})};return o(),i}}class _b extends gp{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,a,i){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,a){return{}}createPanner(){return{}}createPeriodicWave(t,a,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,a){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return Tn(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,a){return 0}clearTimeout(t){return this}setInterval(t,a){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function Nt(l,t){Xs(t)?t.forEach(a=>Nt(l,a)):Object.defineProperty(l,t,{enumerable:!0,writable:!1})}function u1(l,t){Xs(t)?t.forEach(a=>u1(l,a)):Object.defineProperty(l,t,{writable:!0})}const Xt=()=>{};class Jt extends Oa{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Xt;const t=at(Jt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,Ca(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:Xt,onload:Xt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Gs().sampleRate}set(t){return t instanceof Jt?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Tn(this,void 0,void 0,function*(){const a=Jt.load(t).then(i=>{this.set(i),this.onload(this)});Jt.downloads.push(a);try{yield a}finally{const i=Jt.downloads.indexOf(a);Jt.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const a=Xs(t)&&t[0].length>0,i=a?t.length:1,o=a?t[0].length:t.length,c=Gs(),d=c.createBuffer(i,o,c.sampleRate),y=!a&&i===1?[t]:t;for(let m=0;m<i;m++)d.copyToChannel(y[m],m);return this._buffer=d,this}toMono(t){if(ai(t))this.fromArray(this.toArray(t));else{let a=new Float32Array(this.length);const i=this.numberOfChannels;for(let o=0;o<i;o++){const c=this.toArray(o);for(let d=0;d<c.length;d++)a[d]+=c[d]}a=a.map(o=>o/i),this.fromArray(a)}return this}toArray(t){if(ai(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{const a=[];for(let i=0;i<this.numberOfChannels;i++)a[i]=this.getChannelData(i);return a}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,a=this.duration){mt(this.loaded,"Buffer is not loaded");const i=Math.floor(t*this.sampleRate),o=Math.floor(a*this.sampleRate);mt(i<o,"The start time must be less than the end time");const c=o-i,d=Gs().createBuffer(this.numberOfChannels,c,this.sampleRate);for(let y=0;y<this.numberOfChannels;y++)d.copyToChannel(this.getChannelData(y).subarray(i,o),y);return new Jt(d)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return new Jt().fromArray(t)}static fromUrl(t){return Tn(this,void 0,void 0,function*(){return yield new Jt().load(t)})}static load(t){return Tn(this,void 0,void 0,function*(){const a=Jt.baseUrl===""||Jt.baseUrl.endsWith("/")?Jt.baseUrl:Jt.baseUrl+"/",i=yield fetch(a+t);if(!i.ok)throw new Error(`could not load url: ${t}`);const o=yield i.arrayBuffer();return yield Gs().decodeAudioData(o)})}static supportsType(t){const a=t.split("."),i=a[a.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return Tn(this,void 0,void 0,function*(){for(yield Promise.resolve();Jt.downloads.length;)yield Jt.downloads[0]})}}Jt.baseUrl="";Jt.downloads=[];class Du extends Gl{constructor(){super({clockSource:"offline",context:lu(arguments[0])?arguments[0]:sb(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:lu(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=lu(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Tn(this,void 0,void 0,function*(){let a=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,a++;const i=Math.floor(this.sampleRate/128);t&&a%i===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return Tn(this,arguments,void 0,function*(t=!0){yield this.workletsAreReady(),yield this._renderClock(t);const a=yield this._context.startRendering();return new Jt(a)})}close(){return Promise.resolve()}}const Sp=new _b;let Ei=Sp;function Gs(){return Ei===Sp&&ab&&mb(new Gl),Ei}function mb(l,t=!1){t&&Ei.dispose(),mr(l)?Ei=new Gl(l):lu(l)?Ei=new Du(l):Ei=l}function pb(){return Ei.resume()}if(xs&&!xs.TONE_SILENCE_LOGGING){const t=` * Tone.js v${Tm} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function vb(l){return Math.pow(10,l/20)}function yb(l){return 20*(Math.log(l)/Math.LN10)}function yu(l){return Math.pow(2,l/12)}let Bu=440;function bb(){return Bu}function gb(l){Bu=l}function Uh(l){return Math.round(Tp(l))}function Tp(l){return 69+12*Math.log2(l/Bu)}function Sb(l){return Bu*Math.pow(2,(l-69)/12)}class c1 extends Oa{constructor(t,a,i){super(),this.defaultUnits="s",this._val=a,this._units=i,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,a)=>{const i=parseInt(t,10),o=a==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/i)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const a=parseInt(t,10);return this._beatsToUnits(8/(Math.floor(a)*3))},regexp:/^(\d+)t$/i},tr:{method:(t,a,i)=>{let o=0;return t&&t!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),a&&a!=="0"&&(o+=this._beatsToUnits(parseFloat(a))),i&&i!=="0"&&(o+=this._beatsToUnits(parseFloat(i)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof c1&&this.fromType(this._val),qs(this._val))return this._noArg();if(Ca(this._val)&&qs(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Mi(this._val)){let t=0;for(const a in this._val)if(Mt(this._val[a])){const i=this._val[a],o=new this.constructor(this.context,a).valueOf()*i;t+=o}return t}if(Mt(this._units)){const t=this._expressions[this._units],a=this._val.toString().trim().match(t.regexp);return a?t.method.apply(this,a.slice(1)):t.method.call(this,this._val)}else return Ca(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Fs extends c1{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const a=new Fs(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(a))},regexp:/^@(.+)/}})}quantize(t,a=1){const i=new this.constructor(this.context,t).valueOf(),o=this.valueOf(),y=Math.round(o/i)*i-o;return o+y*a}toNotation(){const t=this.toSeconds(),a=["1m"];for(let c=1;c<9;c++){const d=Math.pow(2,c);a.push(d+"n."),a.push(d+"n"),a.push(d+"t")}a.push("0");let i=a[0],o=new Fs(this.context,a[0]).toSeconds();return a.forEach(c=>{const d=new Fs(this.context,c).toSeconds();Math.abs(d-t)<Math.abs(o-t)&&(i=c,o=d)}),i}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let a=this.valueOf()/t;a=parseFloat(a.toFixed(4));const i=Math.floor(a/this._getTimeSignature());let o=a%1*4;a=Math.floor(a)%this._getTimeSignature();const c=o.toString();return c.length>3&&(o=parseFloat(parseFloat(c).toFixed(3))),[i,a,o].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Uh(this.toFrequency())}_now(){return this.context.now()}}class Vs extends Fs{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return bb()}static set A4(t){gb(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return this.defaultUnits==="midi"?t:Vs.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,a){const o=Tb[t.toLowerCase()]+(parseInt(a,10)+1)*12;return this.defaultUnits==="midi"?o:Vs.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,a,i){let o=1;return t&&t!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),a&&a!=="0"&&(o*=this._beatsToUnits(parseFloat(a))),i&&i!=="0"&&(o*=this._beatsToUnits(parseFloat(i)/4)),o}}})}transpose(t){return new Vs(this.context,this.valueOf()*yu(t))}harmonize(t){return t.map(a=>this.transpose(a))}toMidi(){return Uh(this.valueOf())}toNote(){const t=this.toFrequency(),a=Math.log2(t/Vs.A4);let i=Math.round(12*a)+57;const o=Math.floor(i/12);return o<0&&(i+=-12*o),Ab[i%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),a=this.valueOf()/t;return Math.floor(a*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(t*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return Sb(t)}static ftom(t){return Uh(t)}}const Tb={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},Ab=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Nl extends Fs{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class cs extends Oa{constructor(){super();const t=at(cs.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Gs()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return eb(t),new Fs(this.context,t).toSeconds()}toFrequency(t){return new Vs(this.context,t).toFrequency()}toTicks(t){return new Nl(this.context,t).toTicks()}_getPartialProperties(t){const a=this.get();return Object.keys(a).forEach(i=>{qs(t[i])&&delete a[i]}),a}get(){const t=cb(this);return Object.keys(t).forEach(a=>{if(Reflect.has(this,a)){const i=this[a];Mt(i)&&Mt(i.value)&&Mt(i.setValueAtTime)?t[a]=i.value:i instanceof cs?t[a]=i._getPartialProperties(t[a]):Xs(i)||ai(i)||Ca(i)||$6(i)?t[a]=i:delete t[a]}}),t}set(t){return Object.keys(t).forEach(a=>{Reflect.has(this,a)&&Mt(this[a])&&(this[a]&&Mt(this[a].value)&&Mt(this[a].setValueAtTime)?this[a].value!==t[a]&&(this[a].value=t[a]):this[a]instanceof cs?this[a].set(t[a]):this[a]=t[a])}),this}}class h1 extends Ls{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const a=this.get(t);return a!==null?a.state:this._initial}setStateAtTime(t,a,i){return ks(a,0),this.add(Object.assign({},i,{state:t,time:a})),this}getLastState(t,a){const i=this._search(a);for(let o=i;o>=0;o--){const c=this._timeline[o];if(c.state===t)return c}}getNextState(t,a){const i=this._search(a);if(i!==-1)for(let o=i;o<this._timeline.length;o++){const c=this._timeline[o];if(c.state===t)return c}}}class At extends cs{constructor(){const t=at(At.getDefaults(),arguments,["param","units","convert"]);for(super(t),this.name="Param",this.overridden=!1,this._minOutput=1e-7,mt(Mt(t.param)&&(Oi(t.param)||t.param instanceof At),"param must be an AudioParam");!Oi(t.param);)t.param=t.param._param;this._swappable=Mt(t.swappable)?t.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Ls(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,Mt(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(cs.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return Mt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Mt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(t,a){return this.units===a}_assertRange(t){return Mt(this.maxValue)&&Mt(this.minValue)&&ks(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?vb(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&this.units==="decibels"?yb(t):t}setValueAtTime(t,a){const i=this.toSeconds(a),o=this._fromType(t);return mt(isFinite(o)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(a)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",t,i),this._events.add({time:i,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,i),this}getValueAtTime(t){const a=Math.max(this.toSeconds(t),0),i=this._events.getAfter(a),o=this._events.get(a);let c=this._initialValue;if(o===null)c=this._initialValue;else if(o.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const d=this._events.getBefore(o.time);let y;d===null?y=this._initialValue:y=d.value,o.type==="setTargetAtTime"&&(c=this._exponentialApproach(o.time,y,o.value,o.constant,a))}else if(i===null)c=o.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let d=o.value;if(o.type==="setTargetAtTime"){const y=this._events.getBefore(o.time);y===null?d=this._initialValue:d=y.value}i.type==="linearRampToValueAtTime"?c=this._linearInterpolate(o.time,d,i.time,i.value,a):c=this._exponentialInterpolate(o.time,d,i.time,i.value,a)}else c=o.value;return this._toType(c)}setRampPoint(t){t=this.toSeconds(t);let a=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(a)===0&&(a=this._toType(this._minOutput)),this.setValueAtTime(a,t),this}linearRampToValueAtTime(t,a){const i=this._fromType(t),o=this.toSeconds(a);return mt(isFinite(i)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(a)}`),this._assertRange(i),this._events.add({time:o,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",t,o),this._param.linearRampToValueAtTime(i,o),this}exponentialRampToValueAtTime(t,a){let i=this._fromType(t);i=js(i,0)?this._minOutput:i,this._assertRange(i);const o=this.toSeconds(a);return mt(isFinite(i)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(a)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",t,o),this._param.exponentialRampToValueAtTime(i,o),this}exponentialRampTo(t,a,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(t,i+this.toSeconds(a)),this}linearRampTo(t,a,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(t,i+this.toSeconds(a)),this}targetRampTo(t,a,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(t,i,a),this}exponentialApproachValueAtTime(t,a,i){a=this.toSeconds(a),i=this.toSeconds(i);const o=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(t,a,o),this.cancelAndHoldAtTime(a+i*.9),this.linearRampToValueAtTime(t,a+i),this}setTargetAtTime(t,a,i){const o=this._fromType(t);mt(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const c=this.toSeconds(a);return this._assertRange(o),mt(isFinite(o)&&isFinite(c),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(a)}`),this._events.add({constant:i,time:c,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",t,c,i),this._param.setTargetAtTime(o,c,i),this}setValueCurveAtTime(t,a,i,o=1){i=this.toSeconds(i),a=this.toSeconds(a);const c=this._fromType(t[0])*o;this.setValueAtTime(this._toType(c),a);const d=i/(t.length-1);for(let y=1;y<t.length;y++){const m=this._fromType(t[y])*o;this.linearRampToValueAtTime(this._toType(m),a+y*d)}return this}cancelScheduledValues(t){const a=this.toSeconds(t);return mt(isFinite(a),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(a),this._param.cancelScheduledValues(a),this.log(this.units,"cancelScheduledValues",a),this}cancelAndHoldAtTime(t){const a=this.toSeconds(t),i=this._fromType(this.getValueAtTime(a));mt(isFinite(a),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",a,"value="+i);const o=this._events.get(a),c=this._events.getAfter(a);return o&&js(o.time,a)?c?(this._param.cancelScheduledValues(c.time),this._events.cancel(c.time)):(this._param.cancelAndHoldAtTime(a),this._events.cancel(a+this.sampleTime)):c&&(this._param.cancelScheduledValues(c.time),this._events.cancel(c.time),c.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),a):c.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),a)),this._events.add({time:a,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,a),this}rampTo(t,a=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(t,a,i):this.linearRampTo(t,a,i),this}apply(t){const a=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(a),a);const i=this._events.get(a);if(i&&i.type==="setTargetAtTime"){const o=this._events.getAfter(i.time),c=o?o.time:a+2,d=(c-a)/10;for(let y=a;y<c;y+=d)t.linearRampToValueAtTime(this.getValueAtTime(y),y)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?t.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?t.setTargetAtTime(o.value,o.time,o.constant):t[o.type](o.value,o.time)}),this}setParam(t){mt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const a=this.input;return a.disconnect(this._param),this.apply(t),this._param=t,a.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,a,i,o,c){return i+(a-i)*Math.exp(-(c-t)/o)}_linearInterpolate(t,a,i,o,c){return a+(o-a)*((c-t)/(i-t))}_exponentialInterpolate(t,a,i,o,c){return a*Math.pow(o/a,(c-t)/(i-t))}}class rt extends cs{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Mt(this.input)?Oi(this.input)||this.input instanceof At?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Mt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return Mt(t)&&(t instanceof rt||si(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(i=>{i.channelCount=t.channelCount,i.channelCountMode=t.channelCountMode,i.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();mt(t.length>0,"ToneAudioNode does not have any internal nodes");const a=t[0];return{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const a=this._getChannelProperties();this._setChannelProperties(Object.assign(a,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const a=this._getChannelProperties();this._setChannelProperties(Object.assign(a,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const a=this._getChannelProperties();this._setChannelProperties(Object.assign(a,{channelInterpretation:t}))}connect(t,a=0,i=0){return Zs(this,t,a,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return l1("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,a=0,i=0){return Ap(this,t,a,i),this}chain(...t){return Di(this,...t),this}fan(...t){return t.forEach(a=>this.connect(a)),this}dispose(){return super.dispose(),Mt(this.input)&&(this.input instanceof rt?this.input.dispose():si(this.input)&&this.input.disconnect()),Mt(this.output)&&(this.output instanceof rt?this.output.dispose():si(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Di(...l){const t=l.shift();l.reduce((a,i)=>(a instanceof rt?a.connect(i):si(a)&&Zs(a,i),i),t)}function Zs(l,t,a=0,i=0){for(mt(Mt(l),"Cannot connect from undefined node"),mt(Mt(t),"Cannot connect to undefined node"),(t instanceof rt||si(t))&&mt(t.numberOfInputs>0,"Cannot connect to node with no inputs"),mt(l.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof rt||t instanceof At;)Mt(t.input)&&(t=t.input);for(;l instanceof rt;)Mt(l.output)&&(l=l.output);Oi(t)?l.connect(t,a):l.connect(t,a,i)}function Ap(l,t,a=0,i=0){if(Mt(t))for(;t instanceof rt;)t=t.input;for(;!si(l);)Mt(l.output)&&(l=l.output);Oi(t)?l.disconnect(t,a):si(t)?l.disconnect(t,a,i):l.disconnect()}class bt extends rt{constructor(){const t=at(bt.getDefaults(),arguments,["gain","units"]);super(t),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new At({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Nt(this,"gain")}static getDefaults(){return Object.assign(rt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class wr extends rt{constructor(t){super(t),this.onended=Xt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new bt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(a){const i=this.toSeconds(a);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(rt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Xt})}_startGain(t,a=1){mt(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=t+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,t),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(a,t+i):this._gainNode.gain.exponentialApproachValueAtTime(a,t,i)):this._gainNode.gain.setValueAtTime(a,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){mt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const a=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+a,this._stopTime=Math.max(this._stopTime,this.now()),a>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,a,t):this._gainNode.gain.targetRampTo(0,a,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?a*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Xt&&(this.onended(this),this.onended=Xt,!this.context.isOffline)){const t=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(t):setTimeout(t,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),mt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Xt,this}}class f1 extends wr{constructor(){const t=at(f1.getDefaults(),arguments,["offset"]);super(t),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Zs(this._source,this._gainNode),this.offset=new At({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(wr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const a=this.toSeconds(t);return this.log("start",a),this._startGain(a),this._source.start(a),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class zt extends rt{constructor(){const t=at(zt.getDefaults(),arguments,["value","units"]);super(t),this.name="Signal",this.override=!0,this.output=this._constantSource=new f1({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(rt.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,a=0,i=0){return ku(this,t,a,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,a){return this._param.setValueAtTime(t,a),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,a){return this._param.linearRampToValueAtTime(t,a),this}exponentialRampToValueAtTime(t,a){return this._param.exponentialRampToValueAtTime(t,a),this}exponentialRampTo(t,a,i){return this._param.exponentialRampTo(t,a,i),this}linearRampTo(t,a,i){return this._param.linearRampTo(t,a,i),this}targetRampTo(t,a,i){return this._param.targetRampTo(t,a,i),this}exponentialApproachValueAtTime(t,a,i){return this._param.exponentialApproachValueAtTime(t,a,i),this}setTargetAtTime(t,a,i){return this._param.setTargetAtTime(t,a,i),this}setValueCurveAtTime(t,a,i,o){return this._param.setValueCurveAtTime(t,a,i,o),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,a,i){return this._param.rampTo(t,a,i),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function ku(l,t,a,i){(t instanceof At||Oi(t)||t instanceof zt&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof zt&&(t.overridden=!0)),Zs(l,t,a,i)}class d1 extends At{constructor(){const t=at(d1.getDefaults(),arguments,["value"]);super(t),this.name="TickParam",this._events=new Ls(1/0),this._multiplier=1,this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(At.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,a,i){a=this.toSeconds(a),this.setRampPoint(a);const o=this._fromType(t),c=this._events.get(a),d=Math.round(Math.max(1/i,1));for(let y=0;y<=d;y++){const m=i*y+a,v=this._exponentialApproach(c.time,c.value,o,i,m);this.linearRampToValueAtTime(this._toType(v),m)}return this}setValueAtTime(t,a){const i=this.toSeconds(a);super.setValueAtTime(t,a);const o=this._events.get(i),c=this._events.previousEvent(o),d=this._getTicksUntilEvent(c,i);return o.ticks=Math.max(d,0),this}linearRampToValueAtTime(t,a){const i=this.toSeconds(a);super.linearRampToValueAtTime(t,a);const o=this._events.get(i),c=this._events.previousEvent(o),d=this._getTicksUntilEvent(c,i);return o.ticks=Math.max(d,0),this}exponentialRampToValueAtTime(t,a){a=this.toSeconds(a);const i=this._fromType(t),o=this._events.get(a),c=Math.round(Math.max((a-o.time)*10,1)),d=(a-o.time)/c;for(let y=0;y<=c;y++){const m=d*y+o.time,v=this._exponentialInterpolate(o.time,o.value,a,i,m);this.linearRampToValueAtTime(this._toType(v),m)}return this}_getTicksUntilEvent(t,a){if(t===null)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(qs(t.ticks)){const d=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(d,t.time)}const i=this._fromType(this.getValueAtTime(t.time));let o=this._fromType(this.getValueAtTime(a));const c=this._events.get(a);return c&&c.time===a&&c.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(a-this.sampleTime))),.5*(a-t.time)*(i+o)+t.ticks}getTicksAtTime(t){const a=this.toSeconds(t),i=this._events.get(a);return Math.max(this._getTicksUntilEvent(i,a),0)}getDurationOfTicks(t,a){const i=this.toSeconds(a),o=this.getTicksAtTime(a);return this.getTimeOfTick(o+t)-i}getTimeOfTick(t){const a=this._events.get(t,"ticks"),i=this._events.getAfter(t,"ticks");if(a&&a.ticks===t)return a.time;if(a&&i&&i.type==="linearRampToValueAtTime"&&a.value!==i.value){const o=this._fromType(this.getValueAtTime(a.time)),d=(this._fromType(this.getValueAtTime(i.time))-o)/(i.time-a.time),y=Math.sqrt(Math.pow(o,2)-2*d*(a.ticks-t)),m=(-o+y)/d,v=(-o-y)/d;return(m>0?m:v)+a.time}else return a?a.value===0?1/0:a.time+(t-a.ticks)/a.value:t/this._initialValue}ticksToTime(t,a){return this.getDurationOfTicks(t,a)}timeToTicks(t,a){const i=this.toSeconds(a),o=this.toSeconds(t),c=this.getTicksAtTime(i);return this.getTicksAtTime(i+o)-c}_fromType(t){return this.units==="bpm"&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units==="bpm"&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const a=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(a,0)}}class _1 extends zt{constructor(){const t=at(_1.getDefaults(),arguments,["value"]);super(t),this.name="TickSignal",this.input=this._param=new d1({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(zt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,a){return this._param.ticksToTime(t,a)}timeToTicks(t,a){return this._param.timeToTicks(t,a)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,a){return this._param.getDurationOfTicks(t,a)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class m1 extends cs{constructor(){const t=at(m1.getDefaults(),arguments,["frequency"]);super(t),this.name="TickSource",this._state=new h1,this._tickOffset=new Ls,this._ticksAtTime=new Ls,this._secondsAtTime=new Ls,this.frequency=new _1({context:this.context,units:t.units,value:t.frequency}),Nt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},cs.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,a){const i=this.toSeconds(t);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),Mt(a)&&this.setTicksAtTime(a,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(t){const a=this.toSeconds(t);if(this._state.getValueAtTime(a)==="stopped"){const i=this._state.get(a);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(a),this._state.setStateAtTime("stopped",a),this.setTicksAtTime(0,a),this._ticksAtTime.cancel(a),this._secondsAtTime.cancel(a),this}pause(t){const a=this.toSeconds(t);return this._state.getValueAtTime(a)==="started"&&(this._state.setStateAtTime("paused",a),this._ticksAtTime.cancel(a),this._secondsAtTime.cancel(a)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const a=this.toSeconds(t),i=this._state.getLastState("stopped",a),o=this._ticksAtTime.get(a),c={state:"paused",time:a};this._state.add(c);let d=o||i,y=o?o.ticks:0,m=null;return this._state.forEachBetween(d.time,a+this.sampleTime,v=>{let g=d.time;const T=this._tickOffset.get(v.time);T&&T.time>=d.time&&(y=T.ticks,g=T.time),d.state==="started"&&v.state!=="started"&&(y+=this.frequency.getTicksAtTime(v.time)-this.frequency.getTicksAtTime(g),v.time!==c.time&&(m={state:v.state,time:v.time,ticks:y})),d=v}),this._state.remove(c),m&&this._ticksAtTime.add(m),y}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const a=this.now(),i=this.frequency.timeToTicks(t,a);this.setTicksAtTime(i,a)}getSecondsAtTime(t){t=this.toSeconds(t);const a=this._state.getLastState("stopped",t),i={state:"paused",time:t};this._state.add(i);const o=this._secondsAtTime.get(t);let c=o||a,d=o?o.seconds:0,y=null;return this._state.forEachBetween(c.time,t+this.sampleTime,m=>{let v=c.time;const g=this._tickOffset.get(m.time);g&&g.time>=c.time&&(d=g.seconds,v=g.time),c.state==="started"&&m.state!=="started"&&(d+=m.time-v,m.time!==i.time&&(y={state:m.state,time:m.time,seconds:d})),c=m}),this._state.remove(i),y&&this._secondsAtTime.add(y),d}setTicksAtTime(t,a){return a=this.toSeconds(a),this._tickOffset.cancel(a),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,a),ticks:t,time:a}),this._ticksAtTime.cancel(a),this._secondsAtTime.cancel(a),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,a=this.now()){const i=this._tickOffset.get(a),o=this._state.get(a),c=Math.max(i.time,o.time),d=this.frequency.getTicksAtTime(c)+t-i.ticks;return this.frequency.getTimeOfTick(d)}forEachTickBetween(t,a,i){let o=this._state.get(t);this._state.forEachBetween(t,a,d=>{o&&o.state==="started"&&d.state!=="started"&&this.forEachTickBetween(Math.max(o.time,t),d.time-this.sampleTime,i),o=d});let c=null;if(o&&o.state==="started"){const d=Math.max(o.time,t),y=this.frequency.getTicksAtTime(d),m=this.frequency.getTicksAtTime(o.time),v=y-m;let g=Math.ceil(v)-v;g=js(g,1)?0:g;let T=this.frequency.getTimeOfTick(y+g);for(;T<a;){try{i(T,Math.round(this.getTicksAtTime(T)))}catch(w){c=w;break}T+=this.frequency.getDurationOfTicks(1,T)}}if(c)throw c;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Vu extends cs{constructor(){const t=at(Vu.getDefaults(),arguments,["callback","frequency"]);super(t),this.name="Clock",this.callback=Xt,this._lastUpdate=0,this._state=new h1("stopped"),this._boundLoop=this._loop.bind(this),this.callback=t.callback,this._tickSource=new m1({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Nt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(cs.getDefaults(),{callback:Xt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,a){mp(this.context);const i=this.toSeconds(t);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,a),i<this._lastUpdate&&this.emit("start",i,a)),this}stop(t){const a=this.toSeconds(t);return this.log("stop",a),this._state.cancel(a),this._state.setStateAtTime("stopped",a),this._tickSource.stop(a),a<this._lastUpdate&&this.emit("stop",a),this}pause(t){const a=this.toSeconds(t);return this._state.getValueAtTime(a)==="started"&&(this._state.setStateAtTime("paused",a),this._tickSource.pause(a),a<this._lastUpdate&&this.emit("pause",a)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,a){return this._tickSource.setTicksAtTime(t,a),this}getTimeOfTick(t,a=this.now()){return this._tickSource.getTimeOfTick(t,a)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,a){const i=this.toSeconds(a),o=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(o+t,i)}_loop(){const t=this._lastUpdate,a=this.now();this._lastUpdate=a,this.log("loop",t,a),t!==a&&(this._state.forEachBetween(t,a,i=>{switch(i.state){case"started":const o=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,o);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(t,a,(i,o)=>{this.callback(i,o)}))}getStateAtTime(t){const a=this.toSeconds(t);return this._state.getValueAtTime(a)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}jl.mixin(Vu);class Sr extends rt{constructor(){const t=at(Sr.getDefaults(),arguments,["delayTime","maxDelay"]);super(t),this.name="Delay";const a=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(a,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(a),this.delayTime=new At({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),Nt(this,"delayTime")}static getDefaults(){return Object.assign(rt.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class kr extends rt{constructor(){const t=at(kr.getDefaults(),arguments,["volume"]);super(t),this.name="Volume",this.input=this.output=new bt({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Nt(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(rt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class p1 extends rt{constructor(){const t=at(p1.getDefaults(),arguments);super(t),this.name="Destination",this.input=new kr({context:this.context}),this.output=new bt({context:this.context}),this.volume=this.input.volume,Di(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(rt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),Di(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Nu(l=>{l.destination=new p1({context:l})});Ou(l=>{l.destination.dispose()});class xb extends rt{constructor(){super(...arguments),this.name="Listener",this.positionX=new At({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new At({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new At({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new At({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new At({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new At({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new At({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new At({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new At({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(rt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Nu(l=>{l.listener=new xb({context:l})});Ou(l=>{l.listener.dispose()});class v1 extends Oa{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=at(v1.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(a=>{this._loadingCount++;const i=t.urls[a];this.add(a,i,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Xt,onload:Xt,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return mt(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,a])=>a.loaded)}add(t,a,i=Xt,o=Xt){return Ca(a)?(this.baseUrl&&a.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(t.toString(),new Jt(this.baseUrl+a,i,o))):this._buffers.set(t.toString(),new Jt(a,i,o)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class vr extends Nl{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class wb extends cs{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Ls,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,a){return this._events.add({callback:t,time:this.toSeconds(a)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;this._events.forEachBefore(t+this.anticipation,a=>{t-a.time<=this.expiration&&a.callback(),this._events.remove(a)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Nu(l=>{l.draw=new wb({context:l})});Ou(l=>{l.draw.dispose()});class Eb extends Oa{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){mt(Mt(t.time),"Events must have a time property"),mt(Mt(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let a=new Mb(t.time,t.time+t.duration,t);for(this._root===null?this._root=a:this._root.insert(a),this._length++;a!==null;)a.updateHeight(),a.updateMax(),this._rebalance(a),a=a.parent;return this}remove(t){if(this._root!==null){const a=[];this._root.search(t.time,a);for(const i of a)if(i.event===t){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,a=>this.remove(a)),this}_setRoot(t){this._root=t,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(t,a){t.parent!==null?(t.isLeftChild()?t.parent.left=a:t.parent.right=a,this._rebalance(t.parent)):this._setRoot(a)}_removeNode(t){if(t.left===null&&t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{const a=t.getBalance();let i,o=null;if(a>0)if(t.left.right===null)i=t.left,i.right=t.right,o=i;else{for(i=t.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,o=i.parent,i.left=t.left,i.right=t.right)}else if(t.right.left===null)i=t.right,i.left=t.left,o=i;else{for(i=t.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,o=i.parent,i.left=t.left,i.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=i:t.parent.right=i:this._setRoot(i),o&&this._rebalance(o)}t.dispose()}_rotateLeft(t){const a=t.parent,i=t.isLeftChild(),o=t.right;o&&(t.right=o.left,o.left=t),a!==null?i?a.left=o:a.right=o:this._setRoot(o)}_rotateRight(t){const a=t.parent,i=t.isLeftChild(),o=t.left;o&&(t.left=o.right,o.right=t),a!==null?i?a.left=o:a.right=o:this._setRoot(o)}_rebalance(t){const a=t.getBalance();a>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):a<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){const a=[];if(this._root.search(t,a),a.length>0){let i=a[0];for(let o=1;o<a.length;o++)a[o].low>i.low&&(i=a[o]);return i.event}}return null}forEach(t){if(this._root!==null){const a=[];this._root.traverse(i=>a.push(i)),a.forEach(i=>{i.event&&t(i.event)})}return this}forEachAtTime(t,a){if(this._root!==null){const i=[];this._root.search(t,i),i.forEach(o=>{o.event&&a(o.event)})}return this}forEachFrom(t,a){if(this._root!==null){const i=[];this._root.searchAfter(t,i),i.forEach(o=>{o.event&&a(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class Mb{constructor(t,a,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=t,this.high=a,this.max=this.high}insert(t){t.low<=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,a){t>this.max||(this.left!==null&&this.left.search(t,a),this.low<=t&&this.high>t&&a.push(this),!(this.low>t)&&this.right!==null&&this.right.search(t,a))}searchAfter(t,a){this.low>=t&&(a.push(this),this.left!==null&&this.left.searchAfter(t,a)),this.right!==null&&this.right.searchAfter(t,a)}traverse(t){t(this),this.left!==null&&this.left.traverse(t),this.right!==null&&this.right.traverse(t)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null&&this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null&&(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Rb extends Oa{constructor(t){super(),this.name="TimelineValue",this._timeline=new Ls({memory:10}),this._initialValue=t}set(t,a){return this._timeline.add({value:t,time:a}),this}get(t){const a=this._timeline.get(t);return a?a.value:this._initialValue}}class aa extends rt{constructor(){super(at(aa.getDefaults(),arguments,["context"]))}connect(t,a=0,i=0){return ku(this,t,a,i),this}}class qi extends aa{constructor(){const t=at(qi.getDefaults(),arguments,["mapping","length"]);super(t),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Xs(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):J6(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(zt.getDefaults(),{length:1024})}setMap(t,a=1024){const i=new Float32Array(a);for(let o=0,c=a;o<c;o++){const d=o/(c-1)*2-1;i[o]=t(d,o)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const a=["none","2x","4x"].some(i=>i.includes(t));mt(a,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class y1 extends aa{constructor(){const t=at(y1.getDefaults(),arguments,["value"]);super(t),this.name="Pow",this._exponentScaler=this.input=this.output=new qi({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(aa.getDefaults(),{value:1})}_expFunc(t){return a=>Math.pow(Math.abs(a),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class ii{constructor(t,a){this.id=ii._eventId++,this._remainderTime=0;const i=Object.assign(ii.getDefaults(),a);this.transport=t,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:Xt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const a=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*a),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}ii._eventId=0;class b1 extends ii{constructor(t,a){super(t,a),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(b1.getDefaults(),a);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ii.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return vu(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new vr(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){vu(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new vr(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const a=this.transport.getTicksAtTime(t);xr(a,this.time)&&(this._nextTick=this.floatTime+Math.ceil((a-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class qu extends cs{constructor(){const t=at(qu.getDefaults(),arguments);super(t),this.name="Transport",this._loop=new Rb(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Ls,this._repeatedEvents=new Eb,this._syncedSignals=[],this._swingAmount=0,this._ppq=t.ppq,this._clock=new Vu({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Nt(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(cs.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,a){if(this._loop.get(t)&&a>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),a=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&a%this._ppq!==0&&a%(this._swingTicks*2)!==0){const i=a%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(i*Math.PI)*this._swingAmount;t+=new vr(this.context,this._swingTicks*2/3).toSeconds()*o}V2(!0),this._timeline.forEachAtTime(a,i=>i.invoke(t)),V2(!1)}schedule(t,a){const i=new ii(this,{callback:t,time:new Nl(this.context,a).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(t,a,i,o=1/0){const c=new b1(this,{callback:t,duration:new Fs(this.context,o).toTicks(),interval:new Fs(this.context,a).toTicks(),time:new Nl(this.context,i).toTicks()});return this._addEvent(c,this._repeatedEvents)}scheduleOnce(t,a){const i=new ii(this,{callback:t,once:!0,time:new Nl(this.context,a).toTicks()});return this._addEvent(i,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const a=this._scheduledEvents[t.toString()];a.timeline.remove(a.event),a.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,a){return this._scheduledEvents[t.id.toString()]={event:t,timeline:a},a.add(t),t.id}cancel(t=0){const a=this.toTicks(t);return this._timeline.forEachFrom(a,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(a,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(t,a)=>{a=new vr(this.context,a).toSeconds(),this.emit("start",t,a)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,a){this.context.resume();let i;return Mt(a)&&(i=this.toTicks(a)),this._clock.start(t,i),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!=="started"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Xs(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Fs(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Fs(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,a){return this.loopStart=t,this.loopEnd=a,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new vr(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),a=this._clock.getTicksAtTime(t);return new vr(this.context,a).toBarsBeatsSixteenths()}set position(t){const a=this.toTicks(t);this.ticks=a}get seconds(){return this._clock.seconds}set seconds(t){const a=this.now(),i=this._clock.frequency.timeToTicks(t,a);this.ticks=i}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const a=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(a),o=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,a),c=a+o;this.emit("stop",c),this._clock.setTicksAtTime(t,c),this.emit("start",c,this._clock.getSecondsAtTime(c))}else this.emit("ticks",a),this._clock.setTicksAtTime(t,a)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!=="started")return 0;{const a=this.now(),i=this.getTicksAtTime(a),o=t-i%t;return this._clock.nextTickTime(o,a)}}syncSignal(t,a){const i=this.now();let o=this.bpm,c=1/(60/o.getValueAtTime(i)/this.PPQ),d=[];if(t.units==="time"){const m=.015625/c,v=new bt(m),g=new y1(-1),T=new bt(m);o.chain(v,g,T),o=T,c=1/c,d=[v,g,T]}a||(t.getValueAtTime(i)!==0?a=t.getValueAtTime(i)/c:a=0);const y=new bt(a);return o.connect(y),y.connect(t._param),d.push(y),this._syncedSignals.push({initial:t.value,nodes:d,signal:t}),t.value=0,this}unsyncSignal(t){for(let a=this._syncedSignals.length-1;a>=0;a--){const i=this._syncedSignals[a];i.signal===t&&(i.nodes.forEach(o=>o.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(a,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),u1(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}jl.mixin(qu);Nu(l=>{l.transport=new qu({context:l})});Ou(l=>{l.transport.dispose()});class ss extends rt{constructor(t){super(t),this.input=void 0,this._state=new h1("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Xt,this._syncedStop=Xt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new kr({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Nt(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(rt.getDefaults(),{mute:!1,onstop:Xt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,a,i){let o=qs(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")mt(xr(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,a,i);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const c=this._state.get(o);c&&(c.offset=this.toSeconds(gr(a,0)),c.duration=i?this.toSeconds(i):void 0);const d=this.context.transport.schedule(y=>{this._start(y,a,i)},o);this._scheduled.push(d),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else mp(this.context),this._start(o,a,i);return this}stop(t){let a=qs(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(a=this._clampToCurrentTime(a),this._state.getValueAtTime(a)==="started"||Mt(this._state.getNextState("started",a))){if(this.log("stop",a),!this._synced)this._stop(a);else{const i=this.context.transport.schedule(this._stop.bind(this),a);this._scheduled.push(i)}this._state.cancel(a),this._state.setStateAtTime("stopped",a)}return this}restart(t,a,i){return t=this.toSeconds(t),this._state.getValueAtTime(t)==="started"&&(this._state.cancel(t),this._restart(t,a,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,a)=>{if(xr(a,0)){const i=this._state.get(a);if(i&&i.state==="started"&&i.time!==a){const o=a-this.toSeconds(i.time);let c;i.duration&&(c=this.toSeconds(i.duration)-o),this._start(t,this.toSeconds(i.offset)+o,c)}}},this._syncedStop=t=>{const a=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(a)==="started"&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Xt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Fl extends wr{constructor(){const t=at(Fl.getDefaults(),arguments,["url","onload"]);super(t),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Zs(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new At({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Jt(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(wr.getDefaults(),{url:new Jt,loop:!1,loopEnd:0,loopStart:0,onload:Xt,onerror:Xt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,a,i,o=1){mt(this.buffer.loaded,"buffer is either not set or not loaded");const c=this.toSeconds(t);this._startGain(c,o),this.loop?a=gr(a,this.loopStart):a=gr(a,0);let d=Math.max(this.toSeconds(a),0);if(this.loop){const y=this.toSeconds(this.loopEnd)||this.buffer.duration,m=this.toSeconds(this.loopStart),v=y-m;zh(d,y)&&(d=(d-m)%v+m),js(d,this.buffer.duration)&&(d=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,vu(d,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(c,d)),Mt(i)){let y=this.toSeconds(i);y=Math.max(y,0),this.stop(c+y)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Ri extends ss{constructor(){const t=at(Ri.getDefaults(),arguments,["type"]);super(t),this.name="Noise",this._source=null,this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(ss.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(mt(t in L2,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,this.state==="started")){const a=this.now();this._stop(a),this._start(a)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const a=L2[this._type];this._source=new Fl({url:a,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(a.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const _r=44100*5,P0=2,wa={brown:null,pink:null,white:null},L2={get brown(){if(!wa.brown){const l=[];for(let t=0;t<P0;t++){const a=new Float32Array(_r);l[t]=a;let i=0;for(let o=0;o<_r;o++){const c=Math.random()*2-1;a[o]=(i+.02*c)/1.02,i=a[o],a[o]*=3.5}}wa.brown=new Jt().fromArray(l)}return wa.brown},get pink(){if(!wa.pink){const l=[];for(let t=0;t<P0;t++){const a=new Float32Array(_r);l[t]=a;let i,o,c,d,y,m,v;i=o=c=d=y=m=v=0;for(let g=0;g<_r;g++){const T=Math.random()*2-1;i=.99886*i+T*.0555179,o=.99332*o+T*.0750759,c=.969*c+T*.153852,d=.8665*d+T*.3104856,y=.55*y+T*.5329522,m=-.7616*m-T*.016898,a[g]=i+o+c+d+y+m+v+T*.5362,a[g]*=.11,v=T*.115926}}wa.pink=new Jt().fromArray(l)}return wa.pink},get white(){if(!wa.white){const l=[];for(let t=0;t<P0;t++){const a=new Float32Array(_r);l[t]=a;for(let i=0;i<_r;i++)a[i]=Math.random()*2-1}wa.white=new Jt().fromArray(l)}return wa.white}};function Li(l,t){return Tn(this,void 0,void 0,function*(){const a=t/l.context.sampleRate,i=new Du(1,a,l.context.sampleRate);return new l.constructor(Object.assign(l.get(),{frequency:2/a,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class g1 extends wr{constructor(){const t=at(g1.getDefaults(),arguments,["frequency","type"]);super(t),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Zs(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new At({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new At({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Nt(this,["frequency","detune"])}static getDefaults(){return Object.assign(wr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const a=this.toSeconds(t);return this.log("start",a),this._startGain(a),this._oscillator.start(a),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class on extends ss{constructor(){const t=at(on.getDefaults(),arguments,["frequency","type"]);super(t),this.name="Oscillator",this._oscillator=null,this.frequency=new zt({context:this.context,units:"frequency",value:t.frequency}),Nt(this,"frequency"),this.detune=new zt({context:this.context,units:"cents",value:t.detune}),Nt(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&t.type!=="custom"&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(ss.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const a=this.toSeconds(t),i=new g1({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(a)}_stop(t){const a=this.toSeconds(t);this._oscillator&&this._oscillator.stop(a)}_restart(t){const a=this.toSeconds(t);return this.log("restart",a),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(a),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return on._periodicWaveCache.find(a=>a.phase===this._phase&&ub(a.partials,this._partials));{const t=on._periodicWaveCache.find(a=>a.type===this._type&&a.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const a=["sine","square","sawtooth","triangle"].indexOf(t)!==-1;if(this._phase===0&&a)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=t);else{const i=this._getCachedPeriodicWave();if(Mt(i)){const{partials:o,wave:c}=i;this._wave=c,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,c]=this._getRealImaginary(t,this._phase),d=this.context.createPeriodicWave(o,c);this._wave=d,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),on._periodicWaveCache.push({imag:c,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),on._periodicWaveCache.length>100&&on._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&this._type!=="custom"&&t!=="custom"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){ks(t,0);let a=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(a=i[1]),this._type!=="custom")t===0?this.type=a:this.type=a+t.toString();else{const o=new Float32Array(t);this._partials.forEach((c,d)=>o[d]=c),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(t,a){let o=2048;const c=new Float32Array(o),d=new Float32Array(o);let y=1;if(t==="custom"){if(y=this._partials.length+1,this._partialCount=this._partials.length,o=y,this._partials.length===0)return[c,d]}else{const m=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);m?(y=parseInt(m[2],10)+1,this._partialCount=parseInt(m[2],10),t=m[1],y=Math.max(y,2),o=y):this._partialCount=0,this._partials=[]}for(let m=1;m<o;++m){const v=2/(m*Math.PI);let g;switch(t){case"sine":g=m<=y?1:0,this._partials[m-1]=g;break;case"square":g=m&1?2*v:0,this._partials[m-1]=g;break;case"sawtooth":g=v*(m&1?1:-1),this._partials[m-1]=g;break;case"triangle":m&1?g=2*(v*v)*(m-1>>1&1?-1:1):g=0,this._partials[m-1]=g;break;case"custom":g=this._partials[m-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}g!==0?(c[m]=-g*Math.sin(a*m),d[m]=g*Math.cos(a*m)):(c[m]=0,d[m]=0)}return[c,d]}_inverseFFT(t,a,i){let o=0;const c=t.length;for(let d=0;d<c;d++)o+=t[d]*Math.cos(d*i)+a[d]*Math.sin(d*i);return o}getInitialValue(){const[t,a]=this._getRealImaginary(this._type,0);let i=0;const o=Math.PI*2,c=32;for(let d=0;d<c;d++)i=Math.max(this._inverseFFT(t,a,d/c*o),i);return hb(-this._inverseFFT(t,a,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(){return Tn(this,arguments,void 0,function*(t=1024){return Li(this,t)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}on._periodicWaveCache=[];class xp extends aa{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new qi({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Bi extends zt{constructor(){const t=at(Bi.getDefaults(),arguments,["value"]);super(t),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new bt({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(zt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Lu extends ss{constructor(){const t=at(Lu.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="AMOscillator",this._modulationScale=new xp({context:this.context}),this._modulationNode=new bt({context:this.context}),this._carrier=new on({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new on({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Bi({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Nt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(on.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return Tn(this,arguments,void 0,function*(t=1024){return Li(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Iu extends ss{constructor(){const t=at(Iu.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="FMOscillator",this._modulationNode=new bt({context:this.context,gain:0}),this._carrier=new on({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new zt({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new on({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Bi({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Bi({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Nt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(on.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return Tn(this,arguments,void 0,function*(t=1024){return Li(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Xl extends ss{constructor(){const t=at(Xl.getDefaults(),arguments,["frequency","width"]);super(t),this.name="PulseOscillator",this._widthGate=new bt({context:this.context,gain:0}),this._thresh=new qi({context:this.context,mapping:a=>a<=0?-1:1}),this.width=new zt({context:this.context,units:"audioRange",value:t.width}),this._triangle=new on({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Nt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(ss.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(){return Tn(this,arguments,void 0,function*(t=1024){return Li(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Hu extends ss{constructor(){const t=at(Hu.getDefaults(),arguments,["frequency","type","spread"]);super(t),this.name="FatOscillator",this._oscillators=[],this.frequency=new zt({context:this.context,units:"frequency",value:t.frequency}),this.detune=new zt({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Nt(this,["frequency","detune"])}static getDefaults(){return Object.assign(on.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(a=>a.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(a=>a.stop(t))}_restart(t){this._forEach(a=>a.restart(t))}_forEach(t){for(let a=0;a<this._oscillators.length;a++)t(this._oscillators[a],a)}get type(){return this._type}set type(t){this._type=t,this._forEach(a=>a.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const a=-t/2,i=t/(this._oscillators.length-1);this._forEach((o,c)=>o.detune.value=a+i*c)}}get count(){return this._oscillators.length}set count(t){if(ks(t,1),this._oscillators.length!==t){this._forEach(a=>a.dispose()),this._oscillators=[];for(let a=0;a<t;a++){const i=new on({context:this.context,volume:-6-t*1.1,type:this._type,phase:this._phase+a/t*360,partialCount:this._partialCount,onstop:a===0?()=>this.onstop(this):Xt});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[a]=i}this.spread=this._spread,this.state==="started"&&this._forEach(a=>a.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((a,i)=>a.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(a=>a.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(a=>a.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(a=>a.partialCount=t),this._type=this._oscillators[0].type}asArray(){return Tn(this,arguments,void 0,function*(t=1024){return Li(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class zu extends ss{constructor(){const t=at(zu.getDefaults(),arguments,["frequency","modulationFrequency"]);super(t),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Bi({context:this.context,value:2}),this._pulse=new Xl({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new on({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Nt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(ss.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(){return Tn(this,arguments,void 0,function*(t=1024){return Li(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const I2={am:Lu,fat:Hu,fm:Iu,oscillator:on,pulse:Xl,pwm:zu};class bu extends ss{constructor(){const t=at(bu.getDefaults(),arguments,["frequency","type"]);super(t),this.name="OmniOscillator",this.frequency=new zt({context:this.context,units:"frequency",value:t.frequency}),this.detune=new zt({context:this.context,units:"cents",value:t.detune}),Nt(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(on.getDefaults(),Iu.getDefaults(),Lu.getDefaults(),Hu.getDefaults(),Xl.getDefaults(),zu.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(a=>this._sourceType===a)&&(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):t==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const a=I2[t],i=this.now();if(this._oscillator){const o=this._oscillator;o.stop(i),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new a({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let a="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(a=this._oscillator.type),t==="fm"?this.type="fm"+a:t==="am"?this.type="am"+a:t==="fat"?this.type="fat"+a:t==="oscillator"?this.type=a:t==="pulse"?this.type="pulse":t==="pwm"&&(this.type="pwm")}_getOscType(t,a){return t instanceof I2[a]}get baseType(){return this._oscillator.baseType}set baseType(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&t!=="pulse"&&t!=="pwm"&&(this._oscillator.baseType=t)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(t){this._getOscType(this._oscillator,"fat")&&ai(t)&&(this._oscillator.count=t)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(t){this._getOscType(this._oscillator,"fat")&&ai(t)&&(this._oscillator.spread=t)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Ca(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Tn(this,arguments,void 0,function*(t=1024){return Li(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class S1 extends zt{constructor(){super(at(S1.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new bt({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Di(this._constantSource,this._sum)}static getDefaults(){return Object.assign(zt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class T1 extends aa{constructor(){const t=at(T1.getDefaults(),arguments,["min","max"]);super(t),this.name="Scale",this._mult=this.input=new Bi({context:this.context,value:t.max-t.min}),this._add=this.output=new S1({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(aa.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class A1 extends aa{constructor(){super(at(A1.getDefaults(),arguments)),this.name="Zero",this._gain=new bt({context:this.context}),this.output=this._gain,this.input=void 0,Zs(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Ap(this.context.getConstant(0),this._gain),this}}class Ci extends rt{constructor(){const t=at(Ci.getDefaults(),arguments,["frequency","min","max"]);super(t),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=At.prototype._fromType,this._toType=At.prototype._toType,this._is=At.prototype._is,this._clampValue=At.prototype._clampValue,this._oscillator=new on(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new bt({context:this.context,gain:t.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new zt({context:this.context,units:"audioRange",value:0}),this._zeros=new A1({context:this.context}),this._a2g=new xp({context:this.context}),this._scaler=this.output=new T1({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Nt(this,["amplitude","frequency"]),this.phase=t.phase}static getDefaults(){return Object.assign(on.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){const a=this.min,i=this.max;this._units=t,this.min=a,this.max=i}get state(){return this._oscillator.state}connect(t,a,i){return(t instanceof At||t instanceof zt)&&(this.convert=t.convert,this.units=t.units),ku(this,t,a,i),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function wp(l,t=1/0){const a=new WeakMap;return function(i,o){Reflect.defineProperty(i,o,{configurable:!0,enumerable:!0,get:function(){return a.get(this)},set:function(c){ks(c,l,t),a.set(this,c)}})}}function Da(l,t=1/0){const a=new WeakMap;return function(i,o){Reflect.defineProperty(i,o,{configurable:!0,enumerable:!0,get:function(){return a.get(this)},set:function(c){ks(this.toSeconds(c),l,t),a.set(this,c)}})}}class Yl extends ss{constructor(){const t=at(Yl.getDefaults(),arguments,["url","onload"]);super(t),this.name="Player",this._activeSources=new Set,this._buffer=new Jt({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(ss.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Xt,onerror:Xt,playbackRate:1,reverse:!1})}load(t){return Tn(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=Xt){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,a,i){return super.start(t,a,i),this}_start(t,a,i){this._loop?a=gr(a,this._loopStart):a=gr(a,0);const o=this.toSeconds(a),c=i;i=gr(i,Math.max(this._buffer.duration-o,0));let d=this.toSeconds(i);d=d/this._playbackRate,t=this.toSeconds(t);const y=new Fl({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(t+d),this._state.setStateAtTime("stopped",t+d,{implicitEnd:!0})),this._activeSources.add(y),this._loop&&qs(c)?y.start(t,o):y.start(t,o,d-this.toSeconds(this.fadeOut))}_stop(t){const a=this.toSeconds(t);this._activeSources.forEach(i=>i.stop(a))}restart(t,a,i){return super.restart(t,a,i),this}_restart(t,a,i){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(t),this._start(t,a,i)}seek(t,a){const i=this.toSeconds(a);if(this._state.getValueAtTime(i)==="started"){const o=this.toSeconds(t);this._stop(i),this._start(i,o)}return this}setLoopPoints(t,a){return this.loopStart=t,this.loopEnd=a,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&ks(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(a=>{a.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&ks(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(a=>{a.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(a=>{a.loop=t}),t)){const a=this._state.getNextState("stopped",this.now());a&&this._state.cancel(a.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const a=this.now(),i=this._state.getNextState("stopped",a);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(t,a)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Ks([Da(0)],Yl.prototype,"fadeIn",void 0);Ks([Da(0)],Yl.prototype,"fadeOut",void 0);class Cb extends aa{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new qi({context:this.context,mapping:t=>Math.abs(t)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class oi extends rt{constructor(){const t=at(oi.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="Envelope",this._sig=new zt({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(rt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,a){if(Ca(t))return t;{let i;for(i in su)if(su[i][a]===t)return i;return t}}_setCurve(t,a,i){if(Ca(i)&&Reflect.has(su,i)){const o=su[i];Mi(o)?t!=="_decayCurve"&&(this[t]=o[a]):this[t]=o}else if(Xs(i)&&t!=="_decayCurve")this[t]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(t){this._setCurve("_decayCurve","Out",t)}triggerAttack(t,a=1){this.log("triggerAttack",t,a),t=this.toSeconds(t);let o=this.toSeconds(this.attack);const c=this.toSeconds(this.decay),d=this.getValueAtTime(t);if(d>0){const y=1/o;o=(1-d)/y}if(o<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(a,t);else if(this._attackCurve==="linear")this._sig.linearRampTo(a,o,t);else if(this._attackCurve==="exponential")this._sig.targetRampTo(a,o,t);else{this._sig.cancelAndHoldAtTime(t);let y=this._attackCurve;for(let m=1;m<y.length;m++)if(y[m-1]<=d&&d<=y[m]){y=this._attackCurve.slice(m),y[0]=d;break}this._sig.setValueCurveAtTime(y,t,o,a)}if(c&&this.sustain<1){const y=a*this.sustain,m=t+o;this.log("decay",m),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(y,c+m):this._sig.exponentialApproachValueAtTime(y,m,c)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const a=this.getValueAtTime(t);if(a>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,t):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,t):(mt(Xs(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,i,a))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,a,i=1){return a=this.toSeconds(a),this.triggerAttack(a,i),this.triggerRelease(a+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,a=0,i=0){return ku(this,t,a,i),this}asArray(){return Tn(this,arguments,void 0,function*(t=1024){const a=t/this.context.sampleRate,i=new Du(1,a,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),c=o+this.toSeconds(this.release),d=c*.1,y=c+d,m=new this.constructor(Object.assign(this.get(),{attack:a*this.toSeconds(this.attack)/y,decay:a*this.toSeconds(this.decay)/y,release:a*this.toSeconds(this.release)/y,context:i}));return m._sig.toDestination(),m.triggerAttackRelease(a*(o+d)/y,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Ks([Da(0)],oi.prototype,"attack",void 0);Ks([Da(0)],oi.prototype,"decay",void 0);Ks([wp(0,1)],oi.prototype,"sustain",void 0);Ks([Da(0)],oi.prototype,"release",void 0);const su=(()=>{let t,a;const i=[];for(t=0;t<128;t++)i[t]=Math.sin(t/127*(Math.PI/2));const o=[],c=6.4;for(t=0;t<127;t++){a=t/127;const w=Math.sin(a*(Math.PI*2)*c-Math.PI/2)+1;o[t]=w/10+a*.83}o[127]=1;const d=[],y=5;for(t=0;t<128;t++)d[t]=Math.ceil(t/127*y)/y;const m=[];for(t=0;t<128;t++)a=t/127,m[t]=.5*(1-Math.cos(Math.PI*a));const v=[];for(t=0;t<128;t++){a=t/127;const w=Math.pow(a,3)*4+.2,q=Math.cos(w*Math.PI*2*a);v[t]=Math.abs(q*(1-a))}function g(w){const q=new Array(w.length);for(let V=0;V<w.length;V++)q[V]=1-w[V];return q}function T(w){return w.slice(0).reverse()}return{bounce:{In:g(v),Out:v},cosine:{In:i,Out:T(i)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:g(o)},sine:{In:m,Out:g(m)},step:{In:d,Out:g(d)}}})();class Er extends rt{constructor(){const t=at(Er.getDefaults(),arguments);super(t),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=a=>this._original_triggerRelease(a),this._volume=this.output=new kr({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Nt(this,"volume")}static getDefaults(){return Object.assign(rt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,a){const i=this["_original_"+t]=this[t];this[t]=(...o)=>{const c=o[a],d=this.context.transport.schedule(y=>{o[a]=y,i.apply(this,o)},c);this._scheduledEvents.push(d)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,a,i,o){const c=this.toSeconds(i),d=this.toSeconds(a);return this.triggerAttack(t,c,o),this.triggerRelease(c+d),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Mr extends Er{constructor(){const t=at(Mr.getDefaults(),arguments);super(t),this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Er.getDefaults(),{detune:0,onsilence:Xt,portamento:0})}triggerAttack(t,a,i=1){this.log("triggerAttack",t,a,i);const o=this.toSeconds(a);return this._triggerEnvelopeAttack(o,i),this.setNote(t,o),this}triggerRelease(t){this.log("triggerRelease",t);const a=this.toSeconds(t);return this._triggerEnvelopeRelease(a),this}setNote(t,a){const i=this.toSeconds(a),o=t instanceof Vs?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const c=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,c,i)}else this.frequency.setValueAtTime(o,i);return this}}Ks([Da(0)],Mr.prototype,"portamento",void 0);class x1 extends oi{constructor(){super(at(x1.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new bt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class gu extends Mr{constructor(){const t=at(gu.getDefaults(),arguments);super(t),this.name="Synth",this.oscillator=new bu(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new x1(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Nt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Mr.getDefaults(),{envelope:Object.assign(q2(oi.getDefaults(),Object.keys(rt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(q2(bu.getDefaults(),[...Object.keys(ss.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,a){if(this.envelope.triggerAttack(t,a),this.oscillator.start(t),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+i+o)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Su extends rt{constructor(){const t=at(Su.getDefaults(),arguments,["frequency","type"]);super(t),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new At({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new At({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new At({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new At({context:this.context,units:"decibels",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(rt.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){mt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t)!==-1,`Invalid filter type: ${t}`),this._filter.type=t}getFrequencyResponse(t=128){const a=new Float32Array(t);for(let d=0;d<t;d++){const m=Math.pow(d/t,2)*19980+20;a[d]=m}const i=new Float32Array(t),o=new Float32Array(t),c=this.context.createBiquadFilter();return c.type=this.type,c.Q.value=this.Q.value,c.frequency.value=this.frequency.value,c.gain.value=this.gain.value,c.getFrequencyResponse(a,i,o),i}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class w1 extends rt{constructor(){const t=at(w1.getDefaults(),arguments,["frequency","type","rolloff"]);super(t),this.name="Filter",this.input=new bt({context:this.context}),this.output=new bt({context:this.context}),this._filters=[],this._filters=[],this.Q=new zt({context:this.context,units:"positive",value:t.Q}),this.frequency=new zt({context:this.context,units:"frequency",value:t.frequency}),this.detune=new zt({context:this.context,units:"cents",value:t.detune}),this.gain=new zt({context:this.context,units:"decibels",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,Nt(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(rt.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){mt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t)!==-1,`Invalid filter type: ${t}`),this._type=t,this._filters.forEach(i=>i.type=t)}get rolloff(){return this._rolloff}set rolloff(t){const a=ai(t)?t:parseInt(t,10),i=[-12,-24,-48,-96];let o=i.indexOf(a);mt(o!==-1,`rolloff can only be ${i.join(", ")}`),o+=1,this._rolloff=a,this.input.disconnect(),this._filters.forEach(c=>c.disconnect()),this._filters=new Array(o);for(let c=0;c<o;c++){const d=new Su({context:this.context});d.type=this._type,this.frequency.connect(d.frequency),this.detune.connect(d.detune),this.Q.connect(d.Q),this.gain.connect(d.gain),this._filters[c]=d}this._internalChannels=this._filters,Di(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const a=new Su({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),i=new Float32Array(t).map(()=>1);return this._filters.forEach(()=>{a.getFrequencyResponse(t).forEach((c,d)=>i[d]*=c)}),a.dispose(),i}dispose(){return super.dispose(),this._filters.forEach(t=>{t.dispose()}),u1(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Uu extends gu{constructor(){const t=at(Uu.getDefaults(),arguments);super(t),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Nt(this,["oscillator","envelope"])}static getDefaults(){return br(Mr.getDefaults(),gu.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,a){const i=this.toSeconds(a),o=this.toFrequency(t instanceof Vs?t.toFrequency():t),c=o*this.octaves;return this.oscillator.frequency.setValueAtTime(c,i),this.oscillator.frequency.exponentialRampToValueAtTime(o,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Ks([wp(0)],Uu.prototype,"octaves",void 0);Ks([Da(0)],Uu.prototype,"pitchDecay",void 0);const Ep=new Set;function E1(l){Ep.add(l)}function Mp(l,t){const a=`registerProcessor("${l}", ${t})`;Ep.add(a)}const Nb=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;E1(Nb);const Ob=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;E1(Ob);const Db=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;E1(Db);const Bb="feedback-comb-filter",kb=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Mp(Bb,kb);class ju extends Er{constructor(){const t=at(ju.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(t),this.name="Sampler",this._activeSources=new Map;const a={};Object.keys(t.urls).forEach(i=>{const o=parseInt(i,10);if(mt(nu(i)||ai(o)&&isFinite(o),`url key is neither a note or midi pitch: ${i}`),nu(i)){const c=new Vs(this.context,i).toMidi();a[c]=t.urls[i]}else ai(o)&&isFinite(o)&&(a[o]=t.urls[o])}),this._buffers=new v1({urls:a,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Er.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Xt,onerror:Xt,release:.1,urls:{}})}_findClosest(t){let i=0;for(;i<96;){if(this._buffers.has(t+i))return-i;if(this._buffers.has(t-i))return i;i++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,a,i=1){return this.log("triggerAttack",t,a,i),Array.isArray(t)||(t=[t]),t.forEach(o=>{const c=Tp(new Vs(this.context,o).toFrequency()),d=Math.round(c),y=c-d,m=this._findClosest(d),v=d-m,g=this._buffers.get(v),T=yu(m+y),w=new Fl({url:g,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:T}).connect(this.output);w.start(a,0,g.duration/T,i),Xs(this._activeSources.get(d))||this._activeSources.set(d,[]),this._activeSources.get(d).push(w),w.onended=()=>{if(this._activeSources&&this._activeSources.has(d)){const q=this._activeSources.get(d),V=q.indexOf(w);V!==-1&&q.splice(V,1)}}}),this}triggerRelease(t,a){return this.log("triggerRelease",t,a),Array.isArray(t)||(t=[t]),t.forEach(i=>{const o=new Vs(this.context,i).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const c=this._activeSources.get(o);a=this.toSeconds(a),c.forEach(d=>{d.stop(a)}),this._activeSources.set(o,[])}}),this}releaseAll(t){const a=this.toSeconds(t);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(a)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,a,i,o=1){const c=this.toSeconds(i);return this.triggerAttack(t,c,o),Xs(a)?(mt(Xs(t),"notes must be an array when duration is array"),t.forEach((d,y)=>{const m=a[Math.min(y,a.length-1)];this.triggerRelease(d,c+this.toSeconds(m))})):this.triggerRelease(t,c+this.toSeconds(a)),this}add(t,a,i){if(mt(nu(t)||isFinite(t),`note must be a pitch or midi: ${t}`),nu(t)){const o=new Vs(this.context,t).toMidi();this._buffers.add(o,a,i)}else this._buffers.add(t,a,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(a=>a.dispose())}),this._activeSources.clear(),this}}Ks([Da(0)],ju.prototype,"attack",void 0);Ks([Da(0)],ju.prototype,"release",void 0);class Zl extends rt{constructor(){const t=at(Zl.getDefaults(),arguments,["fade"]);super(t),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Cb({context:this.context}),this.a=new bt({context:this.context,gain:0}),this.b=new bt({context:this.context,gain:0}),this.output=new bt({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new zt({context:this.context,units:"normalRange",value:t.fade}),Nt(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Zs(this._split,this.a.gain,0),Zs(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(rt.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Rr extends rt{constructor(t){super(t),this.name="Effect",this._dryWet=new Zl({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new bt({context:this.context}),this.effectReturn=new bt({context:this.context}),this.input=new bt({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Nt(this,"wet")}static getDefaults(){return Object.assign(rt.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class M1 extends rt{constructor(){const t=at(M1.getDefaults(),arguments,["pan"]);super(t),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new At({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Nt(this,"pan")}static getDefaults(){return Object.assign(rt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const Vb="bit-crusher",qb=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Mp(Vb,qb);class R1 extends rt{constructor(){const t=at(R1.getDefaults(),arguments,["channels"]);super(t),this.name="Split",this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(rt.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Gu extends rt{constructor(){const t=at(Gu.getDefaults(),arguments,["channels"]);super(t),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(rt.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class H2 extends rt{constructor(t){super(t),this.name="StereoEffect",this.input=new bt({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new Zl({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new R1({context:this.context,channels:2}),this._merge=new Gu({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Nt(this,["wet"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),Di(...t),Zs(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),Di(...t),Zs(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(rt.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class C1 extends Rr{constructor(){const t=at(C1.getDefaults(),arguments,["distortion"]);super(t),this.name="Distortion",this._shaper=new qi({context:this.context,length:4096}),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample}static getDefaults(){return Object.assign(Rr.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(t){this._distortion=t;const a=t*100,i=Math.PI/180;this._shaper.setMap(o=>Math.abs(o)<.001?0:(3+a)*o*20*i/(Math.PI+a*Math.abs(o)))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Tu extends Rr{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new bt({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Nt(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Rr.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Au extends Tu{constructor(){const t=at(Au.getDefaults(),arguments,["delayTime","feedback"]);super(t),this.name="FeedbackDelay",this._delayNode=new Sr({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Nt(this,"delayTime")}static getDefaults(){return Object.assign(Tu.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class N1 extends Tu{constructor(){const t=at(N1.getDefaults(),arguments,["pitch"]);super(t),this.name="PitchShift",this._frequency=new zt({context:this.context}),this._delayA=new Sr({maxDelay:1,context:this.context}),this._lfoA=new Ci({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new Sr({maxDelay:1,context:this.context}),this._lfoB=new Ci({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new Zl({context:this.context}),this._crossFadeLFO=new Ci({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new Sr({delayTime:t.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Nt(this,"delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const a=this.now();this._lfoA.start(a),this._lfoB.start(a),this._crossFadeLFO.start(a),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(Tu.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(t){this._pitch=t;let a=0;t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,a=yu(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,a=yu(t)-1),this._frequency.value=a*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class O1 extends Rr{constructor(){const t=at(O1.getDefaults(),arguments,["decay"]);super(t),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const a=this.toSeconds(t.decay);ks(a,.001),this._decay=a;const i=this.toSeconds(t.preDelay);ks(i,0),this._preDelay=i,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Rr.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){t=this.toSeconds(t),ks(t,.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){t=this.toSeconds(t),ks(t,0),this._preDelay=t,this.generate()}generate(){return Tn(this,void 0,void 0,function*(){const t=this.ready,a=new Du(2,this._decay+this._preDelay,this.context.sampleRate),i=new Ri({context:a}),o=new Ri({context:a}),c=new Gu({context:a});i.connect(c,0,0),o.connect(c,0,1);const d=new bt({context:a}).toDestination();c.connect(d),i.start(0),o.start(0),d.gain.setValueAtTime(0,0),d.gain.setValueAtTime(1,this._preDelay),d.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const y=a.render();return this.ready=y.then(Xt),yield t,this._convolver.buffer=(yield y).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class D1 extends H2{constructor(){const t=at(D1.getDefaults(),arguments,["frequency","depth"]);super(t),this.name="Tremolo",this._lfoL=new Ci({context:this.context,type:t.type,min:1,max:0}),this._lfoR=new Ci({context:this.context,type:t.type,min:1,max:0}),this._amplitudeL=new bt({context:this.context}),this._amplitudeR=new bt({context:this.context}),this.frequency=new zt({context:this.context,value:t.frequency,units:"frequency"}),this.depth=new zt({context:this.context,value:t.depth,units:"normalRange"}),Nt(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=t.spread}static getDefaults(){return Object.assign(H2.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Mn extends rt{constructor(){const t=at(Mn.getDefaults(),arguments,["solo"]);super(t),this.name="Solo",this.input=this.output=new bt({context:this.context}),Mn._allSolos.has(this.context)||Mn._allSolos.set(this.context,new Set),Mn._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(rt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Mn._allSolos.get(this.context).forEach(a=>a._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Mn._soloed.has(this.context)||Mn._soloed.set(this.context,new Set),Mn._soloed.get(this.context).add(this)}_removeSolo(){Mn._soloed.has(this.context)&&Mn._soloed.get(this.context).delete(this)}_isSoloed(){return Mn._soloed.has(this.context)&&Mn._soloed.get(this.context).has(this)}_noSolos(){return!Mn._soloed.has(this.context)||Mn._soloed.has(this.context)&&Mn._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Mn._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Mn._allSolos=new Map;Mn._soloed=new Map;class B1 extends rt{constructor(){const t=at(B1.getDefaults(),arguments,["pan","volume"]);super(t),this.name="PanVol",this._panner=this.input=new M1({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new kr({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Nt(this,["pan","volume"])}static getDefaults(){return Object.assign(rt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class yr extends rt{constructor(){const t=at(yr.getDefaults(),arguments,["volume","pan"]);super(t),this.name="Channel",this._solo=this.input=new Mn({solo:t.solo,context:this.context}),this._panVol=this.output=new B1({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Nt(this,["pan","volume"])}static getDefaults(){return Object.assign(rt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return yr.buses.has(t)||yr.buses.set(t,new bt({context:this.context})),yr.buses.get(t)}send(t,a=0){const i=this._getBus(t),o=new bt({context:this.context,units:"decibels",gain:a});return this.connect(o),o.connect(i),o}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}yr.buses=new Map;class k1 extends rt{constructor(){const t=at(k1.getDefaults(),arguments,["threshold","ratio"]);super(t),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor,this.threshold=new At({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:t.threshold}),this.attack=new At({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:t.attack}),this.release=new At({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:t.release}),this.knee=new At({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:t.knee}),this.ratio=new At({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:t.ratio}),Nt(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(rt.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}Gs().transport;Gs().destination;Gs().destination;Gs().listener;Gs().draw;const z2=Gs();var au={},J0,U2;function un(){if(U2)return J0;U2=1;function l(N){return new Int8Array(N)}function t(N){return new Int16Array(N)}function a(N){return new Int32Array(N)}function i(N){return new Float32Array(N)}function o(N){return new Float64Array(N)}function c(N){if(N.length==1)return i(N[0]);var M=N[0];N=N.slice(1);for(var G=[],b=0;b<M;b++)G.push(c(N));return G}function d(N){if(N.length==1)return a(N[0]);var M=N[0];N=N.slice(1);for(var G=[],b=0;b<M;b++)G.push(d(N));return G}function y(N){if(N.length==1)return t(N[0]);var M=N[0];N=N.slice(1);for(var G=[],b=0;b<M;b++)G.push(y(N));return G}function m(N){if(N.length==1)return new Array(N[0]);var M=N[0];N=N.slice(1);for(var G=[],b=0;b<M;b++)G.push(m(N));return G}var v={};v.fill=function(N,M,G,b){if(arguments.length==2)for(var Z=0;Z<N.length;Z++)N[Z]=arguments[1];else for(var Z=M;Z<G;Z++)N[Z]=b};var g={};g.arraycopy=function(N,M,G,b,Z){for(var C=M+Z;M<C;)G[b++]=N[M++]},g.out={},g.out.println=function(N){console.log(N)},g.out.printf=function(){console.log.apply(console,arguments)};var T={};T.SQRT2=1.4142135623730951,T.FAST_LOG10=function(N){return Math.log10(N)},T.FAST_LOG10_X=function(N,M){return Math.log10(N)*M};function w(N){this.ordinal=N}w.short_block_allowed=new w(0),w.short_block_coupled=new w(1),w.short_block_dispensed=new w(2),w.short_block_forced=new w(3);var q={};q.MAX_VALUE=34028235e31;function V(N){this.ordinal=N}V.vbr_off=new V(0),V.vbr_mt=new V(1),V.vbr_rh=new V(2),V.vbr_abr=new V(3),V.vbr_mtrh=new V(4),V.vbr_default=V.vbr_mtrh;var E=function(N){};return J0={System:g,VbrMode:V,Float:q,ShortBlock:w,Util:T,Arrays:v,new_array_n:m,new_byte:l,new_double:o,new_float:i,new_float_n:c,new_int:a,new_int_n:d,new_short:t,new_short_n:y,assert:E},J0}var $0,j2;function Lb(){if(j2)return $0;j2=1;var l=un(),t=l.System;l.VbrMode,l.Float,l.ShortBlock;var a=l.Util,i=l.Arrays;l.new_array_n,l.new_byte,l.new_double;var o=l.new_float;l.new_float_n,l.new_int,l.new_int_n,l.assert;var c=Jn();function d(){var y=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*a.SQRT2*.5/2384e-9,.017876148*a.SQRT2*.5/2384e-9,.003134727*a.SQRT2*.5/2384e-9,.002457142*a.SQRT2*.5/2384e-9,971317e-9*a.SQRT2*.5/2384e-9,218868e-9*a.SQRT2*.5/2384e-9,101566e-9*a.SQRT2*.5/2384e-9,13828e-9*a.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],m=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],v=m[c.SHORT_TYPE],g=m[c.SHORT_TYPE],T=m[c.SHORT_TYPE],w=m[c.SHORT_TYPE],q=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function V(M,G,b){for(var Z=10,C=G+238-14-286,Q=-15;Q<0;Q++){var j,H,ne;j=y[Z+-10],H=M[C+-224]*j,ne=M[G+224]*j,j=y[Z+-9],H+=M[C+-160]*j,ne+=M[G+160]*j,j=y[Z+-8],H+=M[C+-96]*j,ne+=M[G+96]*j,j=y[Z+-7],H+=M[C+-32]*j,ne+=M[G+32]*j,j=y[Z+-6],H+=M[C+32]*j,ne+=M[G+-32]*j,j=y[Z+-5],H+=M[C+96]*j,ne+=M[G+-96]*j,j=y[Z+-4],H+=M[C+160]*j,ne+=M[G+-160]*j,j=y[Z+-3],H+=M[C+224]*j,ne+=M[G+-224]*j,j=y[Z+-2],H+=M[G+-256]*j,ne-=M[C+256]*j,j=y[Z+-1],H+=M[G+-192]*j,ne-=M[C+192]*j,j=y[Z+0],H+=M[G+-128]*j,ne-=M[C+128]*j,j=y[Z+1],H+=M[G+-64]*j,ne-=M[C+64]*j,j=y[Z+2],H+=M[G+0]*j,ne-=M[C+0]*j,j=y[Z+3],H+=M[G+64]*j,ne-=M[C+-64]*j,j=y[Z+4],H+=M[G+128]*j,ne-=M[C+-128]*j,j=y[Z+5],H+=M[G+192]*j,ne-=M[C+-192]*j,H*=y[Z+6],j=ne-H,b[30+Q*2]=ne+H,b[31+Q*2]=y[Z+7]*j,Z+=18,G--,C++}{var H,ne,le,ee;ne=M[G+-16]*y[Z+-10],H=M[G+-32]*y[Z+-2],ne+=(M[G+-48]-M[G+16])*y[Z+-9],H+=M[G+-96]*y[Z+-1],ne+=(M[G+-80]+M[G+48])*y[Z+-8],H+=M[G+-160]*y[Z+0],ne+=(M[G+-112]-M[G+80])*y[Z+-7],H+=M[G+-224]*y[Z+1],ne+=(M[G+-144]+M[G+112])*y[Z+-6],H-=M[G+32]*y[Z+2],ne+=(M[G+-176]-M[G+144])*y[Z+-5],H-=M[G+96]*y[Z+3],ne+=(M[G+-208]+M[G+176])*y[Z+-4],H-=M[G+160]*y[Z+4],ne+=(M[G+-240]-M[G+208])*y[Z+-3],H-=M[G+224],le=H-ne,ee=H+ne,ne=b[14],H=b[15]-ne,b[31]=ee+ne,b[30]=le+H,b[15]=le-H,b[14]=ee-ne}{var k;k=b[28]-b[0],b[0]+=b[28],b[28]=k*y[Z+-2*18+7],k=b[29]-b[1],b[1]+=b[29],b[29]=k*y[Z+-2*18+7],k=b[26]-b[2],b[2]+=b[26],b[26]=k*y[Z+-4*18+7],k=b[27]-b[3],b[3]+=b[27],b[27]=k*y[Z+-4*18+7],k=b[24]-b[4],b[4]+=b[24],b[24]=k*y[Z+-6*18+7],k=b[25]-b[5],b[5]+=b[25],b[25]=k*y[Z+-6*18+7],k=b[22]-b[6],b[6]+=b[22],b[22]=k*a.SQRT2,k=b[23]-b[7],b[7]+=b[23],b[23]=k*a.SQRT2-b[7],b[7]-=b[6],b[22]-=b[7],b[23]-=b[22],k=b[6],b[6]=b[31]-k,b[31]=b[31]+k,k=b[7],b[7]=b[30]-k,b[30]=b[30]+k,k=b[22],b[22]=b[15]-k,b[15]=b[15]+k,k=b[23],b[23]=b[14]-k,b[14]=b[14]+k,k=b[20]-b[8],b[8]+=b[20],b[20]=k*y[Z+-10*18+7],k=b[21]-b[9],b[9]+=b[21],b[21]=k*y[Z+-10*18+7],k=b[18]-b[10],b[10]+=b[18],b[18]=k*y[Z+-12*18+7],k=b[19]-b[11],b[11]+=b[19],b[19]=k*y[Z+-12*18+7],k=b[16]-b[12],b[12]+=b[16],b[16]=k*y[Z+-14*18+7],k=b[17]-b[13],b[13]+=b[17],b[17]=k*y[Z+-14*18+7],k=-b[20]+b[24],b[20]+=b[24],b[24]=k*y[Z+-12*18+7],k=-b[21]+b[25],b[21]+=b[25],b[25]=k*y[Z+-12*18+7],k=b[4]-b[8],b[4]+=b[8],b[8]=k*y[Z+-12*18+7],k=b[5]-b[9],b[5]+=b[9],b[9]=k*y[Z+-12*18+7],k=b[0]-b[12],b[0]+=b[12],b[12]=k*y[Z+-4*18+7],k=b[1]-b[13],b[1]+=b[13],b[13]=k*y[Z+-4*18+7],k=b[16]-b[28],b[16]+=b[28],b[28]=k*y[Z+-4*18+7],k=-b[17]+b[29],b[17]+=b[29],b[29]=k*y[Z+-4*18+7],k=a.SQRT2*(b[2]-b[10]),b[2]+=b[10],b[10]=k,k=a.SQRT2*(b[3]-b[11]),b[3]+=b[11],b[11]=k,k=a.SQRT2*(-b[18]+b[26]),b[18]+=b[26],b[26]=k-b[18],k=a.SQRT2*(-b[19]+b[27]),b[19]+=b[27],b[27]=k-b[19],k=b[2],b[19]-=b[3],b[3]-=k,b[2]=b[31]-k,b[31]+=k,k=b[3],b[11]-=b[19],b[18]-=k,b[3]=b[30]-k,b[30]+=k,k=b[18],b[27]-=b[11],b[19]-=k,b[18]=b[15]-k,b[15]+=k,k=b[19],b[10]-=k,b[19]=b[14]-k,b[14]+=k,k=b[10],b[11]-=k,b[10]=b[23]-k,b[23]+=k,k=b[11],b[26]-=k,b[11]=b[22]-k,b[22]+=k,k=b[26],b[27]-=k,b[26]=b[7]-k,b[7]+=k,k=b[27],b[27]=b[6]-k,b[6]+=k,k=a.SQRT2*(b[0]-b[4]),b[0]+=b[4],b[4]=k,k=a.SQRT2*(b[1]-b[5]),b[1]+=b[5],b[5]=k,k=a.SQRT2*(b[16]-b[20]),b[16]+=b[20],b[20]=k,k=a.SQRT2*(b[17]-b[21]),b[17]+=b[21],b[21]=k,k=-a.SQRT2*(b[8]-b[12]),b[8]+=b[12],b[12]=k-b[8],k=-a.SQRT2*(b[9]-b[13]),b[9]+=b[13],b[13]=k-b[9],k=-a.SQRT2*(b[25]-b[29]),b[25]+=b[29],b[29]=k-b[25],k=-a.SQRT2*(b[24]+b[28]),b[24]-=b[28],b[28]=k-b[24],k=b[24]-b[16],b[24]=k,k=b[20]-k,b[20]=k,k=b[28]-k,b[28]=k,k=b[25]-b[17],b[25]=k,k=b[21]-k,b[21]=k,k=b[29]-k,b[29]=k,k=b[17]-b[1],b[17]=k,k=b[9]-k,b[9]=k,k=b[25]-k,b[25]=k,k=b[5]-k,b[5]=k,k=b[21]-k,b[21]=k,k=b[13]-k,b[13]=k,k=b[29]-k,b[29]=k,k=b[1]-b[0],b[1]=k,k=b[16]-k,b[16]=k,k=b[17]-k,b[17]=k,k=b[8]-k,b[8]=k,k=b[9]-k,b[9]=k,k=b[24]-k,b[24]=k,k=b[25]-k,b[25]=k,k=b[4]-k,b[4]=k,k=b[5]-k,b[5]=k,k=b[20]-k,b[20]=k,k=b[21]-k,b[21]=k,k=b[12]-k,b[12]=k,k=b[13]-k,b[13]=k,k=b[28]-k,b[28]=k,k=b[29]-k,b[29]=k,k=b[0],b[0]+=b[31],b[31]-=k,k=b[1],b[1]+=b[30],b[30]-=k,k=b[16],b[16]+=b[15],b[15]-=k,k=b[17],b[17]+=b[14],b[14]-=k,k=b[8],b[8]+=b[23],b[23]-=k,k=b[9],b[9]+=b[22],b[22]-=k,k=b[24],b[24]+=b[7],b[7]-=k,k=b[25],b[25]+=b[6],b[6]-=k,k=b[4],b[4]+=b[27],b[27]-=k,k=b[5],b[5]+=b[26],b[26]-=k,k=b[20],b[20]+=b[11],b[11]-=k,k=b[21],b[21]+=b[10],b[10]-=k,k=b[12],b[12]+=b[19],b[19]-=k,k=b[13],b[13]+=b[18],b[18]-=k,k=b[28],b[28]+=b[3],b[3]-=k,k=b[29],b[29]+=b[2],b[2]-=k}}function E(M,G){for(var b=0;b<3;b++){var Z,C,Q,j,H,ne;j=M[G+2*3]*m[c.SHORT_TYPE][0]-M[G+5*3],Z=M[G+0*3]*m[c.SHORT_TYPE][2]-M[G+3*3],C=j+Z,Q=j-Z,j=M[G+5*3]*m[c.SHORT_TYPE][0]+M[G+2*3],Z=M[G+3*3]*m[c.SHORT_TYPE][2]+M[G+0*3],H=j+Z,ne=-j+Z,Z=(M[G+1*3]*m[c.SHORT_TYPE][1]-M[G+4*3])*2069978111953089e-26,j=(M[G+4*3]*m[c.SHORT_TYPE][1]+M[G+1*3])*2069978111953089e-26,M[G+3*0]=C*190752519173728e-25+Z,M[G+3*5]=-H*190752519173728e-25+j,Q=Q*.8660254037844387*1907525191737281e-26,H=H*.5*1907525191737281e-26+j,M[G+3*1]=Q-H,M[G+3*2]=Q+H,C=C*.5*1907525191737281e-26-Z,ne=ne*.8660254037844387*1907525191737281e-26,M[G+3*3]=C+ne,M[G+3*4]=C-ne,G++}}function N(M,G,b){var Z,C;{var Q,j,H,ne,le,ee,k,Te;Q=b[17]-b[9],H=b[15]-b[11],ne=b[14]-b[12],le=b[0]+b[8],ee=b[1]+b[7],k=b[2]+b[6],Te=b[3]+b[5],M[G+17]=le+k-Te-(ee-b[4]),C=(le+k-Te)*g[19]+(ee-b[4]),Z=(Q-H-ne)*g[18],M[G+5]=Z+C,M[G+6]=Z-C,j=(b[16]-b[10])*g[18],ee=ee*g[19]+b[4],Z=Q*g[12]+j+H*g[13]+ne*g[14],C=-le*g[16]+ee-k*g[17]+Te*g[15],M[G+1]=Z+C,M[G+2]=Z-C,Z=Q*g[13]-j-H*g[14]+ne*g[12],C=-le*g[17]+ee-k*g[15]+Te*g[16],M[G+9]=Z+C,M[G+10]=Z-C,Z=Q*g[14]-j+H*g[12]-ne*g[13],C=le*g[15]-ee+k*g[16]-Te*g[17],M[G+13]=Z+C,M[G+14]=Z-C}{var $,W,S,B,X,P,A,h;$=b[8]-b[0],S=b[6]-b[2],B=b[5]-b[3],X=b[17]+b[9],P=b[16]+b[10],A=b[15]+b[11],h=b[14]+b[12],M[G+0]=X+A+h+(P+b[13]),Z=(X+A+h)*g[19]-(P+b[13]),C=($-S+B)*g[18],M[G+11]=Z+C,M[G+12]=Z-C,W=(b[7]-b[1])*g[18],P=b[13]-P*g[19],Z=X*g[15]-P+A*g[16]+h*g[17],C=$*g[14]+W+S*g[12]+B*g[13],M[G+3]=Z+C,M[G+4]=Z-C,Z=-X*g[17]+P-A*g[15]-h*g[16],C=$*g[13]+W-S*g[14]-B*g[12],M[G+7]=Z+C,M[G+8]=Z-C,Z=-X*g[16]+P-A*g[17]-h*g[15],C=$*g[12]-W+S*g[13]-B*g[14],M[G+15]=Z+C,M[G+16]=Z-C}}this.mdct_sub48=function(M,G,b){for(var Z=G,C=286,Q=0;Q<M.channels_out;Q++){for(var j=0;j<M.mode_gr;j++){for(var H,ne=M.l3_side.tt[j][Q],le=ne.xr,ee=0,k=M.sb_sample[Q][1-j],Te=0,$=0;$<18/2;$++)for(V(Z,C,k[Te]),V(Z,C+32,k[Te+1]),Te+=2,C+=64,H=1;H<32;H+=2)k[Te-1][H]*=-1;for(H=0;H<32;H++,ee+=18){var W=ne.block_type,S=M.sb_sample[Q][j],B=M.sb_sample[Q][1-j];if(ne.mixed_block_flag!=0&&H<2&&(W=0),M.amp_filter[H]<1e-12)i.fill(le,ee+0,ee+18,0);else{if(M.amp_filter[H]<1)for(var $=0;$<18;$++)B[$][q[H]]*=M.amp_filter[H];if(W==c.SHORT_TYPE){for(var $=-12/4;$<0;$++){var X=m[c.SHORT_TYPE][$+3];le[ee+$*3+9]=S[9+$][q[H]]*X-S[8-$][q[H]],le[ee+$*3+18]=S[14-$][q[H]]*X+S[15+$][q[H]],le[ee+$*3+10]=S[15+$][q[H]]*X-S[14-$][q[H]],le[ee+$*3+19]=B[2-$][q[H]]*X+B[3+$][q[H]],le[ee+$*3+11]=B[3+$][q[H]]*X-B[2-$][q[H]],le[ee+$*3+20]=B[8-$][q[H]]*X+B[9+$][q[H]]}E(le,ee)}else{for(var P=o(18),$=-36/4;$<0;$++){var A,h;A=m[W][$+27]*B[$+9][q[H]]+m[W][$+36]*B[8-$][q[H]],h=m[W][$+9]*S[$+9][q[H]]-m[W][$+18]*S[8-$][q[H]],P[$+9]=A-h*v[3+$+9],P[$+18]=A*v[3+$+9]+h}N(le,ee,P)}}if(W!=c.SHORT_TYPE&&H!=0)for(var $=7;$>=0;--$){var _,p;_=le[ee+$]*T[20+$]+le[ee+-1-$]*w[28+$],p=le[ee+$]*w[28+$]-le[ee+-1-$]*T[20+$],le[ee+-1-$]=_,le[ee+$]=p}}}if(Z=b,C=286,M.mode_gr==1)for(var x=0;x<18;x++)t.arraycopy(M.sb_sample[Q][1][x],0,M.sb_sample[Q][0][x],0,32)}}}return $0=d,$0}var eh,G2;function Rp(){if(G2)return eh;G2=1;var l=Jn(),t=un(),a=t.System;t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double;var i=t.new_float,o=t.new_float_n;t.new_int,t.new_int_n,t.assert;function c(){this.l=i(l.SBMAX_l),this.s=o([l.SBMAX_s,3]);var d=this;this.assign=function(y){a.arraycopy(y.l,0,d.l,0,l.SBMAX_l);for(var m=0;m<l.SBMAX_s;m++)for(var v=0;v<3;v++)d.s[m][v]=y.s[m][v]}}return eh=c,eh}var th,F2;function Ib(){if(F2)return th;F2=1;var l=Rp();function t(){this.thm=new l,this.en=new l}return th=t,th}var nh,X2;function Jn(){if(X2)return nh;X2=1;var l=un(),t=l.System,a=l.VbrMode;l.Float,l.ShortBlock,l.Util,l.Arrays;var i=l.new_array_n;l.new_byte,l.new_double;var o=l.new_float,c=l.new_float_n,d=l.new_int;l.new_int_n;var y=l.assert;m.ENCDELAY=576,m.POSTDELAY=1152,m.MDCTDELAY=48,m.FFTOFFSET=224+m.MDCTDELAY,m.DECDELAY=528,m.SBLIMIT=32,m.CBANDS=64,m.SBPSY_l=21,m.SBPSY_s=12,m.SBMAX_l=22,m.SBMAX_s=13,m.PSFB21=6,m.PSFB12=6,m.BLKSIZE=1024,m.HBLKSIZE=m.BLKSIZE/2+1,m.BLKSIZE_s=256,m.HBLKSIZE_s=m.BLKSIZE_s/2+1,m.NORM_TYPE=0,m.START_TYPE=1,m.SHORT_TYPE=2,m.STOP_TYPE=3,m.MPG_MD_LR_LR=0,m.MPG_MD_LR_I=1,m.MPG_MD_MS_LR=2,m.MPG_MD_MS_I=3,m.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function m(){var v=Lb(),g=Ib(),T=m.FFTOFFSET,w=m.MPG_MD_MS_LR,q=null;this.psy=null;var V=null,E=null,N=null;this.setModules=function(C,Q,j,H){q=C,this.psy=Q,V=Q,E=H,N=j};var M=new v;function G(C){var Q,j;if(C.ATH.useAdjust==0){C.ATH.adjust=1;return}if(j=C.loudness_sq[0][0],Q=C.loudness_sq[1][0],C.channels_out==2?(j+=C.loudness_sq[0][1],Q+=C.loudness_sq[1][1]):(j+=j,Q+=Q),C.mode_gr==2&&(j=Math.max(j,Q)),j*=.5,j*=C.ATH.aaSensitivityP,j>.03125)C.ATH.adjust>=1?C.ATH.adjust=1:C.ATH.adjust<C.ATH.adjustLimit&&(C.ATH.adjust=C.ATH.adjustLimit),C.ATH.adjustLimit=1;else{var H=31.98*j+625e-6;C.ATH.adjust>=H?(C.ATH.adjust*=H*.075+.925,C.ATH.adjust<H&&(C.ATH.adjust=H)):C.ATH.adjustLimit>=H?C.ATH.adjust=H:C.ATH.adjust<C.ATH.adjustLimit&&(C.ATH.adjust=C.ATH.adjustLimit),C.ATH.adjustLimit=H}}function b(C){var Q,j;for(y(0<=C.bitrate_index&&C.bitrate_index<16),y(0<=C.mode_ext&&C.mode_ext<4),C.bitrate_stereoMode_Hist[C.bitrate_index][4]++,C.bitrate_stereoMode_Hist[15][4]++,C.channels_out==2&&(C.bitrate_stereoMode_Hist[C.bitrate_index][C.mode_ext]++,C.bitrate_stereoMode_Hist[15][C.mode_ext]++),Q=0;Q<C.mode_gr;++Q)for(j=0;j<C.channels_out;++j){var H=C.l3_side.tt[Q][j].block_type|0;C.l3_side.tt[Q][j].mixed_block_flag!=0&&(H=4),C.bitrate_blockType_Hist[C.bitrate_index][H]++,C.bitrate_blockType_Hist[C.bitrate_index][5]++,C.bitrate_blockType_Hist[15][H]++,C.bitrate_blockType_Hist[15][5]++}}function Z(C,Q){var j=C.internal_flags,H,ne;if(j.lame_encode_frame_init==0){var le,ee,k=o(2014),Te=o(2014);for(j.lame_encode_frame_init=1,le=0,ee=0;le<286+576*(1+j.mode_gr);++le)le<576*j.mode_gr?(k[le]=0,j.channels_out==2&&(Te[le]=0)):(k[le]=Q[0][ee],j.channels_out==2&&(Te[le]=Q[1][ee]),++ee);for(ne=0;ne<j.mode_gr;ne++)for(H=0;H<j.channels_out;H++)j.l3_side.tt[ne][H].block_type=m.SHORT_TYPE;M.mdct_sub48(j,k,Te),y(576>=m.FFTOFFSET),y(j.mf_size>=m.BLKSIZE+C.framesize-m.FFTOFFSET),y(j.mf_size>=512+C.framesize-32)}}this.lame_encode_mp3_frame=function(C,Q,j,H,ne,le){var ee,k=i([2,2]);k[0][0]=new g,k[0][1]=new g,k[1][0]=new g,k[1][1]=new g;var Te=i([2,2]);Te[0][0]=new g,Te[0][1]=new g,Te[1][0]=new g,Te[1][1]=new g;var $,W=[null,null],S=C.internal_flags,B=c([2,4]),X=[.5,.5],P=[[0,0],[0,0]],A=[[0,0],[0,0]],h,_,p;if(W[0]=Q,W[1]=j,S.lame_encode_frame_init==0&&Z(C,W),S.padding=0,(S.slot_lag-=S.frac_SpF)<0&&(S.slot_lag+=C.out_samplerate,S.padding=1),S.psymodel!=0){var x,D=[null,null],z=0,K=d(2);for(p=0;p<S.mode_gr;p++){for(_=0;_<S.channels_out;_++)D[_]=W[_],z=576+p*576-m.FFTOFFSET;if(C.VBR==a.vbr_mtrh||C.VBR==a.vbr_mt?x=V.L3psycho_anal_vbr(C,D,z,p,k,Te,P[p],A[p],B[p],K):x=V.L3psycho_anal_ns(C,D,z,p,k,Te,P[p],A[p],B[p],K),x!=0)return-4;for(C.mode==MPEGMode.JOINT_STEREO&&(X[p]=B[p][2]+B[p][3],X[p]>0&&(X[p]=B[p][3]/X[p])),_=0;_<S.channels_out;_++){var L=S.l3_side.tt[p][_];L.block_type=K[_],L.mixed_block_flag=0}}}else for(p=0;p<S.mode_gr;p++)for(_=0;_<S.channels_out;_++)S.l3_side.tt[p][_].block_type=m.NORM_TYPE,S.l3_side.tt[p][_].mixed_block_flag=0,A[p][_]=P[p][_]=700;if(G(S),M.mdct_sub48(S,W[0],W[1]),S.mode_ext=m.MPG_MD_LR_LR,C.force_ms)S.mode_ext=m.MPG_MD_MS_LR;else if(C.mode==MPEGMode.JOINT_STEREO){var ae=0,oe=0;for(p=0;p<S.mode_gr;p++)for(_=0;_<S.channels_out;_++)ae+=A[p][_],oe+=P[p][_];if(ae<=1*oe){var Ee=S.l3_side.tt[0],ke=S.l3_side.tt[S.mode_gr-1];Ee[0].block_type==Ee[1].block_type&&ke[0].block_type==ke[1].block_type&&(S.mode_ext=m.MPG_MD_MS_LR)}}if(S.mode_ext==w?($=Te,h=A):($=k,h=P),C.analysis&&S.pinfo!=null)for(p=0;p<S.mode_gr;p++)for(_=0;_<S.channels_out;_++)S.pinfo.ms_ratio[p]=S.ms_ratio[p],S.pinfo.ms_ener_ratio[p]=X[p],S.pinfo.blocktype[p][_]=S.l3_side.tt[p][_].block_type,S.pinfo.pe[p][_]=h[p][_],t.arraycopy(S.l3_side.tt[p][_].xr,0,S.pinfo.xr[p][_],0,576),S.mode_ext==w&&(S.pinfo.ers[p][_]=S.pinfo.ers[p][_+2],t.arraycopy(S.pinfo.energy[p][_+2],0,S.pinfo.energy[p][_],0,S.pinfo.energy[p][_].length));if(C.VBR==a.vbr_off||C.VBR==a.vbr_abr){var Ve,je;for(Ve=0;Ve<18;Ve++)S.nsPsy.pefirbuf[Ve]=S.nsPsy.pefirbuf[Ve+1];for(je=0,p=0;p<S.mode_gr;p++)for(_=0;_<S.channels_out;_++)je+=h[p][_];for(S.nsPsy.pefirbuf[18]=je,je=S.nsPsy.pefirbuf[9],Ve=0;Ve<9;Ve++)je+=(S.nsPsy.pefirbuf[Ve]+S.nsPsy.pefirbuf[18-Ve])*m.fircoef[Ve];for(je=670*5*S.mode_gr*S.channels_out/je,p=0;p<S.mode_gr;p++)for(_=0;_<S.channels_out;_++)h[p][_]*=je}if(S.iteration_loop.iteration_loop(C,h,X,$),q.format_bitstream(C),ee=q.copy_buffer(S,H,ne,le,1),C.bWriteVbrTag&&E.addVbrFrame(C),C.analysis&&S.pinfo!=null){for(_=0;_<S.channels_out;_++){var ge;for(ge=0;ge<T;ge++)S.pinfo.pcmdata[_][ge]=S.pinfo.pcmdata[_][ge+C.framesize];for(ge=T;ge<1600;ge++)S.pinfo.pcmdata[_][ge]=W[_][ge-T]}N.set_frame_pinfo(C,$)}return b(S),ee}}return nh=m,nh}var sh,Y2;function Hb(){if(Y2)return sh;Y2=1;var l=un();l.System,l.VbrMode,l.Float,l.ShortBlock;var t=l.Util;l.Arrays,l.new_array_n,l.new_byte,l.new_double;var a=l.new_float;l.new_float_n,l.new_int,l.new_int_n,l.assert;var i=Jn();function o(){var c=a(i.BLKSIZE),d=a(i.BLKSIZE_s/2),y=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function m(g,T,w){var q=0,V,E,N;w<<=1;var M=T+w;V=4;do{var G,b,Z,C,Q,j,H;H=V>>1,C=V,Q=V<<1,j=Q+C,V=Q<<1,E=T,N=E+H;do{var ne,le,ee,k;le=g[E+0]-g[E+C],ne=g[E+0]+g[E+C],k=g[E+Q]-g[E+j],ee=g[E+Q]+g[E+j],g[E+Q]=ne-ee,g[E+0]=ne+ee,g[E+j]=le-k,g[E+C]=le+k,le=g[N+0]-g[N+C],ne=g[N+0]+g[N+C],k=t.SQRT2*g[N+j],ee=t.SQRT2*g[N+Q],g[N+Q]=ne-ee,g[N+0]=ne+ee,g[N+j]=le-k,g[N+C]=le+k,N+=V,E+=V}while(E<M);for(b=y[q+0],G=y[q+1],Z=1;Z<H;Z++){var Te,$;Te=1-2*G*G,$=2*G*b,E=T+Z,N=T+C-Z;do{var W,S,B,ne,le,X,ee,P,k,A;S=$*g[E+C]-Te*g[N+C],W=Te*g[E+C]+$*g[N+C],le=g[E+0]-W,ne=g[E+0]+W,X=g[N+0]-S,B=g[N+0]+S,S=$*g[E+j]-Te*g[N+j],W=Te*g[E+j]+$*g[N+j],k=g[E+Q]-W,ee=g[E+Q]+W,A=g[N+Q]-S,P=g[N+Q]+S,S=G*ee-b*A,W=b*ee+G*A,g[E+Q]=ne-W,g[E+0]=ne+W,g[N+j]=X-S,g[N+C]=X+S,S=b*P-G*k,W=G*P+b*k,g[N+Q]=B-W,g[N+0]=B+W,g[E+j]=le-S,g[E+C]=le+S,N+=V,E+=V}while(E<M);Te=b,b=Te*y[q+0]-G*y[q+1],G=Te*y[q+1]+G*y[q+0]}q+=2}while(V<w)}var v=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(g,T,w,q,V){for(var E=0;E<3;E++){var N=i.BLKSIZE_s/2,M=65535&576/3*(E+1),G=i.BLKSIZE_s/8-1;do{var b,Z,C,Q,j,H=v[G<<2]&255;b=d[H]*q[w][V+H+M],j=d[127-H]*q[w][V+H+M+128],Z=b-j,b=b+j,C=d[H+64]*q[w][V+H+M+64],j=d[63-H]*q[w][V+H+M+192],Q=C-j,C=C+j,N-=4,T[E][N+0]=b+C,T[E][N+2]=b-C,T[E][N+1]=Z+Q,T[E][N+3]=Z-Q,b=d[H+1]*q[w][V+H+M+1],j=d[126-H]*q[w][V+H+M+129],Z=b-j,b=b+j,C=d[H+65]*q[w][V+H+M+65],j=d[62-H]*q[w][V+H+M+193],Q=C-j,C=C+j,T[E][N+i.BLKSIZE_s/2+0]=b+C,T[E][N+i.BLKSIZE_s/2+2]=b-C,T[E][N+i.BLKSIZE_s/2+1]=Z+Q,T[E][N+i.BLKSIZE_s/2+3]=Z-Q}while(--G>=0);m(T[E],N,i.BLKSIZE_s/2)}},this.fft_long=function(g,T,w,q,V){var E=i.BLKSIZE/8-1,N=i.BLKSIZE/2;do{var M,G,b,Z,C,Q=v[E]&255;M=c[Q]*q[w][V+Q],C=c[Q+512]*q[w][V+Q+512],G=M-C,M=M+C,b=c[Q+256]*q[w][V+Q+256],C=c[Q+768]*q[w][V+Q+768],Z=b-C,b=b+C,N-=4,T[N+0]=M+b,T[N+2]=M-b,T[N+1]=G+Z,T[N+3]=G-Z,M=c[Q+1]*q[w][V+Q+1],C=c[Q+513]*q[w][V+Q+513],G=M-C,M=M+C,b=c[Q+257]*q[w][V+Q+257],C=c[Q+769]*q[w][V+Q+769],Z=b-C,b=b+C,T[N+i.BLKSIZE/2+0]=M+b,T[N+i.BLKSIZE/2+2]=M-b,T[N+i.BLKSIZE/2+1]=G+Z,T[N+i.BLKSIZE/2+3]=G-Z}while(--E>=0);m(T,N,i.BLKSIZE/2)},this.init_fft=function(g){for(var T=0;T<i.BLKSIZE;T++)c[T]=.42-.5*Math.cos(2*Math.PI*(T+.5)/i.BLKSIZE)+.08*Math.cos(4*Math.PI*(T+.5)/i.BLKSIZE);for(var T=0;T<i.BLKSIZE_s/2;T++)d[T]=.5*(1-Math.cos(2*Math.PI*(T+.5)/i.BLKSIZE_s))}}return sh=o,sh}var ah,Z2;function zb(){if(Z2)return ah;Z2=1;var l=un();l.System;var t=l.VbrMode,a=l.Float,i=l.ShortBlock,o=l.Util,c=l.Arrays;l.new_array_n,l.new_byte,l.new_double;var d=l.new_float,y=l.new_float_n,m=l.new_int;l.new_int_n;var v=l.assert,g=Hb(),T=Jn();function w(){var q=new g,V=2.302585092994046,E=2,N=16,M=2,G=16,b=.34,Z=1/(14752*14752)/(T.BLKSIZE/2),C=.01,Q=.8,j=.6,H=.3,ne=3.5,le=21,ee=.2302585093;function k(F){return F}function Te(F,Y){for(var te=0,ie=0;ie<T.BLKSIZE/2;++ie)te+=F[ie]*Y.ATH.eql_w[ie];return te*=Z,te}function $(F,Y,te,ie,de,J,re,fe,ce,Ae,me){var we=F.internal_flags;if(ce<2)q.fft_long(we,ie[de],ce,Ae,me),q.fft_short(we,J[re],ce,Ae,me);else if(ce==2){for(var Ue=T.BLKSIZE-1;Ue>=0;--Ue){var Je=ie[de+0][Ue],Oe=ie[de+1][Ue];ie[de+0][Ue]=(Je+Oe)*o.SQRT2*.5,ie[de+1][Ue]=(Je-Oe)*o.SQRT2*.5}for(var Ze=2;Ze>=0;--Ze)for(var Ue=T.BLKSIZE_s-1;Ue>=0;--Ue){var Je=J[re+0][Ze][Ue],Oe=J[re+1][Ze][Ue];J[re+0][Ze][Ue]=(Je+Oe)*o.SQRT2*.5,J[re+1][Ze][Ue]=(Je-Oe)*o.SQRT2*.5}}Y[0]=ie[de+0][0],Y[0]*=Y[0];for(var Ue=T.BLKSIZE/2-1;Ue>=0;--Ue){var ye=ie[de+0][T.BLKSIZE/2-Ue],Fe=ie[de+0][T.BLKSIZE/2+Ue];Y[T.BLKSIZE/2-Ue]=(ye*ye+Fe*Fe)*.5}for(var Ze=2;Ze>=0;--Ze){te[Ze][0]=J[re+0][Ze][0],te[Ze][0]*=te[Ze][0];for(var Ue=T.BLKSIZE_s/2-1;Ue>=0;--Ue){var ye=J[re+0][Ze][T.BLKSIZE_s/2-Ue],Fe=J[re+0][Ze][T.BLKSIZE_s/2+Ue];te[Ze][T.BLKSIZE_s/2-Ue]=(ye*ye+Fe*Fe)*.5}}{for(var lt=0,Ue=11;Ue<T.HBLKSIZE;Ue++)lt+=Y[Ue];we.tot_ener[ce]=lt}if(F.analysis){for(var Ue=0;Ue<T.HBLKSIZE;Ue++)we.pinfo.energy[fe][ce][Ue]=we.pinfo.energy_save[ce][Ue],we.pinfo.energy_save[ce][Ue]=Y[Ue];we.pinfo.pe[fe][ce]=we.pe[ce]}F.athaa_loudapprox==2&&ce<2&&(we.loudness_sq[fe][ce]=we.loudness_sq_save[ce],we.loudness_sq_save[ce]=Te(Y,we))}var W=8,S=23,B=15,X,P,A,h=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function _(){X=Math.pow(10,(W+1)/16),P=Math.pow(10,(S+1)/16),A=Math.pow(10,B/10)}var p=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],x=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],D=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function z(F,Y,te,ie,de,J){var re;if(Y>F)if(Y<F*P)re=Y/F;else return F+Y;else{if(F>=Y*P)return F+Y;re=F/Y}if(v(F>=0),v(Y>=0),F+=Y,ie+3<=6){if(re>=X)return F;var fe=0|o.FAST_LOG10_X(re,16);return F*x[fe]}var fe=0|o.FAST_LOG10_X(re,16);if(Y=de.ATH.cb_l[te]*de.ATH.adjust,v(Y>=0),F<A*Y){if(F>Y){var ce,Ae;return ce=1,fe<=13&&(ce=D[fe]),Ae=o.FAST_LOG10_X(F/Y,10/15),F*((p[fe]-ce)*Ae+ce)}return fe>13?F:F*D[fe]}return F*p[fe]}var K=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function L(F,Y,te){var ie;if(F<0&&(F=0),Y<0&&(Y=0),F<=0)return Y;if(Y<=0)return F;if(Y>F?ie=Y/F:ie=F/Y,-2<=te&&te<=2){if(ie>=X)return F+Y;var de=0|o.FAST_LOG10_X(ie,16);return(F+Y)*K[de]}return ie<P?F+Y:(F<Y&&(F=Y),F)}function ae(F,Y){var te=F.internal_flags;if(te.channels_out>1){for(var ie=0;ie<T.SBMAX_l;ie++){var de=te.thm[0].l[ie],J=te.thm[1].l[ie];te.thm[0].l[ie]+=J*Y,te.thm[1].l[ie]+=de*Y}for(var ie=0;ie<T.SBMAX_s;ie++)for(var re=0;re<3;re++){var de=te.thm[0].s[ie][re],J=te.thm[1].s[ie][re];te.thm[0].s[ie][re]+=J*Y,te.thm[1].s[ie][re]+=de*Y}}}function oe(F){for(var Y=0;Y<T.SBMAX_l;Y++)if(!(F.thm[0].l[Y]>1.58*F.thm[1].l[Y]||F.thm[1].l[Y]>1.58*F.thm[0].l[Y])){var te=F.mld_l[Y]*F.en[3].l[Y],ie=Math.max(F.thm[2].l[Y],Math.min(F.thm[3].l[Y],te));te=F.mld_l[Y]*F.en[2].l[Y];var de=Math.max(F.thm[3].l[Y],Math.min(F.thm[2].l[Y],te));F.thm[2].l[Y]=ie,F.thm[3].l[Y]=de}for(var Y=0;Y<T.SBMAX_s;Y++)for(var J=0;J<3;J++)if(!(F.thm[0].s[Y][J]>1.58*F.thm[1].s[Y][J]||F.thm[1].s[Y][J]>1.58*F.thm[0].s[Y][J])){var te=F.mld_s[Y]*F.en[3].s[Y][J],ie=Math.max(F.thm[2].s[Y][J],Math.min(F.thm[3].s[Y][J],te));te=F.mld_s[Y]*F.en[2].s[Y][J];var de=Math.max(F.thm[3].s[Y][J],Math.min(F.thm[2].s[Y][J],te));F.thm[2].s[Y][J]=ie,F.thm[3].s[Y][J]=de}}function Ee(F,Y,te){var ie=Y,de=Math.pow(10,te);Y*=2,ie*=2;for(var J=0;J<T.SBMAX_l;J++){var re,fe,ce,Ae;if(Ae=F.ATH.cb_l[F.bm_l[J]]*de,re=Math.min(Math.max(F.thm[0].l[J],Ae),Math.max(F.thm[1].l[J],Ae)),fe=Math.max(F.thm[2].l[J],Ae),ce=Math.max(F.thm[3].l[J],Ae),re*Y<fe+ce){var me=re*ie/(fe+ce);fe*=me,ce*=me,v(fe+ce>0)}F.thm[2].l[J]=Math.min(fe,F.thm[2].l[J]),F.thm[3].l[J]=Math.min(ce,F.thm[3].l[J])}de*=T.BLKSIZE_s/T.BLKSIZE;for(var J=0;J<T.SBMAX_s;J++)for(var we=0;we<3;we++){var re,fe,ce,Ae;if(Ae=F.ATH.cb_s[F.bm_s[J]]*de,re=Math.min(Math.max(F.thm[0].s[J][we],Ae),Math.max(F.thm[1].s[J][we],Ae)),fe=Math.max(F.thm[2].s[J][we],Ae),ce=Math.max(F.thm[3].s[J][we],Ae),re*Y<fe+ce){var me=re*Y/(fe+ce);fe*=me,ce*=me,v(fe+ce>0)}F.thm[2].s[J][we]=Math.min(F.thm[2].s[J][we],fe),F.thm[3].s[J][we]=Math.min(F.thm[3].s[J][we],ce)}}function ke(F,Y,te,ie,de){var J,re,fe=0,ce=0;for(J=re=0;J<T.SBMAX_s;++re,++J){for(var Ae=F.bo_s[J],me=F.npart_s,we=Ae<me?Ae:me;re<we;)v(Y[re]>=0),v(te[re]>=0),fe+=Y[re],ce+=te[re],re++;if(F.en[ie].s[J][de]=fe,F.thm[ie].s[J][de]=ce,re>=me){++J;break}v(Y[re]>=0),v(te[re]>=0);{var Ue=F.PSY.bo_s_weight[J],Je=1-Ue;fe=Ue*Y[re],ce=Ue*te[re],F.en[ie].s[J][de]+=fe,F.thm[ie].s[J][de]+=ce,fe=Je*Y[re],ce=Je*te[re]}}for(;J<T.SBMAX_s;++J)F.en[ie].s[J][de]=0,F.thm[ie].s[J][de]=0}function Ve(F,Y,te,ie){var de,J,re=0,fe=0;for(de=J=0;de<T.SBMAX_l;++J,++de){for(var ce=F.bo_l[de],Ae=F.npart_l,me=ce<Ae?ce:Ae;J<me;)v(Y[J]>=0),v(te[J]>=0),re+=Y[J],fe+=te[J],J++;if(F.en[ie].l[de]=re,F.thm[ie].l[de]=fe,J>=Ae){++de;break}v(Y[J]>=0),v(te[J]>=0);{var we=F.PSY.bo_l_weight[de],Ue=1-we;re=we*Y[J],fe=we*te[J],F.en[ie].l[de]+=re,F.thm[ie].l[de]+=fe,re=Ue*Y[J],fe=Ue*te[J]}}for(;de<T.SBMAX_l;++de)F.en[ie].l[de]=0,F.thm[ie].l[de]=0}function je(F,Y,te,ie,de,J){var re=F.internal_flags,fe,ce;for(ce=fe=0;ce<re.npart_s;++ce){for(var Ae=0,me=re.numlines_s[ce],we=0;we<me;++we,++fe){var Ue=Y[J][fe];Ae+=Ue}te[ce]=Ae}for(v(ce==re.npart_s),v(fe==129),fe=ce=0;ce<re.npart_s;ce++){var Je=re.s3ind_s[ce][0],Oe=re.s3_ss[fe++]*te[Je];for(++Je;Je<=re.s3ind_s[ce][1];)Oe+=re.s3_ss[fe]*te[Je],++fe,++Je;{var Ze=M*re.nb_s1[de][ce];ie[ce]=Math.min(Oe,Ze)}if(re.blocktype_old[de&1]==T.SHORT_TYPE){var Ze=G*re.nb_s2[de][ce],ye=ie[ce];ie[ce]=Math.min(Ze,ye)}re.nb_s2[de][ce]=re.nb_s1[de][ce],re.nb_s1[de][ce]=Oe,v(ie[ce]>=0)}for(;ce<=T.CBANDS;++ce)te[ce]=0,ie[ce]=0}function ge(F,Y,te,ie){var de=F.internal_flags;F.short_blocks==i.short_block_coupled&&!(Y[0]!=0&&Y[1]!=0)&&(Y[0]=Y[1]=0);for(var J=0;J<de.channels_out;J++)ie[J]=T.NORM_TYPE,F.short_blocks==i.short_block_dispensed&&(Y[J]=1),F.short_blocks==i.short_block_forced&&(Y[J]=0),Y[J]!=0?(v(de.blocktype_old[J]!=T.START_TYPE),de.blocktype_old[J]==T.SHORT_TYPE&&(ie[J]=T.STOP_TYPE)):(ie[J]=T.SHORT_TYPE,de.blocktype_old[J]==T.NORM_TYPE&&(de.blocktype_old[J]=T.START_TYPE),de.blocktype_old[J]==T.STOP_TYPE&&(de.blocktype_old[J]=T.SHORT_TYPE)),te[J]=de.blocktype_old[J],de.blocktype_old[J]=ie[J]}function Ie(F,Y,te){return te>=1?F:te<=0?Y:Y>0?Math.pow(F/Y,te)*Y:0}var nt=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function R(F,Y){for(var te=309.07,ie=0;ie<T.SBMAX_s-1;ie++)for(var de=0;de<3;de++){var J=F.thm.s[ie][de];if(v(ie<nt.length),J>0){var re=J*Y,fe=F.en.s[ie][de];fe>re&&(fe>re*1e10?te+=nt[ie]*(10*V):(v(re>0),te+=nt[ie]*o.FAST_LOG10(fe/re)))}}return te}var I=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function Ce(F,Y){for(var te=281.0575,ie=0;ie<T.SBMAX_l-1;ie++){var de=F.thm.l[ie];if(v(ie<I.length),de>0){var J=de*Y,re=F.en.l[ie];re>J&&(re>J*1e10?te+=I[ie]*(10*V):(v(J>0),te+=I[ie]*o.FAST_LOG10(re/J)))}}return te}function qe(F,Y,te,ie,de){var J,re;for(J=re=0;J<F.npart_l;++J){var fe=0,ce=0,Ae;for(Ae=0;Ae<F.numlines_l[J];++Ae,++re){var me=Y[re];v(me>=0),fe+=me,ce<me&&(ce=me)}te[J]=fe,ie[J]=ce,de[J]=fe*F.rnumlines_l[J],v(F.rnumlines_l[J]>=0),v(fe>=0),v(te[J]>=0),v(ie[J]>=0),v(de[J]>=0)}}function et(F,Y,te,ie){var de=h.length-1,J=0,re=te[J]+te[J+1];if(v(re>=0),re>0){var fe=Y[J];fe<Y[J+1]&&(fe=Y[J+1]),v(F.numlines_l[J]+F.numlines_l[J+1]-1>0),re=20*(fe*2-re)/(re*(F.numlines_l[J]+F.numlines_l[J+1]-1));var ce=0|re;ce>de&&(ce=de),ie[J]=ce}else ie[J]=0;for(J=1;J<F.npart_l-1;J++)if(re=te[J-1]+te[J]+te[J+1],v(re>=0),re>0){var fe=Y[J-1];fe<Y[J]&&(fe=Y[J]),fe<Y[J+1]&&(fe=Y[J+1]),v(F.numlines_l[J-1]+F.numlines_l[J]+F.numlines_l[J+1]-1>0),re=20*(fe*3-re)/(re*(F.numlines_l[J-1]+F.numlines_l[J]+F.numlines_l[J+1]-1));var ce=0|re;ce>de&&(ce=de),ie[J]=ce}else ie[J]=0;if(v(J>0),v(J==F.npart_l-1),re=te[J-1]+te[J],v(re>=0),re>0){var fe=Y[J-1];fe<Y[J]&&(fe=Y[J]),v(F.numlines_l[J-1]+F.numlines_l[J]-1>0),re=20*(fe*2-re)/(re*(F.numlines_l[J-1]+F.numlines_l[J]-1));var ce=0|re;ce>de&&(ce=de),ie[J]=ce}else ie[J]=0;v(J==F.npart_l-1)}var Ye=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(F,Y,te,ie,de,J,re,fe,ce,Ae){var me=F.internal_flags,we=y([2,T.BLKSIZE]),Ue=y([2,3,T.BLKSIZE_s]),Je=d(T.CBANDS+1),Oe=d(T.CBANDS+1),Ze=d(T.CBANDS+2),ye=m(2),Fe=m(2),lt,Me,Xe,De,$e,Et,ze,ot,_t=y([2,576]),Yt,xn=m(T.CBANDS+2),jt=m(T.CBANDS+2);for(c.fill(jt,0),lt=me.channels_out,F.mode==MPEGMode.JOINT_STEREO&&(lt=4),F.VBR==t.vbr_off?Yt=me.ResvMax==0?0:me.ResvSize/me.ResvMax*.5:F.VBR==t.vbr_rh||F.VBR==t.vbr_mtrh||F.VBR==t.vbr_mt?Yt=.6:Yt=1,Me=0;Me<me.channels_out;Me++){var yt=Y[Me],bn=te+576-350-le+192;for(v(Ye.length==(le-1)/2),De=0;De<576;De++){var hn,fn;for(hn=yt[bn+De+10],fn=0,$e=0;$e<(le-1)/2-1;$e+=2)hn+=Ye[$e]*(yt[bn+De+$e]+yt[bn+De+le-$e]),fn+=Ye[$e+1]*(yt[bn+De+$e+1]+yt[bn+De+le-$e-1]);_t[Me][De]=hn+fn}de[ie][Me].en.assign(me.en[Me]),de[ie][Me].thm.assign(me.thm[Me]),lt>2&&(J[ie][Me].en.assign(me.en[Me+2]),J[ie][Me].thm.assign(me.thm[Me+2]))}for(Me=0;Me<lt;Me++){var Bn,kn,mn=d(12),$n=[0,0,0,0],dn=d(12),ds=1,Ps,oa=d(T.CBANDS),ua=d(T.CBANDS),kt=[0,0,0,0],Ii=d(T.HBLKSIZE),Vn=y([3,T.HBLKSIZE_s]);for(v(me.npart_s<=T.CBANDS),v(me.npart_l<=T.CBANDS),De=0;De<3;De++)mn[De]=me.nsPsy.last_en_subshort[Me][De+6],v(me.nsPsy.last_en_subshort[Me][De+4]>0),dn[De]=mn[De]/me.nsPsy.last_en_subshort[Me][De+4],$n[0]+=mn[De];if(Me==2)for(De=0;De<576;De++){var ca,he;ca=_t[0][De],he=_t[1][De],_t[0][De]=ca+he,_t[1][De]=ca-he}{var Le=_t[Me&1],Ke=0;for(De=0;De<9;De++){for(var pt=Ke+64,ut=1;Ke<pt;Ke++)ut<Math.abs(Le[Ke])&&(ut=Math.abs(Le[Ke]));me.nsPsy.last_en_subshort[Me][De]=mn[De+3]=ut,$n[1+De/3]+=ut,ut>mn[De+3-2]?(v(mn[De+3-2]>0),ut=ut/mn[De+3-2]):mn[De+3-2]>ut*10?(v(ut>0),ut=mn[De+3-2]/(ut*10)):ut=0,dn[De+3]=ut}}if(F.analysis){var Ct=dn[0];for(De=1;De<12;De++)Ct<dn[De]&&(Ct=dn[De]);me.pinfo.ers[ie][Me]=me.pinfo.ers_save[Me],me.pinfo.ers_save[Me]=Ct}for(Ps=Me==3?me.nsPsy.attackthre_s:me.nsPsy.attackthre,De=0;De<12;De++)kt[De/3]==0&&dn[De]>Ps&&(kt[De/3]=De%3+1);for(De=1;De<4;De++){var Lt;$n[De-1]>$n[De]?(v($n[De]>0),Lt=$n[De-1]/$n[De]):(v($n[De-1]>0),Lt=$n[De]/$n[De-1]),Lt<1.7&&(kt[De]=0,De==1&&(kt[0]=0))}for(kt[0]!=0&&me.nsPsy.lastAttacks[Me]!=0&&(kt[0]=0),(me.nsPsy.lastAttacks[Me]==3||kt[0]+kt[1]+kt[2]+kt[3]!=0)&&(ds=0,kt[1]!=0&&kt[0]!=0&&(kt[1]=0),kt[2]!=0&&kt[1]!=0&&(kt[2]=0),kt[3]!=0&&kt[2]!=0&&(kt[3]=0)),Me<2?Fe[Me]=ds:ds==0&&(Fe[0]=Fe[1]=0),ce[Me]=me.tot_ener[Me],kn=Ue,Bn=we,$(F,Ii,Vn,Bn,Me&1,kn,Me&1,ie,Me,Y,te),qe(me,Ii,Je,oa,ua),et(me,oa,ua,xn),ot=0;ot<3;ot++){var It,Ht;for(je(F,Vn,Oe,Ze,Me,ot),ke(me,Oe,Ze,Me,ot),ze=0;ze<T.SBMAX_s;ze++){if(Ht=me.thm[Me].s[ze][ot],Ht*=Q,kt[ot]>=2||kt[ot+1]==1){var Cn=ot!=0?ot-1:2,ut=Ie(me.thm[Me].s[ze][Cn],Ht,j*Yt);Ht=Math.min(Ht,ut)}if(kt[ot]==1){var Cn=ot!=0?ot-1:2,ut=Ie(me.thm[Me].s[ze][Cn],Ht,H*Yt);Ht=Math.min(Ht,ut)}else if(ot!=0&&kt[ot-1]==3||ot==0&&me.nsPsy.lastAttacks[Me]==3){var Cn=ot!=2?ot+1:0,ut=Ie(me.thm[Me].s[ze][Cn],Ht,H*Yt);Ht=Math.min(Ht,ut)}It=mn[ot*3+3]+mn[ot*3+4]+mn[ot*3+5],mn[ot*3+5]*6<It&&(Ht*=.5,mn[ot*3+4]*6<It&&(Ht*=.5)),me.thm[Me].s[ze][ot]=Ht}}for(me.nsPsy.lastAttacks[Me]=kt[2],Et=0,Xe=0;Xe<me.npart_l;Xe++){for(var Zn=me.s3ind[Xe][0],_s=Je[Zn]*h[xn[Zn]],an=me.s3_ll[Et++]*_s;++Zn<=me.s3ind[Xe][1];)_s=Je[Zn]*h[xn[Zn]],an=z(an,me.s3_ll[Et++]*_s,Zn,Zn-Xe,me);an*=.158489319246111,me.blocktype_old[Me&1]==T.SHORT_TYPE?Ze[Xe]=an:Ze[Xe]=Ie(Math.min(an,Math.min(E*me.nb_1[Me][Xe],N*me.nb_2[Me][Xe])),an,Yt),me.nb_2[Me][Xe]=me.nb_1[Me][Xe],me.nb_1[Me][Xe]=an}for(;Xe<=T.CBANDS;++Xe)Je[Xe]=0,Ze[Xe]=0;Ve(me,Je,Ze,Me)}if((F.mode==MPEGMode.STEREO||F.mode==MPEGMode.JOINT_STEREO)&&F.interChRatio>0&&ae(F,F.interChRatio),F.mode==MPEGMode.JOINT_STEREO){var Qn;oe(me),Qn=F.msfix,Math.abs(Qn)>0&&Ee(me,Qn,F.ATHlower*me.ATH.adjust)}for(ge(F,Fe,Ae,ye),Me=0;Me<lt;Me++){var ms,Es=0,Is,ui;Me>1?(ms=fe,Es=-2,Is=T.NORM_TYPE,(Ae[0]==T.SHORT_TYPE||Ae[1]==T.SHORT_TYPE)&&(Is=T.SHORT_TYPE),ui=J[ie][Me-2]):(ms=re,Es=0,Is=Ae[Me],ui=de[ie][Me]),Is==T.SHORT_TYPE?ms[Es+Me]=R(ui,me.masking_lower):ms[Es+Me]=Ce(ui,me.masking_lower),F.analysis&&(me.pinfo.pe[ie][Me]=ms[Es+Me])}return 0};function Pe(F,Y,te,ie,de,J,re,fe){var ce=F.internal_flags;if(ie<2)q.fft_long(ce,re[fe],ie,Y,te);else if(ie==2)for(var Ae=T.BLKSIZE-1;Ae>=0;--Ae){var me=re[fe+0][Ae],we=re[fe+1][Ae];re[fe+0][Ae]=(me+we)*o.SQRT2*.5,re[fe+1][Ae]=(me-we)*o.SQRT2*.5}J[0]=re[fe+0][0],J[0]*=J[0];for(var Ae=T.BLKSIZE/2-1;Ae>=0;--Ae){var Ue=re[fe+0][T.BLKSIZE/2-Ae],Je=re[fe+0][T.BLKSIZE/2+Ae];J[T.BLKSIZE/2-Ae]=(Ue*Ue+Je*Je)*.5}{for(var Oe=0,Ae=11;Ae<T.HBLKSIZE;Ae++)Oe+=J[Ae];ce.tot_ener[ie]=Oe}if(F.analysis){for(var Ae=0;Ae<T.HBLKSIZE;Ae++)ce.pinfo.energy[de][ie][Ae]=ce.pinfo.energy_save[ie][Ae],ce.pinfo.energy_save[ie][Ae]=J[Ae];ce.pinfo.pe[de][ie]=ce.pe[ie]}}function Qe(F,Y,te,ie,de,J,re,fe){var ce=F.internal_flags;if(de==0&&ie<2&&q.fft_short(ce,re[fe],ie,Y,te),ie==2)for(var Ae=T.BLKSIZE_s-1;Ae>=0;--Ae){var me=re[fe+0][de][Ae],we=re[fe+1][de][Ae];re[fe+0][de][Ae]=(me+we)*o.SQRT2*.5,re[fe+1][de][Ae]=(me-we)*o.SQRT2*.5}J[de][0]=re[fe+0][de][0],J[de][0]*=J[de][0];for(var Ae=T.BLKSIZE_s/2-1;Ae>=0;--Ae){var Ue=re[fe+0][de][T.BLKSIZE_s/2-Ae],Je=re[fe+0][de][T.BLKSIZE_s/2+Ae];J[de][T.BLKSIZE_s/2-Ae]=(Ue*Ue+Je*Je)*.5}}function ct(F,Y,te,ie){var de=F.internal_flags;F.athaa_loudapprox==2&&te<2&&(de.loudness_sq[Y][te]=de.loudness_sq_save[te],de.loudness_sq_save[te]=Te(ie,de))}var We=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function He(F,Y,te,ie,de,J,re,fe,ce,Ae){for(var me=y([2,576]),we=F.internal_flags,Ue=we.channels_out,Je=F.mode==MPEGMode.JOINT_STEREO?4:Ue,Oe=0;Oe<Ue;Oe++){firbuf=Y[Oe];var Ze=te+576-350-le+192;v(We.length==(le-1)/2);for(var ye=0;ye<576;ye++){var Fe,lt;Fe=firbuf[Ze+ye+10],lt=0;for(var Me=0;Me<(le-1)/2-1;Me+=2)Fe+=We[Me]*(firbuf[Ze+ye+Me]+firbuf[Ze+ye+le-Me]),lt+=We[Me+1]*(firbuf[Ze+ye+Me+1]+firbuf[Ze+ye+le-Me-1]);me[Oe][ye]=Fe+lt}de[ie][Oe].en.assign(we.en[Oe]),de[ie][Oe].thm.assign(we.thm[Oe]),Je>2&&(J[ie][Oe].en.assign(we.en[Oe+2]),J[ie][Oe].thm.assign(we.thm[Oe+2]))}for(var Oe=0;Oe<Je;Oe++){var Xe=d(12),De=d(12),$e=[0,0,0,0],Et=me[Oe&1],ze=0,ot=Oe==3?we.nsPsy.attackthre_s:we.nsPsy.attackthre,_t=1;if(Oe==2)for(var ye=0,Me=576;Me>0;++ye,--Me){var Yt=me[0][ye],xn=me[1][ye];me[0][ye]=Yt+xn,me[1][ye]=Yt-xn}for(var ye=0;ye<3;ye++)De[ye]=we.nsPsy.last_en_subshort[Oe][ye+6],v(we.nsPsy.last_en_subshort[Oe][ye+4]>0),Xe[ye]=De[ye]/we.nsPsy.last_en_subshort[Oe][ye+4],$e[0]+=De[ye];for(var ye=0;ye<9;ye++){for(var jt=ze+64,yt=1;ze<jt;ze++)yt<Math.abs(Et[ze])&&(yt=Math.abs(Et[ze]));we.nsPsy.last_en_subshort[Oe][ye]=De[ye+3]=yt,$e[1+ye/3]+=yt,yt>De[ye+3-2]?(v(De[ye+3-2]>0),yt=yt/De[ye+3-2]):De[ye+3-2]>yt*10?(v(yt>0),yt=De[ye+3-2]/(yt*10)):yt=0,Xe[ye+3]=yt}for(var ye=0;ye<3;++ye){var bn=De[ye*3+3]+De[ye*3+4]+De[ye*3+5],hn=1;De[ye*3+5]*6<bn&&(hn*=.5,De[ye*3+4]*6<bn&&(hn*=.5)),fe[Oe][ye]=hn}if(F.analysis){for(var fn=Xe[0],ye=1;ye<12;ye++)fn<Xe[ye]&&(fn=Xe[ye]);we.pinfo.ers[ie][Oe]=we.pinfo.ers_save[Oe],we.pinfo.ers_save[Oe]=fn}for(var ye=0;ye<12;ye++)ce[Oe][ye/3]==0&&Xe[ye]>ot&&(ce[Oe][ye/3]=ye%3+1);for(var ye=1;ye<4;ye++){var Bn=$e[ye-1],kn=$e[ye],mn=Math.max(Bn,kn);mn<4e4&&Bn<1.7*kn&&kn<1.7*Bn&&(ye==1&&ce[Oe][0]<=ce[Oe][ye]&&(ce[Oe][0]=0),ce[Oe][ye]=0)}ce[Oe][0]<=we.nsPsy.lastAttacks[Oe]&&(ce[Oe][0]=0),(we.nsPsy.lastAttacks[Oe]==3||ce[Oe][0]+ce[Oe][1]+ce[Oe][2]+ce[Oe][3]!=0)&&(_t=0,ce[Oe][1]!=0&&ce[Oe][0]!=0&&(ce[Oe][1]=0),ce[Oe][2]!=0&&ce[Oe][1]!=0&&(ce[Oe][2]=0),ce[Oe][3]!=0&&ce[Oe][2]!=0&&(ce[Oe][3]=0)),Oe<2?Ae[Oe]=_t:_t==0&&(Ae[0]=Ae[1]=0),re[Oe]=we.tot_ener[Oe]}}function st(F,Y,te){if(te==0)for(var ie=0;ie<F.npart_s;ie++)F.nb_s2[Y][ie]=F.nb_s1[Y][ie],F.nb_s1[Y][ie]=0}function tn(F,Y){for(var te=0;te<F.npart_l;te++)F.nb_2[Y][te]=F.nb_1[Y][te],F.nb_1[Y][te]=0}function gt(F,Y,te,ie){var de=h.length-1,J=0,re=te[J]+te[J+1];if(v(re>=0),re>0){var fe=Y[J];fe<Y[J+1]&&(fe=Y[J+1]),v(F.numlines_s[J]+F.numlines_s[J+1]-1>0),re=20*(fe*2-re)/(re*(F.numlines_s[J]+F.numlines_s[J+1]-1));var ce=0|re;ce>de&&(ce=de),ie[J]=ce}else ie[J]=0;for(J=1;J<F.npart_s-1;J++)if(re=te[J-1]+te[J]+te[J+1],v(J+1<F.npart_s),v(re>=0),re>0){var fe=Y[J-1];fe<Y[J]&&(fe=Y[J]),fe<Y[J+1]&&(fe=Y[J+1]),v(F.numlines_s[J-1]+F.numlines_s[J]+F.numlines_s[J+1]-1>0),re=20*(fe*3-re)/(re*(F.numlines_s[J-1]+F.numlines_s[J]+F.numlines_s[J+1]-1));var ce=0|re;ce>de&&(ce=de),ie[J]=ce}else ie[J]=0;if(v(J>0),v(J==F.npart_s-1),re=te[J-1]+te[J],v(re>=0),re>0){var fe=Y[J-1];fe<Y[J]&&(fe=Y[J]),v(F.numlines_s[J-1]+F.numlines_s[J]-1>0),re=20*(fe*2-re)/(re*(F.numlines_s[J-1]+F.numlines_s[J]-1));var ce=0|re;ce>de&&(ce=de),ie[J]=ce}else ie[J]=0;v(J==F.npart_s-1)}function Ut(F,Y,te,ie,de,J){var re=F.internal_flags,fe=new float[T.CBANDS],ce=d(T.CBANDS),Ae,me,we,Ue=new int[T.CBANDS];for(we=me=0;we<re.npart_s;++we){var Je=0,Oe=0,Ze=re.numlines_s[we];for(Ae=0;Ae<Ze;++Ae,++me){var ye=Y[J][me];Je+=ye,Oe<ye&&(Oe=ye)}te[we]=Je,v(Je>=0),fe[we]=Oe,v(Ze>0),ce[we]=Je/Ze,v(ce[we]>=0)}for(v(we==re.npart_s),v(me==129);we<T.CBANDS;++we)fe[we]=0,ce[we]=0;for(gt(re,fe,ce,Ue),me=we=0;we<re.npart_s;we++){var Fe=re.s3ind_s[we][0],lt=re.s3ind_s[we][1],Me,Xe,De,$e,Et;for(Me=Ue[Fe],Xe=1,$e=re.s3_ss[me]*te[Fe]*h[Ue[Fe]],++me,++Fe;Fe<=lt;)Me+=Ue[Fe],Xe+=1,De=re.s3_ss[me]*te[Fe]*h[Ue[Fe]],$e=L($e,De,Fe-we),++me,++Fe;Me=(1+2*Me)/(2*Xe),Et=h[Me]*.5,$e*=Et,ie[we]=$e,re.nb_s2[de][we]=re.nb_s1[de][we],re.nb_s1[de][we]=$e,De=fe[we],De*=re.minval_s[we],De*=Et,ie[we]>De&&(ie[we]=De),re.masking_lower>1&&(ie[we]*=re.masking_lower),ie[we]>te[we]&&(ie[we]=te[we]),re.masking_lower<1&&(ie[we]*=re.masking_lower),v(ie[we]>=0)}for(;we<T.CBANDS;++we)te[we]=0,ie[we]=0}function qt(F,Y,te,ie,de){var J=d(T.CBANDS),re=d(T.CBANDS),fe=m(T.CBANDS+2),ce;qe(F,Y,te,J,re),et(F,J,re,fe);var Ae=0;for(ce=0;ce<F.npart_l;ce++){var me,we,Ue,Je,Oe=F.s3ind[ce][0],Ze=F.s3ind[ce][1],ye=0,Fe=0;for(ye=fe[Oe],Fe+=1,we=F.s3_ll[Ae]*te[Oe]*h[fe[Oe]],++Ae,++Oe;Oe<=Ze;)ye+=fe[Oe],Fe+=1,me=F.s3_ll[Ae]*te[Oe]*h[fe[Oe]],Je=L(we,me,Oe-ce),we=Je,++Ae,++Oe;if(ye=(1+2*ye)/(2*Fe),Ue=h[ye]*.5,we*=Ue,F.blocktype_old[de&1]==T.SHORT_TYPE){var lt=E*F.nb_1[de][ce];lt>0?ie[ce]=Math.min(we,lt):ie[ce]=Math.min(we,te[ce]*H)}else{var Me=N*F.nb_2[de][ce],Xe=E*F.nb_1[de][ce],lt;Me<=0&&(Me=we),Xe<=0&&(Xe=we),F.blocktype_old[de&1]==T.NORM_TYPE?lt=Math.min(Xe,Me):lt=Xe,ie[ce]=Math.min(we,lt)}F.nb_2[de][ce]=F.nb_1[de][ce],F.nb_1[de][ce]=we,me=J[ce],me*=F.minval_l[ce],me*=Ue,ie[ce]>me&&(ie[ce]=me),F.masking_lower>1&&(ie[ce]*=F.masking_lower),ie[ce]>te[ce]&&(ie[ce]=te[ce]),F.masking_lower<1&&(ie[ce]*=F.masking_lower),v(ie[ce]>=0)}for(;ce<T.CBANDS;++ce)te[ce]=0,ie[ce]=0}function Ot(F,Y){var te=F.internal_flags;F.short_blocks==i.short_block_coupled&&!(Y[0]!=0&&Y[1]!=0)&&(Y[0]=Y[1]=0);for(var ie=0;ie<te.channels_out;ie++)F.short_blocks==i.short_block_dispensed&&(Y[ie]=1),F.short_blocks==i.short_block_forced&&(Y[ie]=0)}function Bt(F,Y,te){for(var ie=F.internal_flags,de=0;de<ie.channels_out;de++){var J=T.NORM_TYPE;Y[de]!=0?(v(ie.blocktype_old[de]!=T.START_TYPE),ie.blocktype_old[de]==T.SHORT_TYPE&&(J=T.STOP_TYPE)):(J=T.SHORT_TYPE,ie.blocktype_old[de]==T.NORM_TYPE&&(ie.blocktype_old[de]=T.START_TYPE),ie.blocktype_old[de]==T.STOP_TYPE&&(ie.blocktype_old[de]=T.SHORT_TYPE)),te[de]=ie.blocktype_old[de],ie.blocktype_old[de]=J}}function cn(F,Y,te,ie,de,J,re){for(var fe=J*2,ce=J>0?Math.pow(10,de):1,Ae,me,we=0;we<re;++we){var Ue=F[2][we],Je=F[3][we],Oe=Y[0][we],Ze=Y[1][we],ye=Y[2][we],Fe=Y[3][we];if(Oe<=1.58*Ze&&Ze<=1.58*Oe){var lt=te[we]*Je,Me=te[we]*Ue;me=Math.max(ye,Math.min(Fe,lt)),Ae=Math.max(Fe,Math.min(ye,Me))}else me=ye,Ae=Fe;if(J>0){var Xe,De,$e=ie[we]*ce;if(Xe=Math.min(Math.max(Oe,$e),Math.max(Ze,$e)),ye=Math.max(me,$e),Fe=Math.max(Ae,$e),De=ye+Fe,De>0&&Xe*fe<De){var Et=Xe*fe/De;ye*=Et,Fe*=Et,v(De>0)}me=Math.min(ye,me),Ae=Math.min(Fe,Ae)}me>Ue&&(me=Ue),Ae>Je&&(Ae=Je),Y[2][we]=me,Y[3][we]=Ae}}this.L3psycho_anal_vbr=function(F,Y,te,ie,de,J,re,fe,ce,Ae){var me=F.internal_flags,we,Ue,Je=d(T.HBLKSIZE),Oe=y([3,T.HBLKSIZE_s]),Ze=y([2,T.BLKSIZE]),ye=y([2,3,T.BLKSIZE_s]),Fe=y([4,T.CBANDS]),lt=y([4,T.CBANDS]),Me=y([4,3]),Xe=.6,De=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],$e=m(2),Et=F.mode==MPEGMode.JOINT_STEREO?4:me.channels_out;He(F,Y,te,ie,de,J,ce,Me,De,$e),Ot(F,$e);{for(var ze=0;ze<Et;ze++){var ot=ze&1;we=Ze,Pe(F,Y,te,ze,ie,Je,we,ot),ct(F,ie,ze,Je),$e[ot]!=0?qt(me,Je,Fe[ze],lt[ze],ze):tn(me,ze)}$e[0]+$e[1]==2&&F.mode==MPEGMode.JOINT_STEREO&&cn(Fe,lt,me.mld_cb_l,me.ATH.cb_l,F.ATHlower*me.ATH.adjust,F.msfix,me.npart_l);for(var ze=0;ze<Et;ze++){var ot=ze&1;$e[ot]!=0&&Ve(me,Fe[ze],lt[ze],ze)}}{for(var _t=0;_t<3;_t++){for(var ze=0;ze<Et;++ze){var ot=ze&1;$e[ot]!=0?st(me,ze,_t):(Ue=ye,Qe(F,Y,te,ze,_t,Oe,Ue,ot),Ut(F,Oe,Fe[ze],lt[ze],ze,_t))}$e[0]+$e[1]==0&&F.mode==MPEGMode.JOINT_STEREO&&cn(Fe,lt,me.mld_cb_s,me.ATH.cb_s,F.ATHlower*me.ATH.adjust,F.msfix,me.npart_s);for(var ze=0;ze<Et;++ze){var ot=ze&1;$e[ot]==0&&ke(me,Fe[ze],lt[ze],ze,_t)}}for(var ze=0;ze<Et;ze++){var ot=ze&1;if($e[ot]==0)for(var Yt=0;Yt<T.SBMAX_s;Yt++){for(var xn=d(3),_t=0;_t<3;_t++){var jt=me.thm[ze].s[Yt][_t];if(jt*=Q,De[ze][_t]>=2||De[ze][_t+1]==1){var yt=_t!=0?_t-1:2,bn=Ie(me.thm[ze].s[Yt][yt],jt,j*Xe);jt=Math.min(jt,bn)}else if(De[ze][_t]==1){var yt=_t!=0?_t-1:2,bn=Ie(me.thm[ze].s[Yt][yt],jt,H*Xe);jt=Math.min(jt,bn)}else if(_t!=0&&De[ze][_t-1]==3||_t==0&&me.nsPsy.lastAttacks[ze]==3){var yt=_t!=2?_t+1:0,bn=Ie(me.thm[ze].s[Yt][yt],jt,H*Xe);jt=Math.min(jt,bn)}jt*=Me[ze][_t],xn[_t]=jt}for(var _t=0;_t<3;_t++)me.thm[ze].s[Yt][_t]=xn[_t]}}}for(var ze=0;ze<Et;ze++)me.nsPsy.lastAttacks[ze]=De[ze][2];Bt(F,$e,Ae);for(var ze=0;ze<Et;ze++){var hn,fn,Bn,kn;ze>1?(hn=fe,fn=-2,Bn=T.NORM_TYPE,(Ae[0]==T.SHORT_TYPE||Ae[1]==T.SHORT_TYPE)&&(Bn=T.SHORT_TYPE),kn=J[ie][ze-2]):(hn=re,fn=0,Bn=Ae[ze],kn=de[ie][ze]),Bn==T.SHORT_TYPE?hn[fn+ze]=R(kn,me.masking_lower):hn[fn+ze]=Ce(kn,me.masking_lower),F.analysis&&(me.pinfo.pe[ie][ze]=hn[fn+ze])}return 0};function nn(F,Y){var te=F,ie;return te>=0?ie=-te*27:ie=te*Y,ie<=-72?0:Math.exp(ie*ee)}function Xn(F){var Y=0,te=0;{var ie=0,de,J;for(ie=0;nn(ie,F)>1e-20;ie-=1);for(de=ie,J=0;Math.abs(J-de)>1e-12;)ie=(J+de)/2,nn(ie,F)>0?J=ie:de=ie;Y=de}{var ie=0,de,J;for(ie=0;nn(ie,F)>1e-20;ie+=1);for(de=0,J=ie;Math.abs(J-de)>1e-12;)ie=(J+de)/2,nn(ie,F)>0?de=ie:J=ie;te=J}{var re=0,fe=1e3,ce;for(ce=0;ce<=fe;++ce){var ie=Y+ce*(te-Y)/fe,Ae=nn(ie,F);re+=Ae}{var me=(fe+1)/(re*(te-Y));return me}}}function is(F){var Y,te,ie,de;return Y=F,Y>=0?Y*=3:Y*=1.5,Y>=.5&&Y<=2.5?(de=Y-.5,te=8*(de*de-2*de)):te=0,Y+=.474,ie=15.811389+7.5*Y-17.5*Math.sqrt(1+Y*Y),ie<=-60?0:(Y=Math.exp((te+ie)*ee),Y/=.6609193,Y)}function Yn(F){return F<0&&(F=0),F=F*.001,13*Math.atan(.76*F)+3.5*Math.atan(F*F/(7.5*7.5))}function fs(F,Y,te,ie,de,J,re,fe,ce,Ae,me,we){var Ue=d(T.CBANDS+1),Je=fe/(we>15?2*576:2*192),Oe=m(T.HBLKSIZE),Ze;fe/=ce;var ye=0,Fe=0;for(Ze=0;Ze<T.CBANDS;Ze++){var lt,Me;for(lt=Yn(fe*ye),Ue[Ze]=fe*ye,Me=ye;Yn(fe*Me)-lt<b&&Me<=ce/2;Me++);for(F[Ze]=Me-ye,Fe=Ze+1;ye<Me;)v(ye<T.HBLKSIZE),Oe[ye++]=Ze;if(ye>ce/2){ye=ce/2,++Ze;break}}v(Ze<T.CBANDS),Ue[Ze]=fe*ye;for(var Xe=0;Xe<we;Xe++){var De,$e,Et,ze,ot;Et=Ae[Xe],ze=Ae[Xe+1],De=0|Math.floor(.5+me*(Et-.5)),De<0&&(De=0),$e=0|Math.floor(.5+me*(ze-.5)),$e>ce/2&&($e=ce/2),te[Xe]=(Oe[De]+Oe[$e])/2,Y[Xe]=Oe[$e];var _t=Je*ze;re[Xe]=(_t-Ue[Y[Xe]])/(Ue[Y[Xe]+1]-Ue[Y[Xe]]),re[Xe]<0?re[Xe]=0:re[Xe]>1&&(re[Xe]=1),ot=Yn(fe*Ae[Xe]*me),ot=Math.min(ot,15.5)/15.5,J[Xe]=Math.pow(10,1.25*(1-Math.cos(Math.PI*ot))-2.5)}ye=0;for(var Yt=0;Yt<Fe;Yt++){var xn=F[Yt],lt,jt;lt=Yn(fe*ye),jt=Yn(fe*(ye+xn-1)),ie[Yt]=.5*(lt+jt),lt=Yn(fe*(ye-.5)),jt=Yn(fe*(ye+xn-.5)),de[Yt]=jt-lt,ye+=xn}return Fe}function zn(F,Y,te,ie,de,J){var re=y([T.CBANDS,T.CBANDS]),fe,ce=0;if(J)for(var Ae=0;Ae<Y;Ae++)for(fe=0;fe<Y;fe++){var me=is(te[Ae]-te[fe])*ie[fe];re[Ae][fe]=me*de[Ae]}else for(fe=0;fe<Y;fe++)for(var we=15+Math.min(21/te[fe],12),Ue=Xn(we),Ae=0;Ae<Y;Ae++){var me=Ue*nn(te[Ae]-te[fe],we)*ie[fe];re[Ae][fe]=me*de[Ae]}for(var Ae=0;Ae<Y;Ae++){for(fe=0;fe<Y&&!(re[Ae][fe]>0);fe++);for(F[Ae][0]=fe,fe=Y-1;fe>0&&!(re[Ae][fe]>0);fe--);F[Ae][1]=fe,ce+=F[Ae][1]-F[Ae][0]+1}for(var Je=d(ce),Oe=0,Ae=0;Ae<Y;Ae++)for(fe=F[Ae][0];fe<=F[Ae][1];fe++)Je[Oe++]=re[Ae][fe];return Je}function ws(F){var Y=Yn(F);return Y=Math.min(Y,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*Y))-2.5)}this.psymodel_init=function(F){var Y=F.internal_flags,te,ie=!0,de=13,J=24,re=0,fe=0,ce=-8.25,Ae=-4.5,me=d(T.CBANDS),we=d(T.CBANDS),Ue=d(T.CBANDS),Je=F.out_samplerate;switch(F.experimentalZ){default:case 0:ie=!0;break;case 1:ie=!(F.VBR==t.vbr_mtrh||F.VBR==t.vbr_mt);break;case 2:ie=!1;break;case 3:de=8,re=-1.75,fe=-.0125,ce=-8.25,Ae=-2.25;break}for(Y.ms_ener_ratio_old=.25,Y.blocktype_old[0]=Y.blocktype_old[1]=T.NORM_TYPE,te=0;te<4;++te){for(var ye=0;ye<T.CBANDS;++ye)Y.nb_1[te][ye]=1e20,Y.nb_2[te][ye]=1e20,Y.nb_s1[te][ye]=Y.nb_s2[te][ye]=1;for(var Oe=0;Oe<T.SBMAX_l;Oe++)Y.en[te].l[Oe]=1e20,Y.thm[te].l[Oe]=1e20;for(var ye=0;ye<3;++ye){for(var Oe=0;Oe<T.SBMAX_s;Oe++)Y.en[te].s[Oe][ye]=1e20,Y.thm[te].s[Oe][ye]=1e20;Y.nsPsy.lastAttacks[te]=0}for(var ye=0;ye<9;ye++)Y.nsPsy.last_en_subshort[te][ye]=10}for(Y.loudness_sq_save[0]=Y.loudness_sq_save[1]=0,Y.npart_l=fs(Y.numlines_l,Y.bo_l,Y.bm_l,me,we,Y.mld_l,Y.PSY.bo_l_weight,Je,T.BLKSIZE,Y.scalefac_band.l,T.BLKSIZE/(2*576),T.SBMAX_l),v(Y.npart_l<T.CBANDS),te=0;te<Y.npart_l;te++){var Ze=re;me[te]>=de&&(Ze=fe*(me[te]-de)/(J-de)+re*(J-me[te])/(J-de)),Ue[te]=Math.pow(10,Ze/10),Y.numlines_l[te]>0?Y.rnumlines_l[te]=1/Y.numlines_l[te]:Y.rnumlines_l[te]=0}Y.s3_ll=zn(Y.s3ind,Y.npart_l,me,we,Ue,ie);var ye=0;for(te=0;te<Y.npart_l;te++){var Fe;Fe=a.MAX_VALUE;for(var lt=0;lt<Y.numlines_l[te];lt++,ye++){var Me=Je*ye/(1e3*T.BLKSIZE),Xe;Xe=this.ATHformula(Me*1e3,F)-20,Xe=Math.pow(10,.1*Xe),Xe*=Y.numlines_l[te],Fe>Xe&&(Fe=Xe)}Y.ATH.cb_l[te]=Fe,Fe=-20+me[te]*20/10,Fe>6&&(Fe=100),Fe<-15&&(Fe=-15),Fe-=8,Y.minval_l[te]=Math.pow(10,Fe/10)*Y.numlines_l[te]}for(Y.npart_s=fs(Y.numlines_s,Y.bo_s,Y.bm_s,me,we,Y.mld_s,Y.PSY.bo_s_weight,Je,T.BLKSIZE_s,Y.scalefac_band.s,T.BLKSIZE_s/(2*192),T.SBMAX_s),v(Y.npart_s<T.CBANDS),ye=0,te=0;te<Y.npart_s;te++){var Fe,Ze=ce;me[te]>=de&&(Ze=Ae*(me[te]-de)/(J-de)+ce*(J-me[te])/(J-de)),Ue[te]=Math.pow(10,Ze/10),Fe=a.MAX_VALUE;for(var lt=0;lt<Y.numlines_s[te];lt++,ye++){var Me=Je*ye/(1e3*T.BLKSIZE_s),Xe;Xe=this.ATHformula(Me*1e3,F)-20,Xe=Math.pow(10,.1*Xe),Xe*=Y.numlines_s[te],Fe>Xe&&(Fe=Xe)}Y.ATH.cb_s[te]=Fe,Fe=-7+me[te]*7/12,me[te]>12&&(Fe*=1+Math.log(1+Fe)*3.1),me[te]<12&&(Fe*=1+Math.log(1-Fe)*2.3),Fe<-15&&(Fe=-15),Fe-=8,Y.minval_s[te]=Math.pow(10,Fe/10)*Y.numlines_s[te]}Y.s3_ss=zn(Y.s3ind_s,Y.npart_s,me,we,Ue,ie),_(),q.init_fft(Y),Y.decay=Math.exp(-1*V/(C*Je/192));{var De;De=ne,(F.exp_nspsytune&2)!=0&&(De=1),Math.abs(F.msfix)>0&&(De=F.msfix),F.msfix=De;for(var $e=0;$e<Y.npart_l;$e++)Y.s3ind[$e][1]>Y.npart_l-1&&(Y.s3ind[$e][1]=Y.npart_l-1)}var Et=576*Y.mode_gr/Je;if(Y.ATH.decay=Math.pow(10,-12/10*Et),Y.ATH.adjust=.01,Y.ATH.adjustLimit=1,v(Y.bo_l[T.SBMAX_l-1]<=Y.npart_l),v(Y.bo_s[T.SBMAX_s-1]<=Y.npart_s),F.ATHtype!=-1){var Me,ze=F.out_samplerate/T.BLKSIZE,ot=0;for(Me=0,te=0;te<T.BLKSIZE/2;++te)Me+=ze,Y.ATH.eql_w[te]=1/Math.pow(10,this.ATHformula(Me,F)/10),ot+=Y.ATH.eql_w[te];for(ot=1/ot,te=T.BLKSIZE/2;--te>=0;)Y.ATH.eql_w[te]*=ot}{for(var $e=ye=0;$e<Y.npart_s;++$e)for(te=0;te<Y.numlines_s[$e];++te)++ye;v(ye==129);for(var $e=ye=0;$e<Y.npart_l;++$e)for(te=0;te<Y.numlines_l[$e];++te)++ye;v(ye==513)}for(ye=0,te=0;te<Y.npart_l;te++){var Me=Je*(ye+Y.numlines_l[te]/2)/(1*T.BLKSIZE);Y.mld_cb_l[te]=ws(Me),ye+=Y.numlines_l[te]}for(;te<T.CBANDS;++te)Y.mld_cb_l[te]=1;for(ye=0,te=0;te<Y.npart_s;te++){var Me=Je*(ye+Y.numlines_s[te]/2)/(1*T.BLKSIZE_s);Y.mld_cb_s[te]=ws(Me),ye+=Y.numlines_s[te]}for(;te<T.CBANDS;++te)Y.mld_cb_s[te]=1;return 0};function Rn(F,Y){F<-.3&&(F=3410),F/=1e3,F=Math.max(.1,F);var te=3.64*Math.pow(F,-.8)-6.8*Math.exp(-.6*Math.pow(F-3.4,2))+6*Math.exp(-.15*Math.pow(F-8.7,2))+(.6+.04*Y)*.001*Math.pow(F,4);return te}this.ATHformula=function(F,Y){var te;switch(Y.ATHtype){case 0:te=Rn(F,9);break;case 1:te=Rn(F,-1);break;case 2:te=Rn(F,0);break;case 3:te=Rn(F,1)+6;break;case 4:te=Rn(F,Y.ATHcurve);break;default:te=Rn(F,0);break}return te}}return ah=w,ah}var ih,Q2;function Cp(){if(Q2)return ih;Q2=1;function l(t){var a=t;this.ordinal=function(){return a}}return l.STEREO=new l(0),l.JOINT_STEREO=new l(1),l.DUAL_CHANNEL=new l(2),l.MONO=new l(3),l.NOT_SET=new l(4),ih=l,ih}var rh,W2;function Ub(){if(W2)return rh;W2=1;var l=Cp();function t(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=l.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}return rh=t,rh}var lh,K2;function Fu(){if(K2)return lh;K2=1;var l=Jn(),t={};return t.SFBMAX=l.SBMAX_s*3,lh=t,lh}var oh,P2;function V1(){if(P2)return oh;P2=1;var l=un();l.System,l.VbrMode,l.Float,l.ShortBlock,l.Util,l.Arrays,l.new_array_n,l.new_byte,l.new_double;var t=l.new_float;l.new_float_n;var a=l.new_int;l.new_int_n,l.assert;var i=Fu();function o(){this.xr=t(576),this.l3_enc=a(576),this.scalefac=a(i.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=a(3),this.subblock_gain=a(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=a(i.SFBMAX),this.window=a(i.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=a(4),this.max_nonzero_coeff=0;var c=this;function d(m){return new Int32Array(m)}function y(m){return new Float32Array(m)}this.assign=function(m){c.xr=y(m.xr),c.l3_enc=d(m.l3_enc),c.scalefac=d(m.scalefac),c.xrpow_max=m.xrpow_max,c.part2_3_length=m.part2_3_length,c.big_values=m.big_values,c.count1=m.count1,c.global_gain=m.global_gain,c.scalefac_compress=m.scalefac_compress,c.block_type=m.block_type,c.mixed_block_flag=m.mixed_block_flag,c.table_select=d(m.table_select),c.subblock_gain=d(m.subblock_gain),c.region0_count=m.region0_count,c.region1_count=m.region1_count,c.preflag=m.preflag,c.scalefac_scale=m.scalefac_scale,c.count1table_select=m.count1table_select,c.part2_length=m.part2_length,c.sfb_lmax=m.sfb_lmax,c.sfb_smin=m.sfb_smin,c.psy_lmax=m.psy_lmax,c.sfbmax=m.sfbmax,c.psymax=m.psymax,c.sfbdivide=m.sfbdivide,c.width=d(m.width),c.window=d(m.window),c.count1bits=m.count1bits,c.sfb_partition_table=m.sfb_partition_table.slice(0),c.slen=d(m.slen),c.max_nonzero_coeff=m.max_nonzero_coeff}}return oh=o,oh}var uh,J2;function jb(){if(J2)return uh;J2=1;var l=un();l.System,l.VbrMode,l.Float,l.ShortBlock,l.Util,l.Arrays,l.new_array_n,l.new_byte,l.new_double,l.new_float,l.new_float_n;var t=l.new_int;l.new_int_n,l.assert;var a=V1();function i(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[t(4),t(4)];for(var o=0;o<2;o++)for(var c=0;c<2;c++)this.tt[o][c]=new a}return uh=i,uh}var ch,$2;function Np(){if($2)return ch;$2=1;var l=un(),t=l.System;l.VbrMode,l.Float,l.ShortBlock,l.Util,l.Arrays,l.new_array_n,l.new_byte,l.new_double,l.new_float,l.new_float_n;var a=l.new_int;l.new_int_n,l.assert;var i=Jn();function o(c,d,y,m){this.l=a(1+i.SBMAX_l),this.s=a(1+i.SBMAX_s),this.psfb21=a(1+i.PSFB21),this.psfb12=a(1+i.PSFB12);var v=this.l,g=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],t.arraycopy(this.arrL,0,v,0,Math.min(this.arrL.length,this.l.length)),t.arraycopy(this.arrS,0,g,0,Math.min(this.arrS.length,this.s.length)),t.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),t.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}return ch=o,ch}var hh,em;function Gb(){if(em)return hh;em=1;var l=un();l.System,l.VbrMode,l.Float,l.ShortBlock,l.Util,l.Arrays,l.new_array_n,l.new_byte,l.new_double;var t=l.new_float,a=l.new_float_n,i=l.new_int;l.new_int_n,l.assert;var o=Jn();function c(){this.last_en_subshort=a([4,9]),this.lastAttacks=i(4),this.pefirbuf=t(19),this.longfact=t(o.SBMAX_l),this.shortfact=t(o.SBMAX_s),this.attackthre=0,this.attackthre_s=0}return hh=c,hh}var fh,tm;function Fb(){if(tm)return fh;tm=1;function l(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}return fh=l,fh}var dh,nm;function Xu(){if(nm)return dh;nm=1;var l=un();l.System,l.VbrMode,l.Float,l.ShortBlock,l.Util,l.Arrays,l.new_array_n;var t=l.new_byte,a=l.new_double,i=l.new_float,o=l.new_float_n,c=l.new_int,d=l.new_int_n;l.assert;var y=jb(),m=Np(),v=Gb(),g=Fb(),T=Rp(),w=Jn(),q=Fu();V.MFSIZE=3*1152+w.ENCDELAY-w.MDCTDELAY,V.MAX_HEADER_BUF=256,V.MAX_BITS_PER_CHANNEL=4095,V.MAX_BITS_PER_GRANULE=7680,V.BPC=320;function V(){var E=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=o([2,V.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new y,this.ms_ratio=i(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=c(2),this.CurrentStep=c(2),this.masking_lower=0,this.bv_scf=c(576),this.pseudohalf=c(q.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*V.BPC+1),this.itime=a(2),this.sideinfo_len=0,this.sb_sample=o([2,2,18,w.SBLIMIT]),this.amp_filter=i(32);function N(){this.write_timing=0,this.ptr=0,this.buf=t(E)}this.header=new Array(V.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new m,this.minval_l=i(w.CBANDS),this.minval_s=i(w.CBANDS),this.nb_1=o([4,w.CBANDS]),this.nb_2=o([4,w.CBANDS]),this.nb_s1=o([4,w.CBANDS]),this.nb_s2=o([4,w.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=i(4),this.loudness_sq=o([2,2]),this.loudness_sq_save=i(2),this.mld_l=i(w.SBMAX_l),this.mld_s=i(w.SBMAX_s),this.bm_l=c(w.SBMAX_l),this.bo_l=c(w.SBMAX_l),this.bm_s=c(w.SBMAX_s),this.bo_s=c(w.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=d([w.CBANDS,2]),this.s3ind_s=d([w.CBANDS,2]),this.numlines_s=c(w.CBANDS),this.numlines_l=c(w.CBANDS),this.rnumlines_l=i(w.CBANDS),this.mld_cb_l=i(w.CBANDS),this.mld_cb_s=i(w.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=i(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=c(2),this.nsPsy=new v,this.VBR_seek_table=new g,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=d([16,5]),this.bitrate_blockType_Hist=d([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var M=0;M<this.en.length;M++)this.en[M]=new T;for(var M=0;M<this.thm.length;M++)this.thm[M]=new T;for(var M=0;M<this.header.length;M++)this.header[M]=new N}return dh=V,dh}var _h,sm;function Xb(){if(sm)return _h;sm=1;var l=un();l.System,l.VbrMode,l.Float,l.ShortBlock,l.Util,l.Arrays,l.new_array_n,l.new_byte,l.new_double;var t=l.new_float;l.new_float_n,l.new_int,l.new_int_n,l.assert;var a=Jn();function i(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=t(a.SBMAX_l),this.s=t(a.SBMAX_s),this.psfb21=t(a.PSFB21),this.psfb12=t(a.PSFB12),this.cb_l=t(a.CBANDS),this.cb_s=t(a.CBANDS),this.eql_w=t(a.BLKSIZE/2)}return _h=i,_h}var mh,am;function Op(){if(am)return mh;am=1;var l=un(),t=l.System;l.VbrMode,l.Float,l.ShortBlock,l.Util;var a=l.Arrays;l.new_array_n,l.new_byte,l.new_double,l.new_float,l.new_float_n,l.new_int,l.new_int_n,l.assert,i.STEPS_per_dB=100,i.MAX_dB=120,i.GAIN_NOT_ENOUGH_SAMPLES=-24601,i.GAIN_ANALYSIS_ERROR=0,i.GAIN_ANALYSIS_OK=1,i.INIT_GAIN_ANALYSIS_ERROR=0,i.INIT_GAIN_ANALYSIS_OK=1,i.YULE_ORDER=10,i.MAX_ORDER=i.YULE_ORDER,i.MAX_SAMP_FREQ=48e3,i.RMS_WINDOW_TIME_NUMERATOR=1,i.RMS_WINDOW_TIME_DENOMINATOR=20,i.MAX_SAMPLES_PER_WINDOW=i.MAX_SAMP_FREQ*i.RMS_WINDOW_TIME_NUMERATOR/i.RMS_WINDOW_TIME_DENOMINATOR+1;function i(){var o=64.82;i.YULE_ORDER;var c=.95;i.MAX_SAMP_FREQ;var d=i.RMS_WINDOW_TIME_NUMERATOR,y=i.RMS_WINDOW_TIME_DENOMINATOR;i.MAX_SAMPLES_PER_WINDOW;var m=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],v=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function g(E,N,M,G,b,Z){for(;b--!=0;)M[G]=1e-10+E[N+0]*Z[0]-M[G-1]*Z[1]+E[N-1]*Z[2]-M[G-2]*Z[3]+E[N-2]*Z[4]-M[G-3]*Z[5]+E[N-3]*Z[6]-M[G-4]*Z[7]+E[N-4]*Z[8]-M[G-5]*Z[9]+E[N-5]*Z[10]-M[G-6]*Z[11]+E[N-6]*Z[12]-M[G-7]*Z[13]+E[N-7]*Z[14]-M[G-8]*Z[15]+E[N-8]*Z[16]-M[G-9]*Z[17]+E[N-9]*Z[18]-M[G-10]*Z[19]+E[N-10]*Z[20],++G,++N}function T(E,N,M,G,b,Z){for(;b--!=0;)M[G]=E[N+0]*Z[0]-M[G-1]*Z[1]+E[N-1]*Z[2]-M[G-2]*Z[3]+E[N-2]*Z[4],++G,++N}function w(E,N){for(var M=0;M<MAX_ORDER;M++)E.linprebuf[M]=E.lstepbuf[M]=E.loutbuf[M]=E.rinprebuf[M]=E.rstepbuf[M]=E.routbuf[M]=0;switch(0|N){case 48e3:E.reqindex=0;break;case 44100:E.reqindex=1;break;case 32e3:E.reqindex=2;break;case 24e3:E.reqindex=3;break;case 22050:E.reqindex=4;break;case 16e3:E.reqindex=5;break;case 12e3:E.reqindex=6;break;case 11025:E.reqindex=7;break;case 8e3:E.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return E.sampleWindow=0|(N*d+y-1)/y,E.lsum=0,E.rsum=0,E.totsamp=0,a.ill(E.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(E,N){return w(E,N)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(E.linpre=MAX_ORDER,E.rinpre=MAX_ORDER,E.lstep=MAX_ORDER,E.rstep=MAX_ORDER,E.lout=MAX_ORDER,E.rout=MAX_ORDER,a.fill(E.B,0),INIT_GAIN_ANALYSIS_OK)};function q(E){return E*E}this.AnalyzeSamples=function(E,N,M,G,b,Z,C){var Q,j,H,ne,le,ee,k;if(Z==0)return GAIN_ANALYSIS_OK;switch(k=0,le=Z,C){case 1:G=N,b=M;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(Z<MAX_ORDER?(t.arraycopy(N,M,E.linprebuf,MAX_ORDER,Z),t.arraycopy(G,b,E.rinprebuf,MAX_ORDER,Z)):(t.arraycopy(N,M,E.linprebuf,MAX_ORDER,MAX_ORDER),t.arraycopy(G,b,E.rinprebuf,MAX_ORDER,MAX_ORDER));le>0;){ee=le>E.sampleWindow-E.totsamp?E.sampleWindow-E.totsamp:le,k<MAX_ORDER?(Q=E.linpre+k,j=E.linprebuf,H=E.rinpre+k,ne=E.rinprebuf,ee>MAX_ORDER-k&&(ee=MAX_ORDER-k)):(Q=M+k,j=N,H=b+k,ne=G),g(j,Q,E.lstepbuf,E.lstep+E.totsamp,ee,m[E.reqindex]),g(ne,H,E.rstepbuf,E.rstep+E.totsamp,ee,m[E.reqindex]),T(E.lstepbuf,E.lstep+E.totsamp,E.loutbuf,E.lout+E.totsamp,ee,v[E.reqindex]),T(E.rstepbuf,E.rstep+E.totsamp,E.routbuf,E.rout+E.totsamp,ee,v[E.reqindex]),Q=E.lout+E.totsamp,j=E.loutbuf,H=E.rout+E.totsamp,ne=E.routbuf;for(var Te=ee%8;Te--!=0;)E.lsum+=q(j[Q++]),E.rsum+=q(ne[H++]);for(Te=ee/8;Te--!=0;)E.lsum+=q(j[Q+0])+q(j[Q+1])+q(j[Q+2])+q(j[Q+3])+q(j[Q+4])+q(j[Q+5])+q(j[Q+6])+q(j[Q+7]),Q+=8,E.rsum+=q(ne[H+0])+q(ne[H+1])+q(ne[H+2])+q(ne[H+3])+q(ne[H+4])+q(ne[H+5])+q(ne[H+6])+q(ne[H+7]),H+=8;if(le-=ee,k+=ee,E.totsamp+=ee,E.totsamp==E.sampleWindow){var $=i.STEPS_per_dB*10*Math.log10((E.lsum+E.rsum)/E.totsamp*.5+1e-37),W=$<=0?0:0|$;W>=E.A.length&&(W=E.A.length-1),E.A[W]++,E.lsum=E.rsum=0,t.arraycopy(E.loutbuf,E.totsamp,E.loutbuf,0,MAX_ORDER),t.arraycopy(E.routbuf,E.totsamp,E.routbuf,0,MAX_ORDER),t.arraycopy(E.lstepbuf,E.totsamp,E.lstepbuf,0,MAX_ORDER),t.arraycopy(E.rstepbuf,E.totsamp,E.rstepbuf,0,MAX_ORDER),E.totsamp=0}if(E.totsamp>E.sampleWindow)return GAIN_ANALYSIS_ERROR}return Z<MAX_ORDER?(t.arraycopy(E.linprebuf,Z,E.linprebuf,0,MAX_ORDER-Z),t.arraycopy(E.rinprebuf,Z,E.rinprebuf,0,MAX_ORDER-Z),t.arraycopy(N,M,E.linprebuf,MAX_ORDER-Z,Z),t.arraycopy(G,b,E.rinprebuf,MAX_ORDER-Z,Z)):(t.arraycopy(N,M+Z-MAX_ORDER,E.linprebuf,0,MAX_ORDER),t.arraycopy(G,b+Z-MAX_ORDER,E.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function V(E,N){var M,G=0;for(M=0;M<N;M++)G+=E[M];if(G==0)return GAIN_NOT_ENOUGH_SAMPLES;var b=0|Math.ceil(G*(1-c));for(M=N;M-- >0&&!((b-=E[M])<=0););return o-M/i.STEPS_per_dB}this.GetTitleGain=function(E){for(var N=V(E.A,E.A.length),M=0;M<E.A.length;M++)E.B[M]+=E.A[M],E.A[M]=0;for(var M=0;M<MAX_ORDER;M++)E.linprebuf[M]=E.lstepbuf[M]=E.loutbuf[M]=E.rinprebuf[M]=E.rstepbuf[M]=E.routbuf[M]=0;return E.totsamp=0,E.lsum=E.rsum=0,N}}return mh=i,mh}var ph,im;function Yb(){if(im)return ph;im=1;var l=un();l.System,l.VbrMode,l.Float,l.ShortBlock,l.Util,l.Arrays,l.new_array_n,l.new_byte,l.new_double;var t=l.new_float;l.new_float_n;var a=l.new_int;l.new_int_n,l.assert;var i=Op();function o(){this.linprebuf=t(i.MAX_ORDER*2),this.linpre=0,this.lstepbuf=t(i.MAX_SAMPLES_PER_WINDOW+i.MAX_ORDER),this.lstep=0,this.loutbuf=t(i.MAX_SAMPLES_PER_WINDOW+i.MAX_ORDER),this.lout=0,this.rinprebuf=t(i.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=t(i.MAX_SAMPLES_PER_WINDOW+i.MAX_ORDER),this.rstep=0,this.routbuf=t(i.MAX_SAMPLES_PER_WINDOW+i.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=a(0|i.STEPS_per_dB*i.MAX_dB),this.B=a(0|i.STEPS_per_dB*i.MAX_dB)}return ph=o,ph}var vh,rm;function Dp(){if(rm)return vh;rm=1;function l(t){this.bits=t}return vh=l,vh}var yh,lm;function Zb(){if(lm)return yh;lm=1;var l=un();l.System,l.VbrMode,l.Float,l.ShortBlock,l.Util,l.Arrays,l.new_array_n,l.new_byte,l.new_double;var t=l.new_float;l.new_float_n;var a=l.new_int;l.new_int_n;var i=l.assert,o=Dp(),c=Jn(),d=Fu(),y=Xu();function m(v){var g=v;this.quantize=g,this.iteration_loop=function(T,w,q,V){var E=T.internal_flags,N=t(d.SFBMAX),M=t(576),G=a(2),b=0,Z,C=E.l3_side,Q=new o(b);this.quantize.rv.ResvFrameBegin(T,Q),b=Q.bits;for(var j=0;j<E.mode_gr;j++){Z=this.quantize.qupvt.on_pe(T,w,G,b,j,j),E.mode_ext==c.MPG_MD_MS_LR&&(this.quantize.ms_convert(E.l3_side,j),this.quantize.qupvt.reduce_side(G,q[j],b,Z));for(var H=0;H<E.channels_out;H++){var ne,le,ee=C.tt[j][H];ee.block_type!=c.SHORT_TYPE?(ne=0,le=E.PSY.mask_adjust-ne):(ne=0,le=E.PSY.mask_adjust_short-ne),E.masking_lower=Math.pow(10,le*.1),this.quantize.init_outer_loop(E,ee),this.quantize.init_xrpow(E,ee,M)&&(this.quantize.qupvt.calc_xmin(T,V[j][H],ee,N),this.quantize.outer_loop(T,ee,N,M,H,G[H])),this.quantize.iteration_finish_one(E,j,H),i(ee.part2_3_length<=y.MAX_BITS_PER_CHANNEL),i(ee.part2_3_length<=G[H])}}this.quantize.rv.ResvFrameEnd(E,b)}}return yh=m,yh}var bh,om;function q1(){if(om)return bh;om=1;function l(a,i,o,c){this.xlen=a,this.linmax=i,this.table=o,this.hlen=c}var t={};return t.t1HB=[1,1,1,0],t.t2HB=[1,2,1,3,1,1,3,2,0],t.t3HB=[3,2,1,1,1,1,3,2,0],t.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],t.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],t.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],t.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],t.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],t.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],t.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],t.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],t.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],t.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],t.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],t.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],t.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],t.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],t.t1l=[1,4,3,5],t.t2l=[1,4,7,4,5,7,6,7,8],t.t3l=[2,3,7,4,4,7,6,7,8],t.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],t.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],t.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],t.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],t.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],t.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],t.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],t.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],t.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],t.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],t.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],t.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],t.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],t.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],t.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],t.ht=[new l(0,0,null,null),new l(2,0,t.t1HB,t.t1l),new l(3,0,t.t2HB,t.t2l),new l(3,0,t.t3HB,t.t3l),new l(0,0,null,null),new l(4,0,t.t5HB,t.t5l),new l(4,0,t.t6HB,t.t6l),new l(6,0,t.t7HB,t.t7l),new l(6,0,t.t8HB,t.t8l),new l(6,0,t.t9HB,t.t9l),new l(8,0,t.t10HB,t.t10l),new l(8,0,t.t11HB,t.t11l),new l(8,0,t.t12HB,t.t12l),new l(16,0,t.t13HB,t.t13l),new l(0,0,null,t.t16_5l),new l(16,0,t.t15HB,t.t15l),new l(1,1,t.t16HB,t.t16l),new l(2,3,t.t16HB,t.t16l),new l(3,7,t.t16HB,t.t16l),new l(4,15,t.t16HB,t.t16l),new l(6,63,t.t16HB,t.t16l),new l(8,255,t.t16HB,t.t16l),new l(10,1023,t.t16HB,t.t16l),new l(13,8191,t.t16HB,t.t16l),new l(4,15,t.t24HB,t.t24l),new l(5,31,t.t24HB,t.t24l),new l(6,63,t.t24HB,t.t24l),new l(7,127,t.t24HB,t.t24l),new l(8,255,t.t24HB,t.t24l),new l(9,511,t.t24HB,t.t24l),new l(11,2047,t.t24HB,t.t24l),new l(13,8191,t.t24HB,t.t24l),new l(0,0,t.t32HB,t.t32l),new l(0,0,t.t33HB,t.t33l)],t.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],t.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],t.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],t.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],t.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],t.scfsi_band=[0,6,11,16,21],bh=t,bh}var gh,um;function Bp(){if(um)return gh;um=1;var l=Np(),t=un();t.System;var a=t.VbrMode,i=t.Float;t.ShortBlock;var o=t.Util;t.Arrays,t.new_array_n,t.new_byte,t.new_double;var c=t.new_float;t.new_float_n;var d=t.new_int;t.new_int_n;var y=t.assert,m=Jn(),v=Dp(),g=Xu();T.Q_MAX=257,T.Q_MAX2=116,T.LARGE_BITS=1e5,T.IXMAX_VAL=8206;function T(){var w=null,q=null,V=null;this.setModules=function($,W,S){w=$,q=W,V=S};function E($){return y(0<=$+T.Q_MAX2&&$<T.Q_MAX),j[$+T.Q_MAX2]}this.IPOW20=function($){return y(0<=$&&$<T.Q_MAX),H[$]};var N=2220446049250313e-31,M=T.IXMAX_VAL,G=M+2,b=T.Q_MAX,Z=T.Q_MAX2;T.LARGE_BITS;var C=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var Q=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=Q,this.sfBandIndex=[new l([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new l([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new l([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new l([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new l([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new l([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new l([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new l([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new l([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var j=c(b+Z+1),H=c(b),ne=c(G),le=c(G);this.adj43=le;function ee($,W){var S=V.ATHformula(W,$);return S-=C,S=Math.pow(10,S/10+$.ATHlower),S}function k($){for(var W=$.internal_flags.ATH.l,S=$.internal_flags.ATH.psfb21,B=$.internal_flags.ATH.s,X=$.internal_flags.ATH.psfb12,P=$.internal_flags,A=$.out_samplerate,h=0;h<m.SBMAX_l;h++){var _=P.scalefac_band.l[h],p=P.scalefac_band.l[h+1];W[h]=i.MAX_VALUE;for(var x=_;x<p;x++){var D=x*A/1152,z=ee($,D);W[h]=Math.min(W[h],z)}}for(var h=0;h<m.PSFB21;h++){var _=P.scalefac_band.psfb21[h],p=P.scalefac_band.psfb21[h+1];S[h]=i.MAX_VALUE;for(var x=_;x<p;x++){var D=x*A/1152,z=ee($,D);S[h]=Math.min(S[h],z)}}for(var h=0;h<m.SBMAX_s;h++){var _=P.scalefac_band.s[h],p=P.scalefac_band.s[h+1];B[h]=i.MAX_VALUE;for(var x=_;x<p;x++){var D=x*A/384,z=ee($,D);B[h]=Math.min(B[h],z)}B[h]*=P.scalefac_band.s[h+1]-P.scalefac_band.s[h]}for(var h=0;h<m.PSFB12;h++){var _=P.scalefac_band.psfb12[h],p=P.scalefac_band.psfb12[h+1];X[h]=i.MAX_VALUE;for(var x=_;x<p;x++){var D=x*A/384,z=ee($,D);X[h]=Math.min(X[h],z)}X[h]*=P.scalefac_band.s[13]-P.scalefac_band.s[12]}if($.noATH){for(var h=0;h<m.SBMAX_l;h++)W[h]=1e-20;for(var h=0;h<m.PSFB21;h++)S[h]=1e-20;for(var h=0;h<m.SBMAX_s;h++)B[h]=1e-20;for(var h=0;h<m.PSFB12;h++)X[h]=1e-20}P.ATH.floor=10*Math.log10(ee($,-1))}this.iteration_init=function($){var W=$.internal_flags,S=W.l3_side,B;if(W.iteration_init_init==0){for(W.iteration_init_init=1,S.main_data_begin=0,k($),ne[0]=0,B=1;B<G;B++)ne[B]=Math.pow(B,4/3);for(B=0;B<G-1;B++)le[B]=B+1-Math.pow(.5*(ne[B]+ne[B+1]),.75);for(le[B]=.5,B=0;B<b;B++)H[B]=Math.pow(2,(B-210)*-.1875);for(B=0;B<=b+Z;B++)j[B]=Math.pow(2,(B-210-Z)*.25);w.huffman_init(W);{var X,P,A,h;for(B=$.exp_nspsytune>>2&63,B>=32&&(B-=64),X=Math.pow(10,B/4/10),B=$.exp_nspsytune>>8&63,B>=32&&(B-=64),P=Math.pow(10,B/4/10),B=$.exp_nspsytune>>14&63,B>=32&&(B-=64),A=Math.pow(10,B/4/10),B=$.exp_nspsytune>>20&63,B>=32&&(B-=64),h=A*Math.pow(10,B/4/10),B=0;B<m.SBMAX_l;B++){var _;B<=6?_=X:B<=13?_=P:B<=20?_=A:_=h,W.nsPsy.longfact[B]=_}for(B=0;B<m.SBMAX_s;B++){var _;B<=5?_=X:B<=10?_=P:B<=11?_=A:_=h,W.nsPsy.shortfact[B]=_}}}},this.on_pe=function($,W,S,B,X,P){var A=$.internal_flags,h=0,_,p=d(2),x,D=new v(h),z=q.ResvMaxBits($,B,D,P);h=D.bits;var K=h+z;for(K>g.MAX_BITS_PER_GRANULE&&(K=g.MAX_BITS_PER_GRANULE),_=0,x=0;x<A.channels_out;++x)S[x]=Math.min(g.MAX_BITS_PER_CHANNEL,h/A.channels_out),p[x]=0|S[x]*W[X][x]/700-S[x],p[x]>B*3/4&&(p[x]=B*3/4),p[x]<0&&(p[x]=0),p[x]+S[x]>g.MAX_BITS_PER_CHANNEL&&(p[x]=Math.max(0,g.MAX_BITS_PER_CHANNEL-S[x])),_+=p[x];if(_>z)for(x=0;x<A.channels_out;++x)p[x]=z*p[x]/_;for(x=0;x<A.channels_out;++x)S[x]+=p[x],z-=p[x];for(_=0,x=0;x<A.channels_out;++x)_+=S[x];if(_>g.MAX_BITS_PER_GRANULE){var L=0;for(x=0;x<A.channels_out;++x)S[x]*=g.MAX_BITS_PER_GRANULE,S[x]/=_,L+=S[x];y(L<=g.MAX_BITS_PER_GRANULE)}return K},this.reduce_side=function($,W,S,B){y(B<=g.MAX_BITS_PER_GRANULE),y($[0]+$[1]<=g.MAX_BITS_PER_GRANULE);var X=.33*(.5-W)/.5;X<0&&(X=0),X>.5&&(X=.5);var P=0|X*.5*($[0]+$[1]);P>g.MAX_BITS_PER_CHANNEL-$[0]&&(P=g.MAX_BITS_PER_CHANNEL-$[0]),P<0&&(P=0),$[1]>=125&&($[1]-P>125?($[0]<S&&($[0]+=P),$[1]-=P):($[0]+=$[1]-125,$[1]=125)),P=$[0]+$[1],P>B&&($[0]=B*$[0]/P,$[1]=B*$[1]/P),y($[0]<=g.MAX_BITS_PER_CHANNEL),y($[1]<=g.MAX_BITS_PER_CHANNEL),y($[0]+$[1]<=g.MAX_BITS_PER_GRANULE)},this.athAdjust=function($,W,S){var B=90.30873362,X=94.82444863,P=o.FAST_LOG10_X(W,10),A=$*$,h=0;return P-=S,A>1e-20&&(h=1+o.FAST_LOG10_X(A,10/B)),h<0&&(h=0),P*=h,P+=S+B-X,Math.pow(10,.1*P)},this.calc_xmin=function($,W,S,B){var X=0,P=$.internal_flags,A,h=0,_=0,p=P.ATH,x=S.xr,D=$.VBR==a.vbr_mtrh?1:0,z=P.masking_lower;for(($.VBR==a.vbr_mtrh||$.VBR==a.vbr_mt)&&(z=1),A=0;A<S.psy_lmax;A++){var K,L,ae,oe,Ee,ke;$.VBR==a.vbr_rh||$.VBR==a.vbr_mtrh?L=athAdjust(p.adjust,p.l[A],p.floor):L=p.adjust*p.l[A],Ee=S.width[A],ae=L/Ee,oe=N,ke=Ee>>1,K=0;do{var Ve,je;Ve=x[h]*x[h],K+=Ve,oe+=Ve<ae?Ve:ae,h++,je=x[h]*x[h],K+=je,oe+=je<ae?je:ae,h++}while(--ke>0);if(K>L&&_++,A==m.SBPSY_l){var ge=L*P.nsPsy.longfact[A];oe<ge&&(oe=ge)}if(D!=0&&(L=oe),!$.ATHonly){var Ie=W.en.l[A];if(Ie>0){var ge;ge=K*W.thm.l[A]*z/Ie,D!=0&&(ge*=P.nsPsy.longfact[A]),L<ge&&(L=ge)}}D!=0?B[X++]=L:B[X++]=L*P.nsPsy.longfact[A]}var nt=575;if(S.block_type!=m.SHORT_TYPE)for(var R=576;R--!=0&&BitStream.EQ(x[R],0);)nt=R;S.max_nonzero_coeff=nt;for(var I=S.sfb_smin;A<S.psymax;I++,A+=3){var Ee,Ce,qe;for($.VBR==a.vbr_rh||$.VBR==a.vbr_mtrh?qe=athAdjust(p.adjust,p.s[I],p.floor):qe=p.adjust*p.s[I],Ee=S.width[A],Ce=0;Ce<3;Ce++){var K=0,L,ae,oe,ke=Ee>>1;ae=qe/Ee,oe=N;do{var Ve,je;Ve=x[h]*x[h],K+=Ve,oe+=Ve<ae?Ve:ae,h++,je=x[h]*x[h],K+=je,oe+=je<ae?je:ae,h++}while(--ke>0);if(K>qe&&_++,I==m.SBPSY_s){var ge=qe*P.nsPsy.shortfact[I];oe<ge&&(oe=ge)}if(D!=0?L=oe:L=qe,!$.ATHonly&&!$.ATHshort){var Ie=W.en.s[I][Ce];if(Ie>0){var ge;ge=K*W.thm.s[I][Ce]*z/Ie,D!=0&&(ge*=P.nsPsy.shortfact[I]),L<ge&&(L=ge)}}D!=0?B[X++]=L:B[X++]=L*P.nsPsy.shortfact[I]}$.useTemporal&&(B[X-3]>B[X-3+1]&&(B[X-3+1]+=(B[X-3]-B[X-3+1])*P.decay),B[X-3+1]>B[X-3+2]&&(B[X-3+2]+=(B[X-3+1]-B[X-3+2])*P.decay))}return _};function Te($){this.s=$}this.calc_noise_core=function($,W,S,B){var X=0,P=W.s,A=$.l3_enc;if(P>$.count1)for(;S--!=0;){var h;h=$.xr[P],P++,X+=h*h,h=$.xr[P],P++,X+=h*h}else if(P>$.big_values){var _=c(2);for(_[0]=0,_[1]=B;S--!=0;){var h;h=Math.abs($.xr[P])-_[A[P]],P++,X+=h*h,h=Math.abs($.xr[P])-_[A[P]],P++,X+=h*h}}else for(;S--!=0;){var h;h=Math.abs($.xr[P])-ne[A[P]]*B,P++,X+=h*h,h=Math.abs($.xr[P])-ne[A[P]]*B,P++,X+=h*h}return W.s=P,X},this.calc_noise=function($,W,S,B,X){var P=0,A=0,h,_,p=0,x=0,D=0,z=-20,K=0,L=$.scalefac,ae=0;for(B.over_SSD=0,h=0;h<$.psymax;h++){var oe=$.global_gain-(L[ae++]+($.preflag!=0?Q[h]:0)<<$.scalefac_scale+1)-$.subblock_gain[$.window[h]]*8,Ee=0;if(X!=null&&X.step[h]==oe)Ee=X.noise[h],K+=$.width[h],S[P++]=Ee/W[A++],Ee=X.noise_log[h];else{var ke=E(oe);if(_=$.width[h]>>1,K+$.width[h]>$.max_nonzero_coeff){var Ve;Ve=$.max_nonzero_coeff-K+1,Ve>0?_=Ve>>1:_=0}var je=new Te(K);Ee=this.calc_noise_core($,je,_,ke),K=je.s,X!=null&&(X.step[h]=oe,X.noise[h]=Ee),Ee=S[P++]=Ee/W[A++],Ee=o.FAST_LOG10(Math.max(Ee,1e-20)),X!=null&&(X.noise_log[h]=Ee)}if(X!=null&&(X.global_gain=$.global_gain),D+=Ee,Ee>0){var ge;ge=Math.max(0|Ee*10+.5,1),B.over_SSD+=ge*ge,p++,x+=Ee}z=Math.max(z,Ee)}return B.over_count=p,B.tot_noise=D,B.over_noise=x,B.max_noise=z,p},this.set_pinfo=function($,W,S,B,X){var P=$.internal_flags,A,h,_,p,x,D=W.scalefac_scale==0?.5:1,z=W.scalefac,K=c(L3Side.SFBMAX),L=c(L3Side.SFBMAX),ae=new CalcNoiseResult;calc_xmin($,S,W,K),calc_noise(W,K,L,ae,null);var oe=0;for(h=W.sfb_lmax,W.block_type!=m.SHORT_TYPE&&W.mixed_block_flag==0&&(h=22),A=0;A<h;A++){var Ee=P.scalefac_band.l[A],ke=P.scalefac_band.l[A+1],Ve=ke-Ee;for(p=0;oe<ke;oe++)p+=W.xr[oe]*W.xr[oe];p/=Ve,x=1e15,P.pinfo.en[B][X][A]=x*p,P.pinfo.xfsf[B][X][A]=x*K[A]*L[A]/Ve,S.en.l[A]>0&&!$.ATHonly?p=p/S.en.l[A]:p=0,P.pinfo.thr[B][X][A]=x*Math.max(p*S.thm.l[A],P.ATH.l[A]),P.pinfo.LAMEsfb[B][X][A]=0,W.preflag!=0&&A>=11&&(P.pinfo.LAMEsfb[B][X][A]=-D*Q[A]),A<m.SBPSY_l&&(y(z[A]>=0),P.pinfo.LAMEsfb[B][X][A]-=D*z[A])}if(W.block_type==m.SHORT_TYPE)for(h=A,A=W.sfb_smin;A<m.SBMAX_s;A++)for(var Ee=P.scalefac_band.s[A],ke=P.scalefac_band.s[A+1],Ve=ke-Ee,je=0;je<3;je++){for(p=0,_=Ee;_<ke;_++)p+=W.xr[oe]*W.xr[oe],oe++;p=Math.max(p/Ve,1e-20),x=1e15,P.pinfo.en_s[B][X][3*A+je]=x*p,P.pinfo.xfsf_s[B][X][3*A+je]=x*K[h]*L[h]/Ve,S.en.s[A][je]>0?p=p/S.en.s[A][je]:p=0,($.ATHonly||$.ATHshort)&&(p=0),P.pinfo.thr_s[B][X][3*A+je]=x*Math.max(p*S.thm.s[A][je],P.ATH.s[A]),P.pinfo.LAMEsfb_s[B][X][3*A+je]=-2*W.subblock_gain[je],A<m.SBPSY_s&&(P.pinfo.LAMEsfb_s[B][X][3*A+je]-=D*z[h]),h++}P.pinfo.LAMEqss[B][X]=W.global_gain,P.pinfo.LAMEmainbits[B][X]=W.part2_3_length+W.part2_length,P.pinfo.LAMEsfbits[B][X]=W.part2_length,P.pinfo.over[B][X]=ae.over_count,P.pinfo.max_noise[B][X]=ae.max_noise*10,P.pinfo.over_noise[B][X]=ae.over_noise*10,P.pinfo.tot_noise[B][X]=ae.tot_noise*10,P.pinfo.over_SSD[B][X]=ae.over_SSD}}return gh=T,gh}var Sh,cm;function kp(){if(cm)return Sh;cm=1;var l=un(),t=l.System;l.VbrMode,l.Float,l.ShortBlock,l.Util;var a=l.Arrays;l.new_array_n,l.new_byte,l.new_double,l.new_float,l.new_float_n;var i=l.new_int;l.new_int_n;var o=l.assert,c=Jn(),d=q1(),y=V1(),m=Bp();function v(){var g=null;this.qupvt=null,this.setModules=function(A){this.qupvt=A,g=A};function T(A){this.bits=0|A}var w=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function q(A,h,_,p,x,D){var z=.5946/h;for(o(A>0),A=A>>1;A--!=0;)x[D++]=z>_[p++]?0:1,x[D++]=z>_[p++]?0:1}function V(A,h,_,p,x,D){o(A>0),A=A>>1;var z=A%2;for(A=A>>1;A--!=0;){var K,L,ae,oe,Ee,ke,Ve,je;K=_[p++]*h,L=_[p++]*h,Ee=0|K,ae=_[p++]*h,ke=0|L,oe=_[p++]*h,Ve=0|ae,K+=g.adj43[Ee],je=0|oe,L+=g.adj43[ke],x[D++]=0|K,ae+=g.adj43[Ve],x[D++]=0|L,oe+=g.adj43[je],x[D++]=0|ae,x[D++]=0|oe}if(z!=0){var K,L,Ee,ke;K=_[p++]*h,L=_[p++]*h,Ee=0|K,ke=0|L,K+=g.adj43[Ee],L+=g.adj43[ke],x[D++]=0|K,x[D++]=0|L}}function E(A,h,_,p,x){var D,z,K=0,L,ae=0,oe=0,Ee=0,ke=h,Ve=0,je=ke,ge=0,Ie=A,nt=0;for(L=x!=null&&p.global_gain==x.global_gain,p.block_type==c.SHORT_TYPE?z=38:z=21,D=0;D<=z;D++){var R=-1;if((L||p.block_type==c.NORM_TYPE)&&(R=p.global_gain-(p.scalefac[D]+(p.preflag!=0?g.pretab[D]:0)<<p.scalefac_scale+1)-p.subblock_gain[p.window[D]]*8),o(p.width[D]>=0),L&&x.step[D]==R)ae!=0&&(V(ae,_,Ie,nt,je,ge),ae=0),oe!=0&&(q(oe,_,Ie,nt,je,ge),oe=0);else{var I=p.width[D];if(K+p.width[D]>p.max_nonzero_coeff){var Ce;Ce=p.max_nonzero_coeff-K+1,a.fill(h,p.max_nonzero_coeff,576,0),I=Ce,I<0&&(I=0),D=z+1}if(ae==0&&oe==0&&(je=ke,ge=Ve,Ie=A,nt=Ee),x!=null&&x.sfb_count1>0&&D>=x.sfb_count1&&x.step[D]>0&&R>=x.step[D]?(ae!=0&&(V(ae,_,Ie,nt,je,ge),ae=0,je=ke,ge=Ve,Ie=A,nt=Ee),oe+=I):(oe!=0&&(q(oe,_,Ie,nt,je,ge),oe=0,je=ke,ge=Ve,Ie=A,nt=Ee),ae+=I),I<=0){oe!=0&&(q(oe,_,Ie,nt,je,ge),oe=0),ae!=0&&(V(ae,_,Ie,nt,je,ge),ae=0);break}}D<=z&&(Ve+=p.width[D],Ee+=p.width[D],K+=p.width[D])}ae!=0&&(V(ae,_,Ie,nt,je,ge),ae=0),oe!=0&&(q(oe,_,Ie,nt,je,ge),oe=0)}function N(A,h,_){var p=0,x=0;do{var D=A[h++],z=A[h++];p<D&&(p=D),x<z&&(x=z)}while(h<_);return p<x&&(p=x),p}function M(A,h,_,p,x,D){var z=d.ht[p].xlen*65536+d.ht[x].xlen,K=0,L;do{var ae=A[h++],oe=A[h++];ae!=0&&(ae>14&&(ae=15,K+=z),ae*=16),oe!=0&&(oe>14&&(oe=15,K+=z),ae+=oe),K+=d.largetbl[ae]}while(h<_);return L=K&65535,K>>=16,K>L&&(K=L,p=x),D.bits+=K,p}function G(A,h,_,p){var x=0,D=d.ht[1].hlen;do{var z=A[h+0]*2+A[h+1];h+=2,x+=D[z]}while(h<_);return p.bits+=x,1}function b(A,h,_,p,x){var D=0,z,K=d.ht[p].xlen,L;p==2?L=d.table23:L=d.table56;do{var ae=A[h+0]*K+A[h+1];h+=2,D+=L[ae]}while(h<_);return z=D&65535,D>>=16,D>z&&(D=z,p++),x.bits+=D,p}function Z(A,h,_,p,x){var D=0,z=0,K=0,L=d.ht[p].xlen,ae=d.ht[p].hlen,oe=d.ht[p+1].hlen,Ee=d.ht[p+2].hlen;do{var ke=A[h+0]*L+A[h+1];h+=2,D+=ae[ke],z+=oe[ke],K+=Ee[ke]}while(h<_);var Ve=p;return D>z&&(D=z,Ve++),D>K&&(D=K,Ve=p+2),x.bits+=D,Ve}var C=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function Q(A,h,_,p){var x=N(A,h,_);switch(x){case 0:return x;case 1:return G(A,h,_,p);case 2:case 3:return b(A,h,_,C[x-1],p);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return Z(A,h,_,C[x-1],p);default:if(x>m.IXMAX_VAL)return p.bits=m.LARGE_BITS,-1;x-=15;var D;for(D=24;D<32&&!(d.ht[D].linmax>=x);D++);var z;for(z=D-8;z<24&&!(d.ht[z].linmax>=x);z++);return M(A,h,_,z,D,p)}}this.noquant_count_bits=function(A,h,_){var p=h.l3_enc,x=Math.min(576,h.max_nonzero_coeff+2>>1<<1);for(_!=null&&(_.sfb_count1=0);x>1&&(p[x-1]|p[x-2])==0;x-=2);h.count1=x;for(var D=0,z=0;x>3;x-=4){var K;if(((p[x-1]|p[x-2]|p[x-3]|p[x-4])&2147483647)>1)break;K=((p[x-4]*2+p[x-3])*2+p[x-2])*2+p[x-1],D+=d.t32l[K],z+=d.t33l[K]}var L=D;if(h.count1table_select=0,D>z&&(L=z,h.count1table_select=1),h.count1bits=L,h.big_values=x,x==0)return L;if(h.block_type==c.SHORT_TYPE)D=3*A.scalefac_band.s[3],D>h.big_values&&(D=h.big_values),z=h.big_values;else if(h.block_type==c.NORM_TYPE){if(o(x<=576),D=h.region0_count=A.bv_scf[x-2],z=h.region1_count=A.bv_scf[x-1],o(D+z+2<c.SBPSY_l),z=A.scalefac_band.l[D+z+2],D=A.scalefac_band.l[D+1],z<x){var ae=new T(L);h.table_select[2]=Q(p,z,x,ae),L=ae.bits}}else h.region0_count=7,h.region1_count=c.SBMAX_l-1-7-1,D=A.scalefac_band.l[8],z=x,D>z&&(D=z);if(D=Math.min(D,x),z=Math.min(z,x),o(D>=0),o(z>=0),0<D){var ae=new T(L);h.table_select[0]=Q(p,0,D,ae),L=ae.bits}if(D<z){var ae=new T(L);h.table_select[1]=Q(p,D,z,ae),L=ae.bits}if(A.use_best_huffman==2&&(h.part2_3_length=L,best_huffman_divide(A,h),L=h.part2_3_length),_!=null&&h.block_type==c.NORM_TYPE){for(var oe=0;A.scalefac_band.l[oe]<h.big_values;)oe++;_.sfb_count1=oe}return L},this.count_bits=function(A,h,_,p){var x=_.l3_enc,D=m.IXMAX_VAL/g.IPOW20(_.global_gain);if(_.xrpow_max>D)return m.LARGE_BITS;if(E(h,x,g.IPOW20(_.global_gain),_,p),(A.substep_shaping&2)!=0)for(var z=0,K=_.global_gain+_.scalefac_scale,L=.634521682242439/g.IPOW20(K),ae=0;ae<_.sfbmax;ae++){var oe=_.width[ae];if(o(oe>=0),A.pseudohalf[ae]==0)z+=oe;else{var Ee;for(Ee=z,z+=oe;Ee<z;++Ee)x[Ee]=h[Ee]>=L?x[Ee]:0}}return this.noquant_count_bits(A,_,p)};function j(A,h,_,p,x,D,z){for(var K=h.big_values,L=0;L<=22;L++)p[L]=m.LARGE_BITS;for(var L=0;L<16;L++){var ae=A.scalefac_band.l[L+1];if(ae>=K)break;var oe=0,Ee=new T(oe),ke=Q(_,0,ae,Ee);oe=Ee.bits;for(var Ve=0;Ve<8;Ve++){var je=A.scalefac_band.l[L+Ve+2];if(je>=K)break;var ge=oe;Ee=new T(ge);var Ie=Q(_,ae,je,Ee);ge=Ee.bits,p[L+Ve]>ge&&(p[L+Ve]=ge,x[L+Ve]=L,D[L+Ve]=ke,z[L+Ve]=Ie)}}}function H(A,h,_,p,x,D,z,K){for(var L=h.big_values,ae=2;ae<c.SBMAX_l+1;ae++){var oe=A.scalefac_band.l[ae];if(oe>=L)break;var Ee=x[ae-2]+h.count1bits;if(_.part2_3_length<=Ee)break;var ke=new T(Ee),Ve=Q(p,oe,L,ke);Ee=ke.bits,!(_.part2_3_length<=Ee)&&(_.assign(h),_.part2_3_length=Ee,_.region0_count=D[ae-2],_.region1_count=ae-2-D[ae-2],_.table_select[0]=z[ae-2],_.table_select[1]=K[ae-2],_.table_select[2]=Ve)}}this.best_huffman_divide=function(A,h){var _=new y,p=h.l3_enc,x=i(23),D=i(23),z=i(23),K=i(23);if(!(h.block_type==c.SHORT_TYPE&&A.mode_gr==1)){_.assign(h),h.block_type==c.NORM_TYPE&&(j(A,h,p,x,D,z,K),H(A,_,h,p,x,D,z,K));var L=_.big_values;if(!(L==0||(p[L-2]|p[L-1])>1)&&(L=h.count1+2,!(L>576))){_.assign(h),_.count1=L;var ae=0,oe=0;for(o(L<=576);L>_.big_values;L-=4){var Ee=((p[L-4]*2+p[L-3])*2+p[L-2])*2+p[L-1];ae+=d.t32l[Ee],oe+=d.t33l[Ee]}if(_.big_values=L,_.count1table_select=0,ae>oe&&(ae=oe,_.count1table_select=1),_.count1bits=ae,_.block_type==c.NORM_TYPE)H(A,_,h,p,x,D,z,K);else{if(_.part2_3_length=ae,ae=A.scalefac_band.l[8],ae>L&&(ae=L),ae>0){var ke=new T(_.part2_3_length);_.table_select[0]=Q(p,0,ae,ke),_.part2_3_length=ke.bits}if(L>ae){var ke=new T(_.part2_3_length);_.table_select[1]=Q(p,ae,L,ke),_.part2_3_length=ke.bits}h.part2_3_length>_.part2_3_length&&h.assign(_)}}}};var ne=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],le=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],ee=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],k=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];v.slen1_tab=ee,v.slen2_tab=k;function Te(A,h){for(var _,p=h.tt[1][A],x=h.tt[0][A],D=0;D<d.scfsi_band.length-1;D++){for(_=d.scfsi_band[D];_<d.scfsi_band[D+1]&&!(x.scalefac[_]!=p.scalefac[_]&&p.scalefac[_]>=0);_++);if(_==d.scfsi_band[D+1]){for(_=d.scfsi_band[D];_<d.scfsi_band[D+1];_++)p.scalefac[_]=-1;h.scfsi[A][D]=1}}var z=0,K=0;for(_=0;_<11;_++)p.scalefac[_]!=-1&&(K++,z<p.scalefac[_]&&(z=p.scalefac[_]));for(var L=0,ae=0;_<c.SBPSY_l;_++)p.scalefac[_]!=-1&&(ae++,L<p.scalefac[_]&&(L=p.scalefac[_]));for(var D=0;D<16;D++)if(z<ne[D]&&L<le[D]){var oe=ee[D]*K+k[D]*ae;p.part2_length>oe&&(p.part2_length=oe,p.scalefac_compress=D)}}this.best_scalefac_store=function(A,h,_,p){var x=p.tt[h][_],D,z,K,L,ae=0;for(K=0,D=0;D<x.sfbmax;D++){var oe=x.width[D];for(o(oe>=0),K+=oe,L=-oe;L<0&&x.l3_enc[L+K]==0;L++);L==0&&(x.scalefac[D]=ae=-2)}if(x.scalefac_scale==0&&x.preflag==0){var Ee=0;for(D=0;D<x.sfbmax;D++)x.scalefac[D]>0&&(Ee|=x.scalefac[D]);if((Ee&1)==0&&Ee!=0){for(D=0;D<x.sfbmax;D++)x.scalefac[D]>0&&(x.scalefac[D]>>=1);x.scalefac_scale=ae=1}}if(x.preflag==0&&x.block_type!=c.SHORT_TYPE&&A.mode_gr==2){for(D=11;D<c.SBPSY_l&&!(x.scalefac[D]<g.pretab[D]&&x.scalefac[D]!=-2);D++);if(D==c.SBPSY_l){for(D=11;D<c.SBPSY_l;D++)x.scalefac[D]>0&&(x.scalefac[D]-=g.pretab[D]);x.preflag=ae=1}}for(z=0;z<4;z++)p.scfsi[_][z]=0;for(A.mode_gr==2&&h==1&&p.tt[0][_].block_type!=c.SHORT_TYPE&&p.tt[1][_].block_type!=c.SHORT_TYPE&&(Te(_,p),ae=0),D=0;D<x.sfbmax;D++)x.scalefac[D]==-2&&(x.scalefac[D]=0);ae!=0&&(A.mode_gr==2?this.scale_bitcount(x):this.scale_bitcount_lsf(A,x))};function $(A,h){for(var _=0;_<h;++_)if(A[_]<0)return!1;return!0}var W=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],S=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],B=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(A){var h,_,p=0,x=0,D,z=A.scalefac;if(o($(z,A.sfbmax)),A.block_type==c.SHORT_TYPE)D=W,A.mixed_block_flag!=0&&(D=S);else if(D=B,A.preflag==0){for(_=11;_<c.SBPSY_l&&!(z[_]<g.pretab[_]);_++);if(_==c.SBPSY_l)for(A.preflag=1,_=11;_<c.SBPSY_l;_++)z[_]-=g.pretab[_]}for(_=0;_<A.sfbdivide;_++)p<z[_]&&(p=z[_]);for(;_<A.sfbmax;_++)x<z[_]&&(x=z[_]);for(A.part2_length=m.LARGE_BITS,h=0;h<16;h++)p<ne[h]&&x<le[h]&&A.part2_length>D[h]&&(A.part2_length=D[h],A.scalefac_compress=h);return A.part2_length==m.LARGE_BITS};var X=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(A,h){var _,p,x,D,z,K,L,ae,oe=i(4),Ee=h.scalefac;for(h.preflag!=0?_=2:_=0,L=0;L<4;L++)oe[L]=0;if(h.block_type==c.SHORT_TYPE){p=1;var ke=g.nr_of_sfb_block[_][p];for(ae=0,x=0;x<4;x++)for(D=ke[x]/3,L=0;L<D;L++,ae++)for(z=0;z<3;z++)Ee[ae*3+z]>oe[x]&&(oe[x]=Ee[ae*3+z])}else{p=0;var ke=g.nr_of_sfb_block[_][p];for(ae=0,x=0;x<4;x++)for(D=ke[x],L=0;L<D;L++,ae++)Ee[ae]>oe[x]&&(oe[x]=Ee[ae])}for(K=!1,x=0;x<4;x++)oe[x]>X[_][x]&&(K=!0);if(!K){var Ve,je,ge,Ie;for(h.sfb_partition_table=g.nr_of_sfb_block[_][p],x=0;x<4;x++)h.slen[x]=P[oe[x]];switch(Ve=h.slen[0],je=h.slen[1],ge=h.slen[2],Ie=h.slen[3],_){case 0:h.scalefac_compress=(Ve*5+je<<4)+(ge<<2)+Ie;break;case 1:h.scalefac_compress=400+(Ve*5+je<<2)+ge;break;case 2:h.scalefac_compress=500+Ve*3+je;break;default:t.err.printf(`intensity stereo not implemented yet
`);break}}if(!K)for(o(h.sfb_partition_table!=null),h.part2_length=0,x=0;x<4;x++)h.part2_length+=h.slen[x]*h.sfb_partition_table[x];return K};var P=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(A){for(var h=2;h<=576;h+=2){for(var _=0,p;A.scalefac_band.l[++_]<h;);for(p=w[_][0];A.scalefac_band.l[p+1]>h;)p--;for(p<0&&(p=w[_][0]),A.bv_scf[h-2]=p,p=w[_][1];A.scalefac_band.l[p+A.bv_scf[h-2]+2]>h;)p--;p<0&&(p=w[_][1]),A.bv_scf[h-1]=p}}}return Sh=v,Sh}var Th,hm;function Vp(){if(hm)return Th;hm=1;var l=un(),t=l.System;l.VbrMode,l.Float,l.ShortBlock,l.Util;var a=l.Arrays;l.new_array_n;var i=l.new_byte;l.new_double,l.new_float;var o=l.new_float_n,c=l.new_int;l.new_int_n;var d=l.assert,y=kp(),m=q1(),v=Jn(),g=Xu();T.EQ=function(w,q){return Math.abs(w)>Math.abs(q)?Math.abs(w-q)<=Math.abs(w)*1e-6:Math.abs(w-q)<=Math.abs(q)*1e-6},T.NEQ=function(w,q){return!T.EQ(w,q)};function T(){var w=this,q=32773,V=32,E=null,N=null,M=null,G=null;this.setModules=function(h,_,p,x){E=h,N=_,M=p,G=x};var b=null,Z=0,C=0,Q=0;this.getframebits=function(h){var _=h.internal_flags,p;_.bitrate_index!=0?p=m.bitrate_table[h.version][_.bitrate_index]:p=h.brate,d(8<=p&&p<=640);var x=0|(h.version+1)*72e3*p/h.out_samplerate+_.padding;return 8*x};function j(h){t.arraycopy(h.header[h.w_ptr].buf,0,b,C,h.sideinfo_len),C+=h.sideinfo_len,Z+=h.sideinfo_len*8,h.w_ptr=h.w_ptr+1&g.MAX_HEADER_BUF-1}function H(h,_,p){for(d(p<V-2);p>0;){var x;Q==0&&(Q=8,C++,d(C<Lame.LAME_MAXMP3BUFFER),d(h.header[h.w_ptr].write_timing>=Z),h.header[h.w_ptr].write_timing==Z&&j(h),b[C]=0),x=Math.min(p,Q),p-=x,Q-=x,d(p<V),d(Q<V),b[C]|=_>>p<<Q,Z+=x}}function ne(h,_,p){for(d(p<V-2);p>0;){var x;Q==0&&(Q=8,C++,d(C<Lame.LAME_MAXMP3BUFFER),b[C]=0),x=Math.min(p,Q),p-=x,Q-=x,d(p<V),d(Q<V),b[C]|=_>>p<<Q,Z+=x}}function le(h,_){var p=h.internal_flags,x;if(d(_>=0),_>=8&&(H(p,76,8),_-=8),_>=8&&(H(p,65,8),_-=8),_>=8&&(H(p,77,8),_-=8),_>=8&&(H(p,69,8),_-=8),_>=32){var D=M.getLameShortVersion();if(_>=32)for(x=0;x<D.length&&_>=8;++x)_-=8,H(p,D.charAt(x),8)}for(;_>=1;_-=1)H(p,p.ancillary_flag,1),p.ancillary_flag^=h.disable_reservoir?0:1;d(_==0)}function ee(h,_,p){for(var x=h.header[h.h_ptr].ptr;p>0;){var D=Math.min(p,8-(x&7));p-=D,d(p<V),h.header[h.h_ptr].buf[x>>3]|=_>>p<<8-(x&7)-D,x+=D}h.header[h.h_ptr].ptr=x}function k(h,_){h<<=8;for(var p=0;p<8;p++)h<<=1,_<<=1,((_^h)&65536)!=0&&(_^=q);return _}this.CRC_writeheader=function(h,_){var p=65535;p=k(_[2]&255,p),p=k(_[3]&255,p);for(var x=6;x<h.sideinfo_len;x++)p=k(_[x]&255,p);_[4]=byte(p>>8),_[5]=byte(p&255)};function Te(h,_){var p=h.internal_flags,x,D,z;if(x=p.l3_side,p.header[p.h_ptr].ptr=0,a.fill(p.header[p.h_ptr].buf,0,p.sideinfo_len,0),h.out_samplerate<16e3?ee(p,4094,12):ee(p,4095,12),ee(p,h.version,1),ee(p,1,2),ee(p,h.error_protection?0:1,1),ee(p,p.bitrate_index,4),ee(p,p.samplerate_index,2),ee(p,p.padding,1),ee(p,h.extension,1),ee(p,h.mode.ordinal(),2),ee(p,p.mode_ext,2),ee(p,h.copyright,1),ee(p,h.original,1),ee(p,h.emphasis,2),h.error_protection&&ee(p,0,16),h.version==1){for(d(x.main_data_begin>=0),ee(p,x.main_data_begin,9),p.channels_out==2?ee(p,x.private_bits,3):ee(p,x.private_bits,5),z=0;z<p.channels_out;z++){var K;for(K=0;K<4;K++)ee(p,x.scfsi[z][K],1)}for(D=0;D<2;D++)for(z=0;z<p.channels_out;z++){var L=x.tt[D][z];ee(p,L.part2_3_length+L.part2_length,12),ee(p,L.big_values/2,9),ee(p,L.global_gain,8),ee(p,L.scalefac_compress,4),L.block_type!=v.NORM_TYPE?(ee(p,1,1),ee(p,L.block_type,2),ee(p,L.mixed_block_flag,1),L.table_select[0]==14&&(L.table_select[0]=16),ee(p,L.table_select[0],5),L.table_select[1]==14&&(L.table_select[1]=16),ee(p,L.table_select[1],5),ee(p,L.subblock_gain[0],3),ee(p,L.subblock_gain[1],3),ee(p,L.subblock_gain[2],3)):(ee(p,0,1),L.table_select[0]==14&&(L.table_select[0]=16),ee(p,L.table_select[0],5),L.table_select[1]==14&&(L.table_select[1]=16),ee(p,L.table_select[1],5),L.table_select[2]==14&&(L.table_select[2]=16),ee(p,L.table_select[2],5),d(0<=L.region0_count&&L.region0_count<16),d(0<=L.region1_count&&L.region1_count<8),ee(p,L.region0_count,4),ee(p,L.region1_count,3)),ee(p,L.preflag,1),ee(p,L.scalefac_scale,1),ee(p,L.count1table_select,1)}}else for(d(x.main_data_begin>=0),ee(p,x.main_data_begin,8),ee(p,x.private_bits,p.channels_out),D=0,z=0;z<p.channels_out;z++){var L=x.tt[D][z];ee(p,L.part2_3_length+L.part2_length,12),ee(p,L.big_values/2,9),ee(p,L.global_gain,8),ee(p,L.scalefac_compress,9),L.block_type!=v.NORM_TYPE?(ee(p,1,1),ee(p,L.block_type,2),ee(p,L.mixed_block_flag,1),L.table_select[0]==14&&(L.table_select[0]=16),ee(p,L.table_select[0],5),L.table_select[1]==14&&(L.table_select[1]=16),ee(p,L.table_select[1],5),ee(p,L.subblock_gain[0],3),ee(p,L.subblock_gain[1],3),ee(p,L.subblock_gain[2],3)):(ee(p,0,1),L.table_select[0]==14&&(L.table_select[0]=16),ee(p,L.table_select[0],5),L.table_select[1]==14&&(L.table_select[1]=16),ee(p,L.table_select[1],5),L.table_select[2]==14&&(L.table_select[2]=16),ee(p,L.table_select[2],5),d(0<=L.region0_count&&L.region0_count<16),d(0<=L.region1_count&&L.region1_count<8),ee(p,L.region0_count,4),ee(p,L.region1_count,3)),ee(p,L.scalefac_scale,1),ee(p,L.count1table_select,1)}h.error_protection&&CRC_writeheader(p,p.header[p.h_ptr].buf);{var ae=p.h_ptr;d(p.header[ae].ptr==p.sideinfo_len*8),p.h_ptr=ae+1&g.MAX_HEADER_BUF-1,p.header[p.h_ptr].write_timing=p.header[ae].write_timing+_,p.h_ptr==p.w_ptr&&t.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function $(h,_){var p=m.ht[_.count1table_select+32],x,D=0,z=_.big_values,K=_.big_values;for(d(_.count1table_select<2),x=(_.count1-_.big_values)/4;x>0;--x){var L=0,ae=0,oe;oe=_.l3_enc[z+0],oe!=0&&(ae+=8,_.xr[K+0]<0&&L++,d(oe<=1)),oe=_.l3_enc[z+1],oe!=0&&(ae+=4,L*=2,_.xr[K+1]<0&&L++,d(oe<=1)),oe=_.l3_enc[z+2],oe!=0&&(ae+=2,L*=2,_.xr[K+2]<0&&L++,d(oe<=1)),oe=_.l3_enc[z+3],oe!=0&&(ae++,L*=2,_.xr[K+3]<0&&L++,d(oe<=1)),z+=4,K+=4,H(h,L+p.table[ae],p.hlen[ae]),D+=p.hlen[ae]}return D}function W(h,_,p,x,D){var z=m.ht[_],K=0;if(d(_<32),_==0)return K;for(var L=p;L<x;L+=2){var ae=0,oe=0,Ee=z.xlen,ke=z.xlen,Ve=0,je=D.l3_enc[L],ge=D.l3_enc[L+1];if(je!=0&&(D.xr[L]<0&&Ve++,ae--),_>15){if(je>14){var Ie=je-15;d(Ie<=z.linmax),Ve|=Ie<<1,oe=Ee,je=15}if(ge>14){var nt=ge-15;d(nt<=z.linmax),Ve<<=Ee,Ve|=nt,oe+=Ee,ge=15}ke=16}ge!=0&&(Ve<<=1,D.xr[L+1]<0&&Ve++,ae--),d((je|ge)<16),je=je*ke+ge,oe-=ae,ae+=z.hlen[je],d(ae<=V),d(oe<=V),H(h,z.table[je],ae),H(h,Ve,oe),K+=ae+oe}return K}function S(h,_){var p=3*h.scalefac_band.s[3];p>_.big_values&&(p=_.big_values);var x=W(h,_.table_select[0],0,p,_);return x+=W(h,_.table_select[1],p,_.big_values,_),x}function B(h,_){var p,x,D,z;p=_.big_values,d(0<=p&&p<=576);var K=_.region0_count+1;return d(0<=K),d(K<h.scalefac_band.l.length),D=h.scalefac_band.l[K],K+=_.region1_count+1,d(0<=K),d(K<h.scalefac_band.l.length),z=h.scalefac_band.l[K],D>p&&(D=p),z>p&&(z=p),x=W(h,_.table_select[0],0,D,_),x+=W(h,_.table_select[1],D,z,_),x+=W(h,_.table_select[2],z,p,_),x}function X(h){var _,p,x,D,z=0,K=h.internal_flags,L=K.l3_side;if(h.version==1)for(_=0;_<2;_++)for(p=0;p<K.channels_out;p++){var ae=L.tt[_][p],oe=y.slen1_tab[ae.scalefac_compress],Ee=y.slen2_tab[ae.scalefac_compress];for(D=0,x=0;x<ae.sfbdivide;x++)ae.scalefac[x]!=-1&&(H(K,ae.scalefac[x],oe),D+=oe);for(;x<ae.sfbmax;x++)ae.scalefac[x]!=-1&&(H(K,ae.scalefac[x],Ee),D+=Ee);d(D==ae.part2_length),ae.block_type==v.SHORT_TYPE?D+=S(K,ae):D+=B(K,ae),D+=$(K,ae),d(D==ae.part2_3_length+ae.part2_length),z+=D}else for(_=0,p=0;p<K.channels_out;p++){var ae=L.tt[_][p],ke,Ve,je=0;if(d(ae.sfb_partition_table!=null),D=0,x=0,Ve=0,ae.block_type==v.SHORT_TYPE){for(;Ve<4;Ve++){var ge=ae.sfb_partition_table[Ve]/3,Ie=ae.slen[Ve];for(ke=0;ke<ge;ke++,x++)H(K,Math.max(ae.scalefac[x*3+0],0),Ie),H(K,Math.max(ae.scalefac[x*3+1],0),Ie),H(K,Math.max(ae.scalefac[x*3+2],0),Ie),je+=3*Ie}D+=S(K,ae)}else{for(;Ve<4;Ve++){var ge=ae.sfb_partition_table[Ve],Ie=ae.slen[Ve];for(ke=0;ke<ge;ke++,x++)H(K,Math.max(ae.scalefac[x],0),Ie),je+=Ie}D+=B(K,ae)}D+=$(K,ae),d(D==ae.part2_3_length),d(je==ae.part2_length),z+=je+D}return z}function P(){this.total=0}function A(h,_){var p=h.internal_flags,x,D,z,K,L;return L=p.w_ptr,K=p.h_ptr-1,K==-1&&(K=g.MAX_HEADER_BUF-1),x=p.header[K].write_timing-Z,_.total=x,x>=0&&(D=1+K-L,K<L&&(D=1+K-L+g.MAX_HEADER_BUF),x-=D*8*p.sideinfo_len),z=w.getframebits(h),x+=z,_.total+=z,_.total%8!=0?_.total=1+_.total/8:_.total=_.total/8,_.total+=C+1,x<0&&t.err.println(`strange error flushing buffer ... 
`),x}this.flush_bitstream=function(h){var _=h.internal_flags,p,x,D=_.h_ptr-1;if(D==-1&&(D=g.MAX_HEADER_BUF-1),p=_.l3_side,!((x=A(h,new P))<0)){if(le(h,x),d(_.header[D].write_timing+this.getframebits(h)==Z),_.ResvSize=0,p.main_data_begin=0,_.findReplayGain){var z=E.GetTitleGain(_.rgdata);d(NEQ(z,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),_.RadioGain=Math.floor(z*10+.5)|0}_.findPeakSample&&(_.noclipGainChange=Math.ceil(Math.log10(_.PeakSample/32767)*20*10)|0,_.noclipGainChange>0&&(EQ(h.scale,1)||EQ(h.scale,0))?_.noclipScale=Math.floor(32767/_.PeakSample*100)/100:_.noclipScale=-1)}},this.add_dummy_byte=function(h,_,p){for(var x=h.internal_flags,D;p-- >0;)for(ne(x,_,8),D=0;D<g.MAX_HEADER_BUF;++D)x.header[D].write_timing+=8},this.format_bitstream=function(h){var _=h.internal_flags,p;p=_.l3_side;var x=this.getframebits(h);le(h,p.resvDrain_pre),Te(h,x);var D=8*_.sideinfo_len;if(D+=X(h),le(h,p.resvDrain_post),D+=p.resvDrain_post,p.main_data_begin+=(x-D)/8,A(h,new P)!=_.ResvSize&&t.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),p.main_data_begin*8!=_.ResvSize&&(t.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*p.main_data_begin,_.ResvSize,p.resvDrain_post,p.resvDrain_pre,8*_.sideinfo_len,D-p.resvDrain_post-8*_.sideinfo_len,D,D%8,x),t.err.println("This is a fatal error.  It has several possible causes:"),t.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),t.err.println(" 9%%  Your system is overclocked"),t.err.println(" 1%%  bug in LAME encoding library"),_.ResvSize=p.main_data_begin*8),d(Z%8==0),Z>1e9){var z;for(z=0;z<g.MAX_HEADER_BUF;++z)_.header[z].write_timing-=Z;Z=0}return 0},this.copy_buffer=function(h,_,p,x,D){var z=C+1;if(z<=0)return 0;if(x!=0&&z>x)return-1;if(t.arraycopy(b,0,_,p,z),C=-1,Q=0,D!=0){var K=c(1);if(K[0]=h.nMusicCRC,G.updateMusicCRC(K,_,p,z),h.nMusicCRC=K[0],z>0&&(h.VBR_seek_table.nBytesWritten+=z),h.decode_on_the_fly){for(var L=o([2,1152]),ae=z,oe=-1,Ee;oe!=0;)if(oe=N.hip_decode1_unclipped(h.hip,_,p,ae,L[0],L[1]),ae=0,oe==-1&&(oe=0),oe>0){if(d(oe<=1152),h.findPeakSample){for(Ee=0;Ee<oe;Ee++)L[0][Ee]>h.PeakSample?h.PeakSample=L[0][Ee]:-L[0][Ee]>h.PeakSample&&(h.PeakSample=-L[0][Ee]);if(h.channels_out>1)for(Ee=0;Ee<oe;Ee++)L[1][Ee]>h.PeakSample?h.PeakSample=L[1][Ee]:-L[1][Ee]>h.PeakSample&&(h.PeakSample=-L[1][Ee])}if(h.findReplayGain&&E.AnalyzeSamples(h.rgdata,L[0],0,L[1],0,oe,h.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return z},this.init_bit_stream_w=function(h){b=i(Lame.LAME_MAXMP3BUFFER),h.h_ptr=h.w_ptr=0,h.header[h.h_ptr].write_timing=0,C=-1,Q=0,Z=0}}return Th=T,Th}var Ah,fm;function Qb(){if(fm)return Ah;fm=1;var l=un(),t=l.System,a=l.VbrMode;l.Float;var i=l.ShortBlock;l.Util,l.Arrays,l.new_array_n,l.new_byte,l.new_double;var o=l.new_float;l.new_float_n,l.new_int;var c=l.new_int_n,d=l.new_short_n,y=l.assert,m=zb(),v=Ub(),g=Xu(),T=Xb(),w=Yb(),q=Zb(),V=Vp(),E=q1(),N=Jn();function M(){var G=this,b=128*1024;M.V9=410,M.V8=420,M.V7=430,M.V6=440,M.V5=450,M.V4=460,M.V3=470,M.V2=480,M.V1=490,M.V0=500,M.R3MIX=1e3,M.STANDARD=1001,M.EXTREME=1002,M.INSANE=1003,M.STANDARD_FAST=1004,M.EXTREME_FAST=1005,M.MEDIUM=1006,M.MEDIUM_FAST=1007;var Z=16384+b;M.LAME_MAXMP3BUFFER=Z;var C,Q,j,H,ne,le=new m,ee,k,Te;this.enc=new N,this.setModules=function(R,I,Ce,qe,et,Ye,Pe,Qe,ct){C=R,Q=I,j=Ce,H=qe,ne=et,ee=Ye,k=Qe,Te=ct,this.enc.setModules(Q,le,H,ee)};function $(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=o(N.SBMAX_l),this.bo_s_weight=o(N.SBMAX_s)}function W(){this.lowerlimit=0}function S(R,I){this.lowpass=I}var B=4294479419;function X(R){var I;return R.class_id=B,I=R.internal_flags=new g,R.mode=MPEGMode.NOT_SET,R.original=1,R.in_samplerate=44100,R.num_channels=2,R.num_samples=-1,R.bWriteVbrTag=!0,R.quality=-1,R.short_blocks=null,I.subblock_gain=-1,R.lowpassfreq=0,R.highpassfreq=0,R.lowpasswidth=-1,R.highpasswidth=-1,R.VBR=a.vbr_off,R.VBR_q=4,R.ATHcurve=-1,R.VBR_mean_bitrate_kbps=128,R.VBR_min_bitrate_kbps=0,R.VBR_max_bitrate_kbps=0,R.VBR_hard_min=0,I.VBR_min_bitrate=1,I.VBR_max_bitrate=13,R.quant_comp=-1,R.quant_comp_short=-1,R.msfix=-1,I.resample_ratio=1,I.OldValue[0]=180,I.OldValue[1]=180,I.CurrentStep[0]=4,I.CurrentStep[1]=4,I.masking_lower=1,I.nsPsy.attackthre=-1,I.nsPsy.attackthre_s=-1,R.scale=-1,R.athaa_type=-1,R.ATHtype=-1,R.athaa_loudapprox=-1,R.athaa_sensitivity=0,R.useTemporal=null,R.interChRatio=-1,I.mf_samples_to_encode=N.ENCDELAY+N.POSTDELAY,R.encoder_padding=0,I.mf_size=N.ENCDELAY-N.MDCTDELAY,R.findReplayGain=!1,R.decode_on_the_fly=!1,I.decode_on_the_fly=!1,I.findReplayGain=!1,I.findPeakSample=!1,I.RadioGain=0,I.AudiophileGain=0,I.noclipGainChange=0,I.noclipScale=-1,R.preset=0,R.write_id3tag_automatic=!0,0}this.lame_init=function(){var R=new v;return X(R),R.lame_allocated_gfp=1,R};function P(R){return R>1?0:R<=0?1:Math.cos(Math.PI/2*R)}this.nearestBitrateFullIndex=function(R){var I=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],Ce=0,qe=0,et=0,Ye=0;Ye=I[16],et=16,qe=I[16],Ce=16;for(var Pe=0;Pe<16;Pe++)if(Math.max(R,I[Pe+1])!=R){Ye=I[Pe+1],et=Pe+1,qe=I[Pe],Ce=Pe;break}return Ye-R>R-qe?Ce:et};function A(R,I){var Ce=44100;return I>=48e3?Ce=48e3:I>=44100?Ce=44100:I>=32e3?Ce=32e3:I>=24e3?Ce=24e3:I>=22050?Ce=22050:I>=16e3?Ce=16e3:I>=12e3?Ce=12e3:I>=11025?Ce=11025:I>=8e3&&(Ce=8e3),R==-1?Ce:(R<=15960&&(Ce=44100),R<=15250&&(Ce=32e3),R<=11220&&(Ce=24e3),R<=9970&&(Ce=22050),R<=7230&&(Ce=16e3),R<=5420&&(Ce=12e3),R<=4510&&(Ce=11025),R<=3970&&(Ce=8e3),I<Ce?I>44100?48e3:I>32e3?44100:I>24e3?32e3:I>22050?24e3:I>16e3?22050:I>12e3?16e3:I>11025?12e3:I>8e3?11025:8e3:Ce)}function h(R,I){switch(R){case 44100:return I.version=1,0;case 48e3:return I.version=1,1;case 32e3:return I.version=1,2;case 22050:return I.version=0,0;case 24e3:return I.version=0,1;case 16e3:return I.version=0,2;case 11025:return I.version=0,0;case 12e3:return I.version=0,1;case 8e3:return I.version=0,2;default:return I.version=0,-1}}function _(R,I,Ce){Ce<16e3&&(I=2);for(var qe=E.bitrate_table[I][1],et=2;et<=14;et++)E.bitrate_table[I][et]>0&&Math.abs(E.bitrate_table[I][et]-R)<Math.abs(qe-R)&&(qe=E.bitrate_table[I][et]);return qe}function p(R,I,Ce){Ce<16e3&&(I=2);for(var qe=0;qe<=14;qe++)if(E.bitrate_table[I][qe]>0&&E.bitrate_table[I][qe]==R)return qe;return-1}function x(R,I){var Ce=[new S(8,2e3),new S(16,3700),new S(24,3900),new S(32,5500),new S(40,7e3),new S(48,7500),new S(56,1e4),new S(64,11e3),new S(80,13500),new S(96,15100),new S(112,15600),new S(128,17e3),new S(160,17500),new S(192,18600),new S(224,19400),new S(256,19700),new S(320,20500)],qe=G.nearestBitrateFullIndex(I);R.lowerlimit=Ce[qe].lowpass}function D(R){var I=R.internal_flags,Ce=32,qe=-1;if(I.lowpass1>0){for(var et=999,Ye=0;Ye<=31;Ye++){var Pe=Ye/31;Pe>=I.lowpass2&&(Ce=Math.min(Ce,Ye)),I.lowpass1<Pe&&Pe<I.lowpass2&&(et=Math.min(et,Ye))}et==999?I.lowpass1=(Ce-.75)/31:I.lowpass1=(et-.75)/31,I.lowpass2=Ce/31}if(I.highpass2>0&&I.highpass2<.9*(.75/31)&&(I.highpass1=0,I.highpass2=0,t.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),I.highpass2>0){for(var Qe=-1,Ye=0;Ye<=31;Ye++){var Pe=Ye/31;Pe<=I.highpass1&&(qe=Math.max(qe,Ye)),I.highpass1<Pe&&Pe<I.highpass2&&(Qe=Math.max(Qe,Ye))}I.highpass1=qe/31,Qe==-1?I.highpass2=(qe+.75)/31:I.highpass2=(Qe+.75)/31}for(var Ye=0;Ye<32;Ye++){var ct,We,Pe=Ye/31;I.highpass2>I.highpass1?ct=P((I.highpass2-Pe)/(I.highpass2-I.highpass1+1e-20)):ct=1,I.lowpass2>I.lowpass1?We=P((Pe-I.lowpass1)/(I.lowpass2-I.lowpass1+1e-20)):We=1,I.amp_filter[Ye]=ct*We}}function z(R){var I=R.internal_flags;switch(R.quality){default:case 9:I.psymodel=0,I.noise_shaping=0,I.noise_shaping_amp=0,I.noise_shaping_stop=0,I.use_best_huffman=0,I.full_outer_loop=0;break;case 8:R.quality=7;case 7:I.psymodel=1,I.noise_shaping=0,I.noise_shaping_amp=0,I.noise_shaping_stop=0,I.use_best_huffman=0,I.full_outer_loop=0;break;case 6:I.psymodel=1,I.noise_shaping==0&&(I.noise_shaping=1),I.noise_shaping_amp=0,I.noise_shaping_stop=0,I.subblock_gain==-1&&(I.subblock_gain=1),I.use_best_huffman=0,I.full_outer_loop=0;break;case 5:I.psymodel=1,I.noise_shaping==0&&(I.noise_shaping=1),I.noise_shaping_amp=0,I.noise_shaping_stop=0,I.subblock_gain==-1&&(I.subblock_gain=1),I.use_best_huffman=0,I.full_outer_loop=0;break;case 4:I.psymodel=1,I.noise_shaping==0&&(I.noise_shaping=1),I.noise_shaping_amp=0,I.noise_shaping_stop=0,I.subblock_gain==-1&&(I.subblock_gain=1),I.use_best_huffman=1,I.full_outer_loop=0;break;case 3:I.psymodel=1,I.noise_shaping==0&&(I.noise_shaping=1),I.noise_shaping_amp=1,I.noise_shaping_stop=1,I.subblock_gain==-1&&(I.subblock_gain=1),I.use_best_huffman=1,I.full_outer_loop=0;break;case 2:I.psymodel=1,I.noise_shaping==0&&(I.noise_shaping=1),I.substep_shaping==0&&(I.substep_shaping=2),I.noise_shaping_amp=1,I.noise_shaping_stop=1,I.subblock_gain==-1&&(I.subblock_gain=1),I.use_best_huffman=1,I.full_outer_loop=0;break;case 1:I.psymodel=1,I.noise_shaping==0&&(I.noise_shaping=1),I.substep_shaping==0&&(I.substep_shaping=2),I.noise_shaping_amp=2,I.noise_shaping_stop=1,I.subblock_gain==-1&&(I.subblock_gain=1),I.use_best_huffman=1,I.full_outer_loop=0;break;case 0:I.psymodel=1,I.noise_shaping==0&&(I.noise_shaping=1),I.substep_shaping==0&&(I.substep_shaping=2),I.noise_shaping_amp=2,I.noise_shaping_stop=1,I.subblock_gain==-1&&(I.subblock_gain=1),I.use_best_huffman=1,I.full_outer_loop=0;break}}function K(R){var I=R.internal_flags;R.frameNum=0,R.write_id3tag_automatic&&k.id3tag_write_v2(R),I.bitrate_stereoMode_Hist=c([16,5]),I.bitrate_blockType_Hist=c([16,6]),I.PeakSample=0,R.bWriteVbrTag&&ee.InitVbrTag(R)}this.lame_init_params=function(R){var I=R.internal_flags;if(I.Class_ID=0,I.ATH==null&&(I.ATH=new T),I.PSY==null&&(I.PSY=new $),I.rgdata==null&&(I.rgdata=new w),I.channels_in=R.num_channels,I.channels_in==1&&(R.mode=MPEGMode.MONO),I.channels_out=R.mode==MPEGMode.MONO?1:2,I.mode_ext=N.MPG_MD_MS_LR,R.mode==MPEGMode.MONO&&(R.force_ms=!1),R.VBR==a.vbr_off&&R.VBR_mean_bitrate_kbps!=128&&R.brate==0&&(R.brate=R.VBR_mean_bitrate_kbps),R.VBR==a.vbr_off||R.VBR==a.vbr_mtrh||R.VBR==a.vbr_mt||(R.free_format=!1),R.VBR==a.vbr_off&&R.brate==0&&V.EQ(R.compression_ratio,0)&&(R.compression_ratio=11.025),R.VBR==a.vbr_off&&R.compression_ratio>0&&(R.out_samplerate==0&&(R.out_samplerate=map2MP3Frequency(int(.97*R.in_samplerate))),R.brate=0|R.out_samplerate*16*I.channels_out/(1e3*R.compression_ratio),I.samplerate_index=h(R.out_samplerate,R),R.free_format||(R.brate=_(R.brate,R.version,R.out_samplerate))),R.out_samplerate!=0&&(R.out_samplerate<16e3?(R.VBR_mean_bitrate_kbps=Math.max(R.VBR_mean_bitrate_kbps,8),R.VBR_mean_bitrate_kbps=Math.min(R.VBR_mean_bitrate_kbps,64)):R.out_samplerate<32e3?(R.VBR_mean_bitrate_kbps=Math.max(R.VBR_mean_bitrate_kbps,8),R.VBR_mean_bitrate_kbps=Math.min(R.VBR_mean_bitrate_kbps,160)):(R.VBR_mean_bitrate_kbps=Math.max(R.VBR_mean_bitrate_kbps,32),R.VBR_mean_bitrate_kbps=Math.min(R.VBR_mean_bitrate_kbps,320))),R.lowpassfreq==0){var Ce=16e3;switch(R.VBR){case a.vbr_off:{var qe=new W;x(qe,R.brate),Ce=qe.lowerlimit;break}case a.vbr_abr:{var qe=new W;x(qe,R.VBR_mean_bitrate_kbps),Ce=qe.lowerlimit;break}case a.vbr_rh:{var et=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=R.VBR_q&&R.VBR_q<=9){var Ye=et[R.VBR_q],Pe=et[R.VBR_q+1],Qe=R.VBR_q_frac;Ce=linear_int(Ye,Pe,Qe)}else Ce=19500;break}default:{var et=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=R.VBR_q&&R.VBR_q<=9){var Ye=et[R.VBR_q],Pe=et[R.VBR_q+1],Qe=R.VBR_q_frac;Ce=linear_int(Ye,Pe,Qe)}else Ce=19500}}R.mode==MPEGMode.MONO&&(R.VBR==a.vbr_off||R.VBR==a.vbr_abr)&&(Ce*=1.5),R.lowpassfreq=Ce|0}if(R.out_samplerate==0&&(2*R.lowpassfreq>R.in_samplerate&&(R.lowpassfreq=R.in_samplerate/2),R.out_samplerate=A(R.lowpassfreq|0,R.in_samplerate)),R.lowpassfreq=Math.min(20500,R.lowpassfreq),R.lowpassfreq=Math.min(R.out_samplerate/2,R.lowpassfreq),R.VBR==a.vbr_off&&(R.compression_ratio=R.out_samplerate*16*I.channels_out/(1e3*R.brate)),R.VBR==a.vbr_abr&&(R.compression_ratio=R.out_samplerate*16*I.channels_out/(1e3*R.VBR_mean_bitrate_kbps)),R.bWriteVbrTag||(R.findReplayGain=!1,R.decode_on_the_fly=!1,I.findPeakSample=!1),I.findReplayGain=R.findReplayGain,I.decode_on_the_fly=R.decode_on_the_fly,I.decode_on_the_fly&&(I.findPeakSample=!0),I.findReplayGain&&C.InitGainAnalysis(I.rgdata,R.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return R.internal_flags=null,-6;switch(I.decode_on_the_fly&&!R.decode_only&&(I.hip!=null&&Te.hip_decode_exit(I.hip),I.hip=Te.hip_decode_init()),I.mode_gr=R.out_samplerate<=24e3?1:2,R.framesize=576*I.mode_gr,R.encoder_delay=N.ENCDELAY,I.resample_ratio=R.in_samplerate/R.out_samplerate,R.VBR){case a.vbr_mt:case a.vbr_rh:case a.vbr_mtrh:{var ct=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];R.compression_ratio=ct[R.VBR_q]}break;case a.vbr_abr:R.compression_ratio=R.out_samplerate*16*I.channels_out/(1e3*R.VBR_mean_bitrate_kbps);break;default:R.compression_ratio=R.out_samplerate*16*I.channels_out/(1e3*R.brate);break}if(R.mode==MPEGMode.NOT_SET&&(R.mode=MPEGMode.JOINT_STEREO),R.highpassfreq>0?(I.highpass1=2*R.highpassfreq,R.highpasswidth>=0?I.highpass2=2*(R.highpassfreq+R.highpasswidth):I.highpass2=1*2*R.highpassfreq,I.highpass1/=R.out_samplerate,I.highpass2/=R.out_samplerate):(I.highpass1=0,I.highpass2=0),R.lowpassfreq>0?(I.lowpass2=2*R.lowpassfreq,R.lowpasswidth>=0?(I.lowpass1=2*(R.lowpassfreq-R.lowpasswidth),I.lowpass1<0&&(I.lowpass1=0)):I.lowpass1=1*2*R.lowpassfreq,I.lowpass1/=R.out_samplerate,I.lowpass2/=R.out_samplerate):(I.lowpass1=0,I.lowpass2=0),D(R),I.samplerate_index=h(R.out_samplerate,R),I.samplerate_index<0)return R.internal_flags=null,-1;if(R.VBR==a.vbr_off){if(R.free_format)I.bitrate_index=0;else if(R.brate=_(R.brate,R.version,R.out_samplerate),I.bitrate_index=p(R.brate,R.version,R.out_samplerate),I.bitrate_index<=0)return R.internal_flags=null,-1}else I.bitrate_index=1;R.analysis&&(R.bWriteVbrTag=!1),I.pinfo!=null&&(R.bWriteVbrTag=!1),Q.init_bit_stream_w(I);for(var We=I.samplerate_index+3*R.version+6*(R.out_samplerate<16e3?1:0),He=0;He<N.SBMAX_l+1;He++)I.scalefac_band.l[He]=H.sfBandIndex[We].l[He];for(var He=0;He<N.PSFB21+1;He++){var st=(I.scalefac_band.l[22]-I.scalefac_band.l[21])/N.PSFB21,tn=I.scalefac_band.l[21]+He*st;I.scalefac_band.psfb21[He]=tn}I.scalefac_band.psfb21[N.PSFB21]=576;for(var He=0;He<N.SBMAX_s+1;He++)I.scalefac_band.s[He]=H.sfBandIndex[We].s[He];for(var He=0;He<N.PSFB12+1;He++){var st=(I.scalefac_band.s[13]-I.scalefac_band.s[12])/N.PSFB12,tn=I.scalefac_band.s[12]+He*st;I.scalefac_band.psfb12[He]=tn}I.scalefac_band.psfb12[N.PSFB12]=192,R.version==1?I.sideinfo_len=I.channels_out==1?21:36:I.sideinfo_len=I.channels_out==1?13:21,R.error_protection&&(I.sideinfo_len+=2),K(R),I.Class_ID=B;{var gt;for(gt=0;gt<19;gt++)I.nsPsy.pefirbuf[gt]=700*I.mode_gr*I.channels_out;R.ATHtype==-1&&(R.ATHtype=4)}switch(y(R.VBR_q<=9),y(R.VBR_q>=0),R.VBR){case a.vbr_mt:R.VBR=a.vbr_mtrh;case a.vbr_mtrh:{R.useTemporal==null&&(R.useTemporal=!1),j.apply_preset(R,500-R.VBR_q*10,0),R.quality<0&&(R.quality=LAME_DEFAULT_QUALITY),R.quality<5&&(R.quality=0),R.quality>5&&(R.quality=5),I.PSY.mask_adjust=R.maskingadjust,I.PSY.mask_adjust_short=R.maskingadjust_short,R.experimentalY?I.sfb21_extra=!1:I.sfb21_extra=R.out_samplerate>44e3,I.iteration_loop=new VBRNewIterationLoop(ne);break}case a.vbr_rh:{j.apply_preset(R,500-R.VBR_q*10,0),I.PSY.mask_adjust=R.maskingadjust,I.PSY.mask_adjust_short=R.maskingadjust_short,R.experimentalY?I.sfb21_extra=!1:I.sfb21_extra=R.out_samplerate>44e3,R.quality>6&&(R.quality=6),R.quality<0&&(R.quality=LAME_DEFAULT_QUALITY),I.iteration_loop=new VBROldIterationLoop(ne);break}default:{var Ut;I.sfb21_extra=!1,R.quality<0&&(R.quality=LAME_DEFAULT_QUALITY),Ut=R.VBR,Ut==a.vbr_off&&(R.VBR_mean_bitrate_kbps=R.brate),j.apply_preset(R,R.VBR_mean_bitrate_kbps,0),R.VBR=Ut,I.PSY.mask_adjust=R.maskingadjust,I.PSY.mask_adjust_short=R.maskingadjust_short,Ut==a.vbr_off?I.iteration_loop=new q(ne):I.iteration_loop=new ABRIterationLoop(ne);break}}if(y(R.scale>=0),R.VBR!=a.vbr_off){if(I.VBR_min_bitrate=1,I.VBR_max_bitrate=14,R.out_samplerate<16e3&&(I.VBR_max_bitrate=8),R.VBR_min_bitrate_kbps!=0&&(R.VBR_min_bitrate_kbps=_(R.VBR_min_bitrate_kbps,R.version,R.out_samplerate),I.VBR_min_bitrate=p(R.VBR_min_bitrate_kbps,R.version,R.out_samplerate),I.VBR_min_bitrate<0)||R.VBR_max_bitrate_kbps!=0&&(R.VBR_max_bitrate_kbps=_(R.VBR_max_bitrate_kbps,R.version,R.out_samplerate),I.VBR_max_bitrate=p(R.VBR_max_bitrate_kbps,R.version,R.out_samplerate),I.VBR_max_bitrate<0))return-1;R.VBR_min_bitrate_kbps=E.bitrate_table[R.version][I.VBR_min_bitrate],R.VBR_max_bitrate_kbps=E.bitrate_table[R.version][I.VBR_max_bitrate],R.VBR_mean_bitrate_kbps=Math.min(E.bitrate_table[R.version][I.VBR_max_bitrate],R.VBR_mean_bitrate_kbps),R.VBR_mean_bitrate_kbps=Math.max(E.bitrate_table[R.version][I.VBR_min_bitrate],R.VBR_mean_bitrate_kbps)}return R.tune&&(I.PSY.mask_adjust+=R.tune_value_a,I.PSY.mask_adjust_short+=R.tune_value_a),z(R),y(R.scale>=0),R.athaa_type<0?I.ATH.useAdjust=3:I.ATH.useAdjust=R.athaa_type,I.ATH.aaSensitivityP=Math.pow(10,R.athaa_sensitivity/-10),R.short_blocks==null&&(R.short_blocks=i.short_block_allowed),R.short_blocks==i.short_block_allowed&&(R.mode==MPEGMode.JOINT_STEREO||R.mode==MPEGMode.STEREO)&&(R.short_blocks=i.short_block_coupled),R.quant_comp<0&&(R.quant_comp=1),R.quant_comp_short<0&&(R.quant_comp_short=0),R.msfix<0&&(R.msfix=0),R.exp_nspsytune=R.exp_nspsytune|1,R.internal_flags.nsPsy.attackthre<0&&(R.internal_flags.nsPsy.attackthre=m.NSATTACKTHRE),R.internal_flags.nsPsy.attackthre_s<0&&(R.internal_flags.nsPsy.attackthre_s=m.NSATTACKTHRE_S),y(R.scale>=0),R.scale<0&&(R.scale=1),R.ATHtype<0&&(R.ATHtype=4),R.ATHcurve<0&&(R.ATHcurve=4),R.athaa_loudapprox<0&&(R.athaa_loudapprox=2),R.interChRatio<0&&(R.interChRatio=0),R.useTemporal==null&&(R.useTemporal=!0),I.slot_lag=I.frac_SpF=0,R.VBR==a.vbr_off&&(I.slot_lag=I.frac_SpF=(R.version+1)*72e3*R.brate%R.out_samplerate|0),H.iteration_init(R),le.psymodel_init(R),y(R.scale>=0),0};function L(R,I){(R.in_buffer_0==null||R.in_buffer_nsamples<I)&&(R.in_buffer_0=o(I),R.in_buffer_1=o(I),R.in_buffer_nsamples=I)}this.lame_encode_flush=function(R,I,Ce,qe){var et=R.internal_flags,Ye=d([2,1152]),Pe=0,Qe,ct,We,He,st=et.mf_samples_to_encode-N.POSTDELAY,tn=ae(R);if(et.mf_samples_to_encode<1)return 0;for(Qe=0,R.in_samplerate!=R.out_samplerate&&(st+=16*R.out_samplerate/R.in_samplerate),We=R.framesize-st%R.framesize,We<576&&(We+=R.framesize),R.encoder_padding=We,He=(st+We)/R.framesize;He>0&&Pe>=0;){var gt=tn-et.mf_size,Ut=R.frameNum;gt*=R.in_samplerate,gt/=R.out_samplerate,gt>1152&&(gt=1152),gt<1&&(gt=1),ct=qe-Qe,qe==0&&(ct=0),Pe=this.lame_encode_buffer(R,Ye[0],Ye[1],gt,I,Ce,ct),Ce+=Pe,Qe+=Pe,He-=Ut!=R.frameNum?1:0}if(et.mf_samples_to_encode=0,Pe<0||(ct=qe-Qe,qe==0&&(ct=0),Q.flush_bitstream(R),Pe=Q.copy_buffer(et,I,Ce,ct,1),Pe<0))return Pe;if(Ce+=Pe,Qe+=Pe,ct=qe-Qe,qe==0&&(ct=0),R.write_id3tag_automatic){if(k.id3tag_write_v1(R),Pe=Q.copy_buffer(et,I,Ce,ct,0),Pe<0)return Pe;Qe+=Pe}return Qe},this.lame_encode_buffer=function(R,I,Ce,qe,et,Ye,Pe){var Qe=R.internal_flags,ct=[null,null];if(Qe.Class_ID!=B)return-3;if(qe==0)return 0;L(Qe,qe),ct[0]=Qe.in_buffer_0,ct[1]=Qe.in_buffer_1;for(var We=0;We<qe;We++)ct[0][We]=I[We],Qe.channels_in>1&&(ct[1][We]=Ce[We]);return oe(R,ct[0],ct[1],qe,et,Ye,Pe)};function ae(R){var I=N.BLKSIZE+R.framesize-N.FFTOFFSET;return I=Math.max(I,512+R.framesize-32),y(g.MFSIZE>=I),I}function oe(R,I,Ce,qe,et,Ye,Pe){var Qe=R.internal_flags,ct=0,We,He,st,tn,gt,Ut=[null,null],qt=[null,null];if(Qe.Class_ID!=B)return-3;if(qe==0)return 0;if(gt=Q.copy_buffer(Qe,et,Ye,Pe,0),gt<0)return gt;if(Ye+=gt,ct+=gt,qt[0]=I,qt[1]=Ce,V.NEQ(R.scale,0)&&V.NEQ(R.scale,1))for(He=0;He<qe;++He)qt[0][He]*=R.scale,Qe.channels_out==2&&(qt[1][He]*=R.scale);if(V.NEQ(R.scale_left,0)&&V.NEQ(R.scale_left,1))for(He=0;He<qe;++He)qt[0][He]*=R.scale_left;if(V.NEQ(R.scale_right,0)&&V.NEQ(R.scale_right,1))for(He=0;He<qe;++He)qt[1][He]*=R.scale_right;if(R.num_channels==2&&Qe.channels_out==1)for(He=0;He<qe;++He)qt[0][He]=.5*(qt[0][He]+qt[1][He]),qt[1][He]=0;tn=ae(R),Ut[0]=Qe.mfbuf[0],Ut[1]=Qe.mfbuf[1];for(var Ot=0;qe>0;){var Bt=[null,null],cn=0,nn=0;Bt[0]=qt[0],Bt[1]=qt[1];var Xn=new ke;if(nt(R,Ut,Bt,Ot,qe,Xn),cn=Xn.n_in,nn=Xn.n_out,Qe.findReplayGain&&!Qe.decode_on_the_fly&&C.AnalyzeSamples(Qe.rgdata,Ut[0],Qe.mf_size,Ut[1],Qe.mf_size,nn,Qe.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(qe-=cn,Ot+=cn,Qe.channels_out==2,Qe.mf_size+=nn,y(Qe.mf_size<=g.MFSIZE),Qe.mf_samples_to_encode<1&&(Qe.mf_samples_to_encode=N.ENCDELAY+N.POSTDELAY),Qe.mf_samples_to_encode+=nn,Qe.mf_size>=tn){var is=Pe-ct;if(Pe==0&&(is=0),We=Ee(R,Ut[0],Ut[1],et,Ye,is),We<0)return We;for(Ye+=We,ct+=We,Qe.mf_size-=R.framesize,Qe.mf_samples_to_encode-=R.framesize,st=0;st<Qe.channels_out;st++)for(He=0;He<Qe.mf_size;He++)Ut[st][He]=Ut[st][He+R.framesize]}}return y(qe==0),ct}function Ee(R,I,Ce,qe,et,Ye){var Pe=G.enc.lame_encode_mp3_frame(R,I,Ce,qe,et,Ye);return R.frameNum++,Pe}function ke(){this.n_in=0,this.n_out=0}function Ve(){this.num_used=0}function je(R,I){return I!=0?je(I,R%I):R}function ge(R,I,Ce){var qe=Math.PI*I;R/=Ce,R<0&&(R=0),R>1&&(R=1);var et=R-.5,Ye=.42-.5*Math.cos(2*R*Math.PI)+.08*Math.cos(4*R*Math.PI);return Math.abs(et)<1e-9?qe/Math.PI:Ye*Math.sin(Ce*qe*et)/(Math.PI*Ce*et)}function Ie(R,I,Ce,qe,et,Ye,Pe,Qe,ct){var We=R.internal_flags,He,st=0,tn,gt=R.out_samplerate/je(R.out_samplerate,R.in_samplerate);gt>g.BPC&&(gt=g.BPC);var Ut=Math.abs(We.resample_ratio-Math.floor(.5+We.resample_ratio))<1e-4?1:0,qt=1/We.resample_ratio;qt>1&&(qt=1);var Ot=31;Ot%2==0&&--Ot,Ot+=Ut;var Bt=Ot+1;if(We.fill_buffer_resample_init==0){for(We.inbuf_old[0]=o(Bt),We.inbuf_old[1]=o(Bt),He=0;He<=2*gt;++He)We.blackfilt[He]=o(Bt);for(We.itime[0]=0,We.itime[1]=0,st=0;st<=2*gt;st++){var cn=0,nn=(st-gt)/(2*gt);for(He=0;He<=Ot;He++)cn+=We.blackfilt[st][He]=ge(He-nn,qt,Ot);for(He=0;He<=Ot;He++)We.blackfilt[st][He]/=cn}We.fill_buffer_resample_init=1}var Xn=We.inbuf_old[ct];for(tn=0;tn<qe;tn++){var is,Yn;if(is=tn*We.resample_ratio,st=0|Math.floor(is-We.itime[ct]),Ot+st-Ot/2>=Pe)break;var nn=is-We.itime[ct]-(st+.5*(Ot%2));y(Math.abs(nn)<=.501),Yn=0|Math.floor(nn*2*gt+gt+.5);var fs=0;for(He=0;He<=Ot;++He){var zn=0|He+st-Ot/2,ws;y(zn<Pe),y(zn+Bt>=0),ws=zn<0?Xn[Bt+zn]:et[Ye+zn],fs+=ws*We.blackfilt[Yn][He]}I[Ce+tn]=fs}if(Qe.num_used=Math.min(Pe,Ot+st-Ot/2),We.itime[ct]+=Qe.num_used-tn*We.resample_ratio,Qe.num_used>=Bt)for(He=0;He<Bt;He++)Xn[He]=et[Ye+Qe.num_used+He-Bt];else{var Rn=Bt-Qe.num_used;for(He=0;He<Rn;++He)Xn[He]=Xn[He+Qe.num_used];for(st=0;He<Bt;++He,++st)Xn[He]=et[Ye+st];y(st==Qe.num_used)}return tn}function nt(R,I,Ce,qe,et,Ye){var Pe=R.internal_flags;if(Pe.resample_ratio<.9999||Pe.resample_ratio>1.0001)for(var Qe=0;Qe<Pe.channels_out;Qe++){var ct=new Ve;Ye.n_out=Ie(R,I[Qe],Pe.mf_size,R.framesize,Ce[Qe],qe,et,ct,Qe),Ye.n_in=ct.num_used}else{Ye.n_out=Math.min(R.framesize,et),Ye.n_in=Ye.n_out;for(var We=0;We<Ye.n_out;++We)I[0][Pe.mf_size+We]=Ce[0][qe+We],Pe.channels_out==2&&(I[1][Pe.mf_size+We]=Ce[1][qe+We])}}}return Ah=M,Ah}var xh,dm;function Wb(){if(dm)return xh;dm=1;var l=un();l.System;var t=l.VbrMode;l.Float,l.ShortBlock,l.Util,l.Arrays,l.new_array_n,l.new_byte,l.new_double,l.new_float,l.new_float_n,l.new_int,l.new_int_n,l.assert;function a(){function i(w,q,V,E,N,M,G,b,Z,C,Q,j,H,ne,le){this.vbr_q=w,this.quant_comp=q,this.quant_comp_s=V,this.expY=E,this.st_lrm=N,this.st_s=M,this.masking_adj=G,this.masking_adj_short=b,this.ath_lower=Z,this.ath_curve=C,this.ath_sensitivity=Q,this.interch=j,this.safejoint=H,this.sfb21mod=ne,this.msfix=le}function o(w,q,V,E,N,M,G,b,Z,C,Q,j,H,ne){this.quant_comp=q,this.quant_comp_s=V,this.safejoint=E,this.nsmsfix=N,this.st_lrm=M,this.st_s=G,this.nsbass=b,this.scale=Z,this.masking_adj=C,this.ath_lower=Q,this.ath_curve=j,this.interch=H,this.sfscale=ne}var c;this.setModules=function(w){c=w};var d=[new i(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new i(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new i(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new i(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new i(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new i(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new i(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new i(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new i(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new i(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new i(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],y=[new i(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new i(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new i(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new i(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new i(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new i(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new i(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new i(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new i(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new i(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new i(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function m(w,q,V){var E=w.VBR==t.vbr_rh?d:y,N=w.VBR_q_frac,M=E[q],G=E[q+1],b=M;M.st_lrm=M.st_lrm+N*(G.st_lrm-M.st_lrm),M.st_s=M.st_s+N*(G.st_s-M.st_s),M.masking_adj=M.masking_adj+N*(G.masking_adj-M.masking_adj),M.masking_adj_short=M.masking_adj_short+N*(G.masking_adj_short-M.masking_adj_short),M.ath_lower=M.ath_lower+N*(G.ath_lower-M.ath_lower),M.ath_curve=M.ath_curve+N*(G.ath_curve-M.ath_curve),M.ath_sensitivity=M.ath_sensitivity+N*(G.ath_sensitivity-M.ath_sensitivity),M.interch=M.interch+N*(G.interch-M.interch),M.msfix=M.msfix+N*(G.msfix-M.msfix),T(w,b.vbr_q),V!=0?w.quant_comp=b.quant_comp:Math.abs(w.quant_comp- -1)>0||(w.quant_comp=b.quant_comp),V!=0?w.quant_comp_short=b.quant_comp_s:Math.abs(w.quant_comp_short- -1)>0||(w.quant_comp_short=b.quant_comp_s),b.expY!=0&&(w.experimentalY=b.expY!=0),V!=0?w.internal_flags.nsPsy.attackthre=b.st_lrm:Math.abs(w.internal_flags.nsPsy.attackthre- -1)>0||(w.internal_flags.nsPsy.attackthre=b.st_lrm),V!=0?w.internal_flags.nsPsy.attackthre_s=b.st_s:Math.abs(w.internal_flags.nsPsy.attackthre_s- -1)>0||(w.internal_flags.nsPsy.attackthre_s=b.st_s),V!=0?w.maskingadjust=b.masking_adj:Math.abs(w.maskingadjust-0)>0||(w.maskingadjust=b.masking_adj),V!=0?w.maskingadjust_short=b.masking_adj_short:Math.abs(w.maskingadjust_short-0)>0||(w.maskingadjust_short=b.masking_adj_short),V!=0?w.ATHlower=-b.ath_lower/10:Math.abs(-w.ATHlower*10-0)>0||(w.ATHlower=-b.ath_lower/10),V!=0?w.ATHcurve=b.ath_curve:Math.abs(w.ATHcurve- -1)>0||(w.ATHcurve=b.ath_curve),V!=0?w.athaa_sensitivity=b.ath_sensitivity:Math.abs(w.athaa_sensitivity- -1)>0||(w.athaa_sensitivity=b.ath_sensitivity),b.interch>0&&(V!=0?w.interChRatio=b.interch:Math.abs(w.interChRatio- -1)>0||(w.interChRatio=b.interch)),b.safejoint>0&&(w.exp_nspsytune=w.exp_nspsytune|b.safejoint),b.sfb21mod>0&&(w.exp_nspsytune=w.exp_nspsytune|b.sfb21mod<<20),V!=0?w.msfix=b.msfix:Math.abs(w.msfix- -1)>0||(w.msfix=b.msfix),V==0&&(w.VBR_q=q,w.VBR_q_frac=N)}var v=[new o(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new o(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new o(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new o(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new o(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new o(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new o(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new o(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new o(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new o(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new o(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new o(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new o(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new o(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new o(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new o(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new o(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function g(w,q,V){var E=q,N=c.nearestBitrateFullIndex(q);if(w.VBR=t.vbr_abr,w.VBR_mean_bitrate_kbps=E,w.VBR_mean_bitrate_kbps=Math.min(w.VBR_mean_bitrate_kbps,320),w.VBR_mean_bitrate_kbps=Math.max(w.VBR_mean_bitrate_kbps,8),w.brate=w.VBR_mean_bitrate_kbps,w.VBR_mean_bitrate_kbps>320&&(w.disable_reservoir=!0),v[N].safejoint>0&&(w.exp_nspsytune=w.exp_nspsytune|2),v[N].sfscale>0&&(w.internal_flags.noise_shaping=2),Math.abs(v[N].nsbass)>0){var M=int(v[N].nsbass*4);M<0&&(M+=64),w.exp_nspsytune=w.exp_nspsytune|M<<2}return V!=0?w.quant_comp=v[N].quant_comp:Math.abs(w.quant_comp- -1)>0||(w.quant_comp=v[N].quant_comp),V!=0?w.quant_comp_short=v[N].quant_comp_s:Math.abs(w.quant_comp_short- -1)>0||(w.quant_comp_short=v[N].quant_comp_s),V!=0?w.msfix=v[N].nsmsfix:Math.abs(w.msfix- -1)>0||(w.msfix=v[N].nsmsfix),V!=0?w.internal_flags.nsPsy.attackthre=v[N].st_lrm:Math.abs(w.internal_flags.nsPsy.attackthre- -1)>0||(w.internal_flags.nsPsy.attackthre=v[N].st_lrm),V!=0?w.internal_flags.nsPsy.attackthre_s=v[N].st_s:Math.abs(w.internal_flags.nsPsy.attackthre_s- -1)>0||(w.internal_flags.nsPsy.attackthre_s=v[N].st_s),V!=0?w.scale=v[N].scale:Math.abs(w.scale- -1)>0||(w.scale=v[N].scale),V!=0?w.maskingadjust=v[N].masking_adj:Math.abs(w.maskingadjust-0)>0||(w.maskingadjust=v[N].masking_adj),v[N].masking_adj>0?V!=0?w.maskingadjust_short=v[N].masking_adj*.9:Math.abs(w.maskingadjust_short-0)>0||(w.maskingadjust_short=v[N].masking_adj*.9):V!=0?w.maskingadjust_short=v[N].masking_adj*1.1:Math.abs(w.maskingadjust_short-0)>0||(w.maskingadjust_short=v[N].masking_adj*1.1),V!=0?w.ATHlower=-v[N].ath_lower/10:Math.abs(-w.ATHlower*10-0)>0||(w.ATHlower=-v[N].ath_lower/10),V!=0?w.ATHcurve=v[N].ath_curve:Math.abs(w.ATHcurve- -1)>0||(w.ATHcurve=v[N].ath_curve),V!=0?w.interChRatio=v[N].interch:Math.abs(w.interChRatio- -1)>0||(w.interChRatio=v[N].interch),q}this.apply_preset=function(w,q,V){switch(q){case Lame.R3MIX:{q=Lame.V3,w.VBR=t.vbr_mtrh;break}case Lame.MEDIUM:{q=Lame.V4,w.VBR=t.vbr_rh;break}case Lame.MEDIUM_FAST:{q=Lame.V4,w.VBR=t.vbr_mtrh;break}case Lame.STANDARD:{q=Lame.V2,w.VBR=t.vbr_rh;break}case Lame.STANDARD_FAST:{q=Lame.V2,w.VBR=t.vbr_mtrh;break}case Lame.EXTREME:{q=Lame.V0,w.VBR=t.vbr_rh;break}case Lame.EXTREME_FAST:{q=Lame.V0,w.VBR=t.vbr_mtrh;break}case Lame.INSANE:return q=320,w.preset=q,g(w,q,V),w.VBR=t.vbr_off,q}switch(w.preset=q,q){case Lame.V9:return m(w,9,V),q;case Lame.V8:return m(w,8,V),q;case Lame.V7:return m(w,7,V),q;case Lame.V6:return m(w,6,V),q;case Lame.V5:return m(w,5,V),q;case Lame.V4:return m(w,4,V),q;case Lame.V3:return m(w,3,V),q;case Lame.V2:return m(w,2,V),q;case Lame.V1:return m(w,1,V),q;case Lame.V0:return m(w,0,V),q}return 8<=q&&q<=320?g(w,q,V):(w.preset=0,q)};function T(w,q){var V=0;return 0>q&&(V=-1,q=0),9<q&&(V=-1,q=9),w.VBR_q=q,w.VBR_q_frac=0,V}}return xh=a,xh}var wh,_m;function Kb(){if(_m)return wh;_m=1;function l(){this.setModules=function(t,a){}}return wh=l,wh}var Eh,mm;function Pb(){if(mm)return Eh;mm=1;function l(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}return Eh=l,Eh}var Mh,pm;function Jb(){if(pm)return Mh;pm=1;var l=un(),t=l.new_float,a=l.new_int;l.assert;function i(){this.global_gain=0,this.sfb_count1=0,this.step=a(39),this.noise=t(39),this.noise_log=t(39)}return Mh=i,Mh}var Rh,vm;function $b(){if(vm)return Rh;vm=1;var l=un(),t=l.System,a=l.VbrMode;l.Float,l.ShortBlock;var i=l.Util,o=l.Arrays;l.new_array_n,l.new_byte,l.new_double;var c=l.new_float;l.new_float_n,l.new_int,l.new_int_n;var d=l.assert,y=Kb(),m=Pb(),v=Jb(),g=Jn(),T=V1(),w=Fu();function q(){var V;this.rv=null;var E;this.qupvt=null;var N,M=new y,G;this.setModules=function(W,S,B,X){V=W,E=S,this.rv=S,N=B,this.qupvt=B,G=X,M.setModules(N,G)},this.ms_convert=function(W,S){for(var B=0;B<576;++B){var X=W.tt[S][0].xr[B],P=W.tt[S][1].xr[B];W.tt[S][0].xr[B]=(X+P)*(i.SQRT2*.5),W.tt[S][1].xr[B]=(X-P)*(i.SQRT2*.5)}};function b(W,S,B,X){X=0;for(var P=0;P<=B;++P){var A=Math.abs(W.xr[P]);X+=A,S[P]=Math.sqrt(A*Math.sqrt(A)),S[P]>W.xrpow_max&&(W.xrpow_max=S[P])}return X}this.init_xrpow=function(W,S,B){var X=0,P=0|S.max_nonzero_coeff;if(d(B!=null),S.xrpow_max=0,d(0<=P&&P<=575),o.fill(B,P,576,0),X=b(S,B,P,X),X>1e-20){var A=0;(W.substep_shaping&2)!=0&&(A=1);for(var h=0;h<S.psymax;h++)W.pseudohalf[h]=A;return!0}return o.fill(S.l3_enc,0,576,0),!1};function Z(W,S){var B=W.ATH,X=S.xr;if(S.block_type!=g.SHORT_TYPE)for(var P=!1,A=g.PSFB21-1;A>=0&&!P;A--){var h=W.scalefac_band.psfb21[A],_=W.scalefac_band.psfb21[A+1],p=N.athAdjust(B.adjust,B.psfb21[A],B.floor);W.nsPsy.longfact[21]>1e-12&&(p*=W.nsPsy.longfact[21]);for(var x=_-1;x>=h;x--)if(Math.abs(X[x])<p)X[x]=0;else{P=!0;break}}else for(var D=0;D<3;D++)for(var P=!1,A=g.PSFB12-1;A>=0&&!P;A--){var h=W.scalefac_band.s[12]*3+(W.scalefac_band.s[13]-W.scalefac_band.s[12])*D+(W.scalefac_band.psfb12[A]-W.scalefac_band.psfb12[0]),_=h+(W.scalefac_band.psfb12[A+1]-W.scalefac_band.psfb12[A]),z=N.athAdjust(B.adjust,B.psfb12[A],B.floor);W.nsPsy.shortfact[12]>1e-12&&(z*=W.nsPsy.shortfact[12]);for(var x=_-1;x>=h;x--)if(Math.abs(X[x])<z)X[x]=0;else{P=!0;break}}}this.init_outer_loop=function(W,S){S.part2_3_length=0,S.big_values=0,S.count1=0,S.global_gain=210,S.scalefac_compress=0,S.table_select[0]=0,S.table_select[1]=0,S.table_select[2]=0,S.subblock_gain[0]=0,S.subblock_gain[1]=0,S.subblock_gain[2]=0,S.subblock_gain[3]=0,S.region0_count=0,S.region1_count=0,S.preflag=0,S.scalefac_scale=0,S.count1table_select=0,S.part2_length=0,S.sfb_lmax=g.SBPSY_l,S.sfb_smin=g.SBPSY_s,S.psy_lmax=W.sfb21_extra?g.SBMAX_l:g.SBPSY_l,S.psymax=S.psy_lmax,S.sfbmax=S.sfb_lmax,S.sfbdivide=11;for(var B=0;B<g.SBMAX_l;B++)S.width[B]=W.scalefac_band.l[B+1]-W.scalefac_band.l[B],S.window[B]=3;if(S.block_type==g.SHORT_TYPE){var X=c(576);S.sfb_smin=0,S.sfb_lmax=0,S.mixed_block_flag!=0&&(S.sfb_smin=3,S.sfb_lmax=W.mode_gr*2+4),S.psymax=S.sfb_lmax+3*((W.sfb21_extra?g.SBMAX_s:g.SBPSY_s)-S.sfb_smin),S.sfbmax=S.sfb_lmax+3*(g.SBPSY_s-S.sfb_smin),S.sfbdivide=S.sfbmax-18,S.psy_lmax=S.sfb_lmax;var P=W.scalefac_band.l[S.sfb_lmax];t.arraycopy(S.xr,0,X,0,576);for(var B=S.sfb_smin;B<g.SBMAX_s;B++)for(var A=W.scalefac_band.s[B],h=W.scalefac_band.s[B+1],_=0;_<3;_++)for(var p=A;p<h;p++)S.xr[P++]=X[3*p+_];for(var x=S.sfb_lmax,B=S.sfb_smin;B<g.SBMAX_s;B++)S.width[x]=S.width[x+1]=S.width[x+2]=W.scalefac_band.s[B+1]-W.scalefac_band.s[B],S.window[x]=0,S.window[x+1]=1,S.window[x+2]=2,x+=3}S.count1bits=0,S.sfb_partition_table=N.nr_of_sfb_block[0][0],S.slen[0]=0,S.slen[1]=0,S.slen[2]=0,S.slen[3]=0,S.max_nonzero_coeff=575,o.fill(S.scalefac,0),Z(W,S)};function C(W){this.ordinal=W}C.BINSEARCH_NONE=new C(0),C.BINSEARCH_UP=new C(1),C.BINSEARCH_DOWN=new C(2);function Q(W,S,B,X,P){var A,h=W.CurrentStep[X],_=!1,p=W.OldValue[X],x=C.BINSEARCH_NONE;for(S.global_gain=p,B-=S.part2_length,d(h!=0);;){var D;if(A=G.count_bits(W,P,S,null),h==1||A==B)break;A>B?(x==C.BINSEARCH_DOWN&&(_=!0),_&&(h/=2),x=C.BINSEARCH_UP,D=h):(x==C.BINSEARCH_UP&&(_=!0),_&&(h/=2),x=C.BINSEARCH_DOWN,D=-h),S.global_gain+=D,S.global_gain<0&&(S.global_gain=0,_=!0),S.global_gain>255&&(S.global_gain=255,_=!0)}for(d(S.global_gain>=0),d(S.global_gain<256);A>B&&S.global_gain<255;)S.global_gain++,A=G.count_bits(W,P,S,null);return W.CurrentStep[X]=p-S.global_gain>=4?4:2,W.OldValue[X]=S.global_gain,S.part2_3_length=A,A}this.trancate_smallspectrums=function(W,S,B,X){var P=c(w.SFBMAX);if(!((W.substep_shaping&4)==0&&S.block_type==g.SHORT_TYPE||(W.substep_shaping&128)!=0)){N.calc_noise(S,B,P,new m,null);for(var h=0;h<576;h++){var A=0;S.l3_enc[h]!=0&&(A=Math.abs(S.xr[h])),X[h]=A}var h=0,_=8;S.block_type==g.SHORT_TYPE&&(_=6);do{var p,x,D,z,K=S.width[_];if(h+=K,!(P[_]>=1)&&(o.sort(X,h-K,K),!BitStream.EQ(X[h-1],0))){p=(1-P[_])*B[_],x=0,z=0;do{var L;for(D=1;z+D<K&&!BitStream.NEQ(X[z+h-K],X[z+h+D-K]);D++);if(L=X[z+h-K]*X[z+h-K]*D,p<L){z!=0&&(x=X[z+h-K-1]);break}p-=L,z+=D}while(z<K);if(!BitStream.EQ(x,0))do Math.abs(S.xr[h-K])<=x&&(S.l3_enc[h-K]=0);while(--K>0)}}while(++_<S.psymax);S.part2_3_length=G.noquant_count_bits(W,S,null)}};function j(W){for(var S=0;S<W.sfbmax;S++)if(W.scalefac[S]+W.subblock_gain[W.window[S]]==0)return!1;return!0}function H(W){return i.FAST_LOG10(.368+.632*W*W*W)}function ne(W,S){for(var B=1e-37,X=0;X<S.psymax;X++)B+=H(W[X]);return Math.max(1e-20,B)}function le(W,S,B,X,P){var A;switch(W){default:case 9:{S.over_count>0?(A=B.over_SSD<=S.over_SSD,B.over_SSD==S.over_SSD&&(A=B.bits<S.bits)):A=B.max_noise<0&&B.max_noise*10+B.bits<=S.max_noise*10+S.bits;break}case 0:A=B.over_count<S.over_count||B.over_count==S.over_count&&B.over_noise<S.over_noise||B.over_count==S.over_count&&BitStream.EQ(B.over_noise,S.over_noise)&&B.tot_noise<S.tot_noise;break;case 8:B.max_noise=ne(P,X);case 1:A=B.max_noise<S.max_noise;break;case 2:A=B.tot_noise<S.tot_noise;break;case 3:A=B.tot_noise<S.tot_noise&&B.max_noise<S.max_noise;break;case 4:A=B.max_noise<=0&&S.max_noise>.2||B.max_noise<=0&&S.max_noise<0&&S.max_noise>B.max_noise-.2&&B.tot_noise<S.tot_noise||B.max_noise<=0&&S.max_noise>0&&S.max_noise>B.max_noise-.2&&B.tot_noise<S.tot_noise+S.over_noise||B.max_noise>0&&S.max_noise>-.05&&S.max_noise>B.max_noise-.1&&B.tot_noise+B.over_noise<S.tot_noise+S.over_noise||B.max_noise>0&&S.max_noise>-.1&&S.max_noise>B.max_noise-.15&&B.tot_noise+B.over_noise+B.over_noise<S.tot_noise+S.over_noise+S.over_noise;break;case 5:A=B.over_noise<S.over_noise||BitStream.EQ(B.over_noise,S.over_noise)&&B.tot_noise<S.tot_noise;break;case 6:A=B.over_noise<S.over_noise||BitStream.EQ(B.over_noise,S.over_noise)&&(B.max_noise<S.max_noise||BitStream.EQ(B.max_noise,S.max_noise)&&B.tot_noise<=S.tot_noise);break;case 7:A=B.over_count<S.over_count||B.over_noise<S.over_noise;break}return S.over_count==0&&(A=A&&B.bits<S.bits),A}function ee(W,S,B,X,P){var A=W.internal_flags,h;S.scalefac_scale==0?h=1.2968395546510096:h=1.6817928305074292;for(var _=0,p=0;p<S.sfbmax;p++)_<B[p]&&(_=B[p]);var x=A.noise_shaping_amp;switch(x==3&&(P?x=2:x=1),x){case 2:break;case 1:_>1?_=Math.pow(_,.5):_*=.95;break;case 0:default:_>1?_=1:_*=.95;break}for(var D=0,p=0;p<S.sfbmax;p++){var z=S.width[p],K;if(D+=z,!(B[p]<_)){if((A.substep_shaping&2)!=0&&(A.pseudohalf[p]=A.pseudohalf[p]==0?1:0,A.pseudohalf[p]==0&&A.noise_shaping_amp==2))return;for(S.scalefac[p]++,K=-z;K<0;K++)X[D+K]*=h,X[D+K]>S.xrpow_max&&(S.xrpow_max=X[D+K]);if(A.noise_shaping_amp==2)return}}}function k(W,S){for(var B=1.2968395546510096,X=0,P=0;P<W.sfbmax;P++){var A=W.width[P],h=W.scalefac[P];if(W.preflag!=0&&(h+=N.pretab[P]),X+=A,(h&1)!=0){h++;for(var _=-A;_<0;_++)S[X+_]*=B,S[X+_]>W.xrpow_max&&(W.xrpow_max=S[X+_])}W.scalefac[P]=h>>1}W.preflag=0,W.scalefac_scale=1}function Te(W,S,B){var X,P=S.scalefac;for(X=0;X<S.sfb_lmax;X++)if(P[X]>=16)return!0;for(var A=0;A<3;A++){var h=0,_=0;for(X=S.sfb_lmax+A;X<S.sfbdivide;X+=3)h<P[X]&&(h=P[X]);for(;X<S.sfbmax;X+=3)_<P[X]&&(_=P[X]);if(!(h<16&&_<8)){if(S.subblock_gain[A]>=7)return!0;S.subblock_gain[A]++;var p=W.scalefac_band.l[S.sfb_lmax];for(X=S.sfb_lmax+A;X<S.sfbmax;X+=3){var x,D=S.width[X],z=P[X];if(d(z>=0),z=z-(4>>S.scalefac_scale),z>=0){P[X]=z,p+=D*3;continue}P[X]=0;{var K=210+(z<<S.scalefac_scale+1);x=N.IPOW20(K)}p+=D*(A+1);for(var L=-D;L<0;L++)B[p+L]*=x,B[p+L]>S.xrpow_max&&(S.xrpow_max=B[p+L]);p+=D*(3-A-1)}{var x=N.IPOW20(202);p+=S.width[X]*(A+1);for(var L=-S.width[X];L<0;L++)B[p+L]*=x,B[p+L]>S.xrpow_max&&(S.xrpow_max=B[p+L])}}}return!1}function $(W,S,B,X,P){var A=W.internal_flags;ee(W,S,B,X,P);var h=j(S);return h?!1:(A.mode_gr==2?h=G.scale_bitcount(S):h=G.scale_bitcount_lsf(A,S),h?(A.noise_shaping>1&&(o.fill(A.pseudohalf,0),S.scalefac_scale==0?(k(S,X),h=!1):S.block_type==g.SHORT_TYPE&&A.subblock_gain>0&&(h=Te(A,S,X)||j(S))),h||(A.mode_gr==2?h=G.scale_bitcount(S):h=G.scale_bitcount_lsf(A,S)),!h):!0)}this.outer_loop=function(W,S,B,X,P,A){var h=W.internal_flags,_=new T,p=c(576),x=c(w.SFBMAX),D=new m,z,K=new v,L=9999999,ae=!1,oe=!1,Ee=0;if(Q(h,S,A,P,X),h.noise_shaping==0)return 100;N.calc_noise(S,B,x,D,K),D.bits=S.part2_3_length,_.assign(S);var ke=0;for(t.arraycopy(X,0,p,0,576);!ae;){do{var Ve=new m,je,ge=255;if((h.substep_shaping&2)!=0?je=20:je=3,h.sfb21_extra&&(x[_.sfbmax]>1||_.block_type==g.SHORT_TYPE&&(x[_.sfbmax+1]>1||x[_.sfbmax+2]>1))||!$(W,_,x,X,oe))break;_.scalefac_scale!=0&&(ge=254);var Ie=A-_.part2_length;if(Ie<=0)break;for(;(_.part2_3_length=G.count_bits(h,X,_,K))>Ie&&_.global_gain<=ge;)_.global_gain++;if(_.global_gain>ge)break;if(D.over_count==0){for(;(_.part2_3_length=G.count_bits(h,X,_,K))>L&&_.global_gain<=ge;)_.global_gain++;if(_.global_gain>ge)break}if(N.calc_noise(_,B,x,Ve,K),Ve.bits=_.part2_3_length,S.block_type!=g.SHORT_TYPE?z=W.quant_comp:z=W.quant_comp_short,z=le(z,D,Ve,_,x)?1:0,z!=0)L=S.part2_3_length,D=Ve,S.assign(_),ke=0,t.arraycopy(X,0,p,0,576);else if(h.full_outer_loop==0&&(++ke>je&&D.over_count==0||h.noise_shaping_amp==3&&oe&&ke>30||h.noise_shaping_amp==3&&oe&&_.global_gain-Ee>15))break}while(_.global_gain+_.scalefac_scale<255);h.noise_shaping_amp==3?oe?ae=!0:(_.assign(S),t.arraycopy(p,0,X,0,576),ke=0,Ee=_.global_gain,oe=!0):ae=!0}return d(S.global_gain+S.scalefac_scale<=255),W.VBR==a.vbr_rh||W.VBR==a.vbr_mtrh?t.arraycopy(p,0,X,0,576):(h.substep_shaping&1)!=0&&trancate_smallspectrums(h,S,B,X),D.over_count},this.iteration_finish_one=function(W,S,B){var X=W.l3_side,P=X.tt[S][B];G.best_scalefac_store(W,S,B,X),W.use_best_huffman==1&&G.best_huffman_divide(W,P),E.ResvAdjust(W,P)},this.VBR_encode_granule=function(W,S,B,X,P,A,h){var _=W.internal_flags,p=new T,x=c(576),D=h,z=h+1,K=(h+A)/2,L,ae,oe=0,Ee=_.sfb21_extra;d(D<=LameInternalFlags.MAX_BITS_PER_CHANNEL),o.fill(p.l3_enc,0);do d(K>=A),d(K<=h),d(A<=h),K>D-42?_.sfb21_extra=!1:_.sfb21_extra=Ee,ae=outer_loop(W,S,B,X,P,K),ae<=0?(oe=1,z=S.part2_3_length,p.assign(S),t.arraycopy(X,0,x,0,576),h=z-32,L=h-A,K=(h+A)/2):(A=K+32,L=h-A,K=(h+A)/2,oe!=0&&(oe=2,S.assign(p),t.arraycopy(x,0,X,0,576)));while(L>12);_.sfb21_extra=Ee,oe==2&&t.arraycopy(p.l3_enc,0,S.l3_enc,0,576),d(S.part2_3_length<=D)},this.get_framebits=function(W,S){var B=W.internal_flags;B.bitrate_index=B.VBR_min_bitrate;var X=V.getframebits(W);B.bitrate_index=1,X=V.getframebits(W);for(var P=1;P<=B.VBR_max_bitrate;P++){B.bitrate_index=P;var A=new MeanBits(X);S[P]=E.ResvFrameBegin(W,A),X=A.bits}},this.VBR_old_prepare=function(W,S,B,X,P,A,h,_,p){var x=W.internal_flags,D,z=0,K=1,L=0;x.bitrate_index=x.VBR_max_bitrate;var ae=E.ResvFrameBegin(W,new MeanBits(0))/x.mode_gr;get_framebits(W,A);for(var oe=0;oe<x.mode_gr;oe++){var Ee=N.on_pe(W,S,_[oe],ae,oe,0);x.mode_ext==g.MPG_MD_MS_LR&&(ms_convert(x.l3_side,oe),N.reduce_side(_[oe],B[oe],ae,Ee));for(var ke=0;ke<x.channels_out;++ke){var Ve=x.l3_side.tt[oe][ke];Ve.block_type!=g.SHORT_TYPE?(z=1.28/(1+Math.exp(3.5-S[oe][ke]/300))-.05,D=x.PSY.mask_adjust-z):(z=2.56/(1+Math.exp(3.5-S[oe][ke]/300))-.14,D=x.PSY.mask_adjust_short-z),x.masking_lower=Math.pow(10,D*.1),init_outer_loop(x,Ve),p[oe][ke]=N.calc_xmin(W,X[oe][ke],Ve,P[oe][ke]),p[oe][ke]!=0&&(K=0),h[oe][ke]=126,L+=_[oe][ke]}}for(var oe=0;oe<x.mode_gr;oe++)for(var ke=0;ke<x.channels_out;ke++)L>A[x.VBR_max_bitrate]&&(_[oe][ke]*=A[x.VBR_max_bitrate],_[oe][ke]/=L),h[oe][ke]>_[oe][ke]&&(h[oe][ke]=_[oe][ke]);return K},this.bitpressure_strategy=function(W,S,B,X){for(var P=0;P<W.mode_gr;P++)for(var A=0;A<W.channels_out;A++){for(var h=W.l3_side.tt[P][A],_=S[P][A],p=0,x=0;x<h.psy_lmax;x++)_[p++]*=1+.029*x*x/g.SBMAX_l/g.SBMAX_l;if(h.block_type==g.SHORT_TYPE)for(var x=h.sfb_smin;x<g.SBMAX_s;x++)_[p++]*=1+.029*x*x/g.SBMAX_s/g.SBMAX_s,_[p++]*=1+.029*x*x/g.SBMAX_s/g.SBMAX_s,_[p++]*=1+.029*x*x/g.SBMAX_s/g.SBMAX_s;X[P][A]=0|Math.max(B[P][A],.9*X[P][A])}},this.VBR_new_prepare=function(W,S,B,X,P,A){var h=W.internal_flags,_=1,p=0,x=0,D;if(W.free_format){h.bitrate_index=0;var z=new MeanBits(p);D=E.ResvFrameBegin(W,z),p=z.bits,P[0]=D}else{h.bitrate_index=h.VBR_max_bitrate;var z=new MeanBits(p);E.ResvFrameBegin(W,z),p=z.bits,get_framebits(W,P),D=P[h.VBR_max_bitrate]}for(var K=0;K<h.mode_gr;K++){N.on_pe(W,S,A[K],p,K,0),h.mode_ext==g.MPG_MD_MS_LR&&ms_convert(h.l3_side,K);for(var L=0;L<h.channels_out;++L){var ae=h.l3_side.tt[K][L];h.masking_lower=Math.pow(10,h.PSY.mask_adjust*.1),init_outer_loop(h,ae),N.calc_xmin(W,B[K][L],ae,X[K][L])!=0&&(_=0),x+=A[K][L]}}for(var K=0;K<h.mode_gr;K++)for(var L=0;L<h.channels_out;L++)x>D&&(A[K][L]*=D,A[K][L]/=x);return _},this.calc_target_bits=function(W,S,B,X,P,A){var h=W.internal_flags,_=h.l3_side,p,x,D,z,K=0;h.bitrate_index=h.VBR_max_bitrate;var L=new MeanBits(K);for(A[0]=E.ResvFrameBegin(W,L),K=L.bits,h.bitrate_index=1,K=V.getframebits(W)-h.sideinfo_len*8,P[0]=K/(h.mode_gr*h.channels_out),K=W.VBR_mean_bitrate_kbps*W.framesize*1e3,(h.substep_shaping&1)!=0&&(K*=1.09),K/=W.out_samplerate,K-=h.sideinfo_len*8,K/=h.mode_gr*h.channels_out,p=.93+.07*(11-W.compression_ratio)/(11-5.5),p<.9&&(p=.9),p>1&&(p=1),x=0;x<h.mode_gr;x++){var ae=0;for(D=0;D<h.channels_out;D++){if(X[x][D]=int(p*K),S[x][D]>700){var oe=int((S[x][D]-700)/1.4),Ee=_.tt[x][D];X[x][D]=int(p*K),Ee.block_type==g.SHORT_TYPE&&oe<K/2&&(oe=K/2),oe>K*3/2?oe=K*3/2:oe<0&&(oe=0),X[x][D]+=oe}X[x][D]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(X[x][D]=LameInternalFlags.MAX_BITS_PER_CHANNEL),ae+=X[x][D]}if(ae>LameInternalFlags.MAX_BITS_PER_GRANULE)for(D=0;D<h.channels_out;++D)X[x][D]*=LameInternalFlags.MAX_BITS_PER_GRANULE,X[x][D]/=ae}if(h.mode_ext==g.MPG_MD_MS_LR)for(x=0;x<h.mode_gr;x++)N.reduce_side(X[x],B[x],K*h.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(z=0,x=0;x<h.mode_gr;x++)for(D=0;D<h.channels_out;D++)X[x][D]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(X[x][D]=LameInternalFlags.MAX_BITS_PER_CHANNEL),z+=X[x][D];if(z>A[0])for(x=0;x<h.mode_gr;x++)for(D=0;D<h.channels_out;D++)X[x][D]*=A[0],X[x][D]/=z}}return Rh=q,Rh}var Ch,ym;function e9(){if(ym)return Ch;ym=1;var l=un(),t=l.assert;function a(){var i;this.setModules=function(o){i=o},this.ResvFrameBegin=function(o,c){var d=o.internal_flags,y,m=d.l3_side,v=i.getframebits(o);c.bits=(v-d.sideinfo_len*8)/d.mode_gr;var g=8*256*d.mode_gr-8;o.brate>320?y=8*int(o.brate*1e3/(o.out_samplerate/1152)/8+.5):(y=8*1440,o.strict_ISO&&(y=8*int(32e4/(o.out_samplerate/1152)/8+.5))),d.ResvMax=y-v,d.ResvMax>g&&(d.ResvMax=g),(d.ResvMax<0||o.disable_reservoir)&&(d.ResvMax=0);var T=c.bits*d.mode_gr+Math.min(d.ResvSize,d.ResvMax);return T>y&&(T=y),t(d.ResvMax%8==0),t(d.ResvMax>=0),m.resvDrain_pre=0,d.pinfo!=null&&(d.pinfo.mean_bits=c.bits/2,d.pinfo.resvsize=d.ResvSize),T},this.ResvMaxBits=function(o,c,d,y){var m=o.internal_flags,v,g=m.ResvSize,T=m.ResvMax;y!=0&&(g+=c),(m.substep_shaping&1)!=0&&(T*=.9),d.bits=c,g*10>T*9?(v=g-T*9/10,d.bits+=v,m.substep_shaping|=128):(v=0,m.substep_shaping&=127,!o.disable_reservoir&&(m.substep_shaping&1)==0&&(d.bits-=.1*c));var w=g<m.ResvMax*6/10?g:m.ResvMax*6/10;return w-=v,w<0&&(w=0),w},this.ResvAdjust=function(o,c){o.ResvSize-=c.part2_3_length+c.part2_length},this.ResvFrameEnd=function(o,c){var d,y=o.l3_side;o.ResvSize+=c*o.mode_gr;var m=0;y.resvDrain_post=0,y.resvDrain_pre=0,(d=o.ResvSize%8)!=0&&(m+=d),d=o.ResvSize-m-o.ResvMax,d>0&&(t(d%8==0),t(d>=0),m+=d);{var v=Math.min(y.main_data_begin*8,m)/8;y.resvDrain_pre+=8*v,m-=8*v,o.ResvSize-=8*v,y.main_data_begin-=v}y.resvDrain_post+=m,o.ResvSize-=m}}return Ch=a,Ch}var Nh,bm;function t9(){if(bm)return Nh;bm=1;function l(){var t="http://www.mp3dev.org/",a=3,i=98,o=4,c=0,d=93;this.getLameVersion=function(){return a+"."+i+"."+o},this.getLameShortVersion=function(){return a+"."+i+"."+o},this.getLameVeryShortVersion=function(){return"LAME"+a+"."+i+"r"},this.getPsyVersion=function(){return c+"."+d},this.getLameUrl=function(){return t},this.getLameOsBitness=function(){return"32bits"}}return Nh=l,Nh}var Oh,gm;function n9(){if(gm)return Oh;gm=1;var l=un(),t=l.System,a=l.VbrMode;l.Float;var i=l.ShortBlock;l.Util;var o=l.Arrays;l.new_array_n;var c=l.new_byte;l.new_double,l.new_float,l.new_float_n,l.new_int,l.new_int_n;var d=l.assert;y.NUMTOCENTRIES=100,y.MAXFRAMESIZE=2880;function y(){var m,v,g;this.setModules=function(h,_,p){m=h,v=_,g=p};var T=1,w=2,q=4,V=8,E=y.NUMTOCENTRIES,N=y.MAXFRAMESIZE,M=E+4+4+4+4+4,G=M+9+1+1+8+1+1+3+1+1+2+4+2+2,b=128,Z=64,C=32,Q=null,j="Xing",H="Info",ne=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function le(h,_){if(h.nVbrNumFrames++,h.sum+=_,h.seen++,!(h.seen<h.want)&&(h.pos<h.size&&(h.bag[h.pos]=h.sum,h.pos++,h.seen=0),h.pos==h.size)){for(var p=1;p<h.size;p+=2)h.bag[p/2]=h.bag[p];h.want*=2,h.pos/=2}}function ee(h,_){if(!(h.pos<=0))for(var p=1;p<E;++p){var x=p/E,D,z,K=0|Math.floor(x*h.pos);K>h.pos-1&&(K=h.pos-1),D=h.bag[K],z=h.sum;var L=0|256*D/z;L>255&&(L=255),_[p]=255&L}}this.addVbrFrame=function(h){var _=h.internal_flags,p=Tables.bitrate_table[h.version][_.bitrate_index];d(_.VBR_seek_table.bag!=null),le(_.VBR_seek_table,p)};function k(h,_){var p=h[_+0]&255;return p<<=8,p|=h[_+1]&255,p<<=8,p|=h[_+2]&255,p<<=8,p|=h[_+3]&255,p}function Te(h,_,p){h[_+0]=255&(p>>24&255),h[_+1]=255&(p>>16&255),h[_+2]=255&(p>>8&255),h[_+3]=255&(p&255)}function $(h,_,p){h[_+0]=255&(p>>8&255),h[_+1]=255&(p&255)}function W(h,_){return new String(h,_,j.length(),Q).equals(j)||new String(h,_,H.length(),Q).equals(H)}function S(h,_,p){return 255&(h<<_|p&~(-1<<_))}function B(h,_){var p=h.internal_flags;_[0]=S(_[0],8,255),_[1]=S(_[1],3,7),_[1]=S(_[1],1,h.out_samplerate<16e3?0:1),_[1]=S(_[1],1,h.version),_[1]=S(_[1],2,1),_[1]=S(_[1],1,h.error_protection?0:1),_[2]=S(_[2],4,p.bitrate_index),_[2]=S(_[2],2,p.samplerate_index),_[2]=S(_[2],1,0),_[2]=S(_[2],1,h.extension),_[3]=S(_[3],2,h.mode.ordinal()),_[3]=S(_[3],2,p.mode_ext),_[3]=S(_[3],1,h.copyright),_[3]=S(_[3],1,h.original),_[3]=S(_[3],2,h.emphasis),_[0]=255;var x=255&(_[1]&241),D;h.version==1?D=b:h.out_samplerate<16e3?D=C:D=Z,h.VBR==a.vbr_off&&(D=h.brate);var z;h.free_format?z=0:z=255&16*m.BitrateIndex(D,h.version,h.out_samplerate),h.version==1?(_[1]=255&(x|10),x=255&(_[2]&13),_[2]=255&(z|x)):(_[1]=255&(x|2),x=255&(_[2]&13),_[2]=255&(z|x))}this.getVbrTag=function(h){var _=new VBRTagData,p=0;_.flags=0;var x=h[p+1]>>3&1,D=h[p+2]>>2&3,z=h[p+3]>>6&3,K=h[p+2]>>4&15;if(K=Tables.bitrate_table[x][K],h[p+1]>>4==14?_.samprate=Tables.samplerate_table[2][D]:_.samprate=Tables.samplerate_table[x][D],x!=0?z!=3?p+=36:p+=21:z!=3?p+=21:p+=13,!W(h,p))return null;p+=4,_.hId=x;var L=_.flags=k(h,p);if(p+=4,(L&T)!=0&&(_.frames=k(h,p),p+=4),(L&w)!=0&&(_.bytes=k(h,p),p+=4),(L&q)!=0){if(_.toc!=null)for(var ae=0;ae<E;ae++)_.toc[ae]=h[p+ae];p+=E}_.vbrScale=-1,(L&V)!=0&&(_.vbrScale=k(h,p),p+=4),_.headersize=(x+1)*72e3*K/_.samprate,p+=21;var oe=h[p+0]<<4;oe+=h[p+1]>>4;var Ee=(h[p+1]&15)<<8;return Ee+=h[p+2]&255,(oe<0||oe>3e3)&&(oe=-1),(Ee<0||Ee>3e3)&&(Ee=-1),_.encDelay=oe,_.encPadding=Ee,_},this.InitVbrTag=function(h){var _=h.internal_flags,p;h.version==1?p=b:h.out_samplerate<16e3?p=C:p=Z,h.VBR==a.vbr_off&&(p=h.brate);var x=(h.version+1)*72e3*p/h.out_samplerate,D=_.sideinfo_len+G;if(_.VBR_seek_table.TotalFrameSize=x,x<D||x>N){h.bWriteVbrTag=!1;return}_.VBR_seek_table.nVbrNumFrames=0,_.VBR_seek_table.nBytesWritten=0,_.VBR_seek_table.sum=0,_.VBR_seek_table.seen=0,_.VBR_seek_table.want=1,_.VBR_seek_table.pos=0,_.VBR_seek_table.bag==null&&(_.VBR_seek_table.bag=new int[400],_.VBR_seek_table.size=400);var z=c(N);B(h,z);for(var K=_.VBR_seek_table.TotalFrameSize,L=0;L<K;++L)v.add_dummy_byte(h,z[L]&255,1)};function X(h,_){var p=_^h;return _=_>>8^ne[p&255],_}this.updateMusicCRC=function(h,_,p,x){for(var D=0;D<x;++D)h[0]=X(_[p+D],h[0])};function P(h,_,p,x,D){var z=h.internal_flags,K=0,L=h.encoder_delay,ae=h.encoder_padding,oe=100-10*h.VBR_q-h.quality,Ee=g.getLameVeryShortVersion(),ke,Ve=0,je,ge=[1,5,3,2,4,0,3],Ie=0|(h.lowpassfreq/100+.5>255?255:h.lowpassfreq/100+.5),nt=0,R=0,I=0,Ce=h.internal_flags.noise_shaping,qe=0,et=0,Ye=0,Pe=0,Qe=0,ct=(h.exp_nspsytune&1)!=0,We=(h.exp_nspsytune&2)!=0,He=!1,st=!1,tn=h.internal_flags.nogap_total,gt=h.internal_flags.nogap_current,Ut=h.ATHtype,qt=0,Ot;switch(h.VBR){case vbr_abr:Ot=h.VBR_mean_bitrate_kbps;break;case vbr_off:Ot=h.brate;break;default:Ot=h.VBR_min_bitrate_kbps}switch(h.VBR.ordinal()<ge.length?ke=ge[h.VBR.ordinal()]:ke=0,je=16*Ve+ke,z.findReplayGain&&(z.RadioGain>510&&(z.RadioGain=510),z.RadioGain<-510&&(z.RadioGain=-510),R=8192,R|=3072,z.RadioGain>=0?R|=z.RadioGain:(R|=512,R|=-z.RadioGain)),z.findPeakSample&&(nt=Math.abs(0|z.PeakSample/32767*Math.pow(2,23)+.5)),tn!=-1&&(gt>0&&(st=!0),gt<tn-1&&(He=!0)),qt=Ut+((ct?1:0)<<4)+((We?1:0)<<5)+((He?1:0)<<6)+((st?1:0)<<7),oe<0&&(oe=0),h.mode){case MONO:qe=0;break;case STEREO:qe=1;break;case DUAL_CHANNEL:qe=2;break;case JOINT_STEREO:h.force_ms?qe=4:qe=3;break;case NOT_SET:default:qe=7;break}h.in_samplerate<=32e3?Ye=0:h.in_samplerate==48e3?Ye=2:h.in_samplerate>48e3?Ye=3:Ye=1,(h.short_blocks==i.short_block_forced||h.short_blocks==i.short_block_dispensed||h.lowpassfreq==-1&&h.highpassfreq==-1||h.scale_left<h.scale_right||h.scale_left>h.scale_right||h.disable_reservoir&&h.brate<320||h.noATH||h.ATHonly||Ut==0||h.in_samplerate<=32e3)&&(et=1),Pe=Ce+(qe<<2)+(et<<5)+(Ye<<6),Qe=z.nMusicCRC,Te(p,x+K,oe),K+=4;for(var Bt=0;Bt<9;Bt++)p[x+K+Bt]=255&Ee.charAt(Bt);K+=9,p[x+K]=255&je,K++,p[x+K]=255&Ie,K++,Te(p,x+K,nt),K+=4,$(p,x+K,R),K+=2,$(p,x+K,I),K+=2,p[x+K]=255&qt,K++,Ot>=255?p[x+K]=255:p[x+K]=255&Ot,K++,p[x+K]=255&L>>4,p[x+K+1]=255&(L<<4)+(ae>>8),p[x+K+2]=255&ae,K+=3,p[x+K]=255&Pe,K++,p[x+K++]=0,$(p,x+K,h.preset),K+=2,Te(p,x+K,_),K+=4,$(p,x+K,Qe),K+=2;for(var cn=0;cn<K;cn++)D=X(p[x+cn],D);return $(p,x+K,D),K+=2,K}function A(h){h.seek(0);var _=c(10);h.readFully(_);var p;return new String(_,"ISO-8859-1").startsWith("ID3")?p=0:p=((_[6]&127)<<21|(_[7]&127)<<14|(_[8]&127)<<7|_[9]&127)+_.length,p}this.getLameTagFrame=function(h,_){var p=h.internal_flags;if(!h.bWriteVbrTag||p.Class_ID!=Lame.LAME_ID||p.VBR_seek_table.pos<=0)return 0;if(_.length<p.VBR_seek_table.TotalFrameSize)return p.VBR_seek_table.TotalFrameSize;o.fill(_,0,p.VBR_seek_table.TotalFrameSize,0),B(h,_);var x=c(E);if(h.free_format)for(var D=1;D<E;++D)x[D]=255&255*D/100;else ee(p.VBR_seek_table,x);var z=p.sideinfo_len;h.error_protection&&(z-=2),h.VBR==a.vbr_off?(_[z++]=255&H.charAt(0),_[z++]=255&H.charAt(1),_[z++]=255&H.charAt(2),_[z++]=255&H.charAt(3)):(_[z++]=255&j.charAt(0),_[z++]=255&j.charAt(1),_[z++]=255&j.charAt(2),_[z++]=255&j.charAt(3)),Te(_,z,T+w+q+V),z+=4,Te(_,z,p.VBR_seek_table.nVbrNumFrames),z+=4;var K=p.VBR_seek_table.nBytesWritten+p.VBR_seek_table.TotalFrameSize;Te(_,z,0|K),z+=4,t.arraycopy(x,0,_,z,x.length),z+=x.length,h.error_protection&&v.CRC_writeheader(p,_);for(var L=0,D=0;D<z;D++)L=X(_[D],L);return z+=P(h,K,_,z,L),p.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(h,_){var p=h.internal_flags;if(p.VBR_seek_table.pos<=0||(_.seek(_.length()),_.length()==0))return-1;var x=A(_);_.seek(x);var D=c(N),z=getLameTagFrame(h,D);return z>D.length?-1:(z<1||_.write(D,0,z),0)}}return Oh=y,Oh}var Sm;function s9(){if(Sm)return au;Sm=1;var l=un();l.System,l.VbrMode,l.Float,l.ShortBlock,l.Util,l.Arrays,l.new_array_n;var t=l.new_byte;l.new_double,l.new_float,l.new_float_n,l.new_int,l.new_int_n;var a=l.assert,i=Qb(),o=Wb(),c=Op(),d=Bp(),y=$b(),m=kp(),v=e9(),g=Cp(),T=Vp();Jn();var w=t9(),q=n9();function V(){this.setModules=function(C,Q){}}function E(){this.setModules=function(C,Q,j){}}function N(){}function M(){this.setModules=function(C,Q){}}function G(C,Q,j){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),C=1,Q=44100,j=128);var H=new i,ne=new V,le=new c,ee=new T,k=new o,Te=new d,$=new y,W=new q,S=new w,B=new M,X=new v,P=new m,A=new E,h=new N;H.setModules(le,ee,k,Te,$,W,S,B,h),ee.setModules(le,h,S,W),B.setModules(ee,S),k.setModules(H),$.setModules(ee,X,Te,P),Te.setModules(P,X,H.enc.psy),X.setModules(ee),P.setModules(Te),W.setModules(H,ee,S),ne.setModules(A,h),A.setModules(S,B,k);var _=H.lame_init();_.num_channels=C,_.in_samplerate=Q,_.brate=j,_.mode=g.STEREO,_.quality=3,_.bWriteVbrTag=!1,_.disable_reservoir=!0,_.write_id3tag_automatic=!1;var p=H.lame_init_params(_);a(p==0);var x=1152,D=0|1.25*x+7200,z=t(D);this.encodeBuffer=function(K,L){C==1&&(L=K),a(K.length==L.length),K.length>x&&(x=K.length,D=0|1.25*x+7200,z=t(D));var ae=H.lame_encode_buffer(_,K,L,K.length,z,0,D);return new Int8Array(z.subarray(0,ae))},this.flush=function(){var K=H.lame_encode_flush(_,z,0,D);return new Int8Array(z.subarray(0,K))}}function b(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function Z(C){return C.charCodeAt(0)<<24|C.charCodeAt(1)<<16|C.charCodeAt(2)<<8|C.charCodeAt(3)}return b.RIFF=Z("RIFF"),b.WAVE=Z("WAVE"),b.fmt_=Z("fmt "),b.data=Z("data"),b.readHeader=function(C){var Q=new b,j=C.getUint32(0,!1);if(b.RIFF==j&&(C.getUint32(4,!0),b.WAVE==C.getUint32(8,!1)&&b.fmt_==C.getUint32(12,!1))){var H=C.getUint32(16,!0),ne=20;switch(H){case 16:case 18:Q.channels=C.getUint16(ne+2,!0),Q.sampleRate=C.getUint32(ne+4,!0);break;default:throw"extended fmt chunk not implemented"}ne+=H;for(var le=b.data,ee=0;le!=j&&(j=C.getUint32(ne,!1),ee=C.getUint32(ne+4,!0),le!=j);)ne+=ee+8;return Q.dataLen=ee,Q.dataOffset=ne+8,Q}},au.Mp3Encoder=G,au.WavHeader=b,au}s9();const Ea=[{name:"C",key:"a",freq:261.63},{name:"C#",key:"q",freq:277.18},{name:"D",key:"s",freq:293.66},{name:"D#",key:"w",freq:311.13},{name:"E",key:"d",freq:329.63},{name:"F",key:"f",freq:349.23},{name:"F#",key:"r",freq:369.99},{name:"G",key:"g",freq:392},{name:"G#",key:"t",freq:415.3},{name:"A",key:"h",freq:440},{name:"A#",key:"y",freq:466.16},{name:"B",key:"j",freq:493.88}],iu=["sine","square","triangle","sawtooth"],a9=4,i9=["C","D","E","F","G","A","B"],r9=["q","w","e","r","t","y","u"],Cl=[{name:"Kick",url:"https://tonejs.github.io/audio/drum-samples/CR78/kick.mp3"},{name:"Snare",url:"https://tonejs.github.io/audio/drum-samples/CR78/snare.mp3"},{name:"Closed HH",url:"https://tonejs.github.io/audio/drum-samples/CR78/hihat.mp3"}];function l9(){const[l,t]=Ge.useState("sine"),[a,i]=Ge.useState("sine"),[o,c]=Ge.useState([]),d=Ge.useRef(null),y=Ge.useRef(null),m=Ge.useRef(null),[v,g]=Ge.useState(0),[T,w]=Ge.useState(0),[q,V]=Ge.useState(0),E=Ge.useRef(null),N=Ge.useRef(null),M=Ge.useRef(null),G=Ge.useRef(null),b=Ge.useRef(null),Z=Ge.useRef(null),[C,Q]=Ge.useState(0),[j,H]=Ge.useState(0),[ne,le]=Ge.useState(0),[ee,k]=Ge.useState(0),[Te,$]=Ge.useState(0),[W,S]=Ge.useState(0),[B,X]=Ge.useState(8),[P,A]=Ge.useState(0),[h,_]=Ge.useState(-24),p=Ge.useRef(null),x=Ge.useRef(null),D=Ge.useRef(null),z=Ge.useRef(null),K=Ge.useRef(null),L=Ge.useRef(null),ae=Ge.useRef(null),oe=Ge.useRef(null),Ee=Ge.useRef(null),ke={osc1Type:"sine",osc2Type:"sine",whiteLevel:0,pinkLevel:0,brownLevel:0,reverb:0,delay:0,filter:0,distortion:0,heldNotes:[]},[Ve,je]=Ge.useState(Array(8).fill().map(()=>({...ke}))),[ge,Ie]=Ge.useState(null),nt=he=>{const Le=Ve.slice();Le[he]={osc1Type:l,osc2Type:a,whiteLevel:v,pinkLevel:T,brownLevel:q,reverb:C,delay:j,filter:ne,distortion:ee,heldNotes:o.map(Ke=>({...Ke}))},je(Le),Ie(he)},R=he=>{const Le=Ve[he];t(Le.osc1Type),i(Le.osc2Type),g(Le.whiteLevel),w(Le.pinkLevel),V(Le.brownLevel),Q(Le.reverb),H(Le.delay),le(Le.filter),k(Le.distortion),c(Le.heldNotes.map(Ke=>({...Ke}))),Ie(he)},I=(he,Le)=>{Le.shiftKey?nt(he):R(he)};Ge.useEffect(()=>(m.current=new bt(.5),E.current=new Ri("white"),N.current=new Ri("pink"),M.current=new Ri("brown"),G.current=new bt(v/100),b.current=new bt(T/100),Z.current=new bt(q/100),p.current=new O1({decay:2,wet:C/100}),x.current=new Au({delayTime:.25,feedback:.4,wet:j/100}),D.current=new w1({type:"lowpass",frequency:800+ne/100*7e3,Q:1,rolloff:-24}),z.current=new C1(ee/100*1.5),K.current=new Au({delayTime:.45,feedback:.7,wet:Te/100}),L.current=new bt(1).toDestination(),ae.current=new D1({frequency:B,depth:W/100}).start(),oe.current=new N1({pitch:P}),Ee.current=new k1({threshold:h}),E.current.connect(G.current),N.current.connect(b.current),M.current.connect(Z.current),m.current.connect(ae.current),G.current.connect(ae.current),b.current.connect(ae.current),Z.current.connect(ae.current),ae.current.connect(z.current),z.current.connect(D.current),D.current.connect(x.current),x.current.connect(K.current),K.current.connect(p.current),p.current.connect(oe.current),oe.current.connect(Ee.current),Ee.current.connect(L.current),()=>{m.current.dispose(),E.current.dispose(),N.current.dispose(),M.current.dispose(),G.current.dispose(),b.current.dispose(),Z.current.dispose(),p.current.dispose(),x.current.dispose(),D.current.dispose(),z.current.dispose(),K.current.dispose(),L.current.dispose(),ae.current.dispose(),oe.current.dispose(),Ee.current.dispose()}),[]),Ge.useEffect(()=>{d.current&&(d.current.type=l)},[l]),Ge.useEffect(()=>{y.current&&(y.current.type=a)},[a]),Ge.useEffect(()=>{G.current&&(G.current.gain.value=v/100),E.current&&(v>0?E.current.state!=="started"&&E.current.start():E.current.state==="started"&&E.current.stop())},[v]),Ge.useEffect(()=>{b.current&&(b.current.gain.value=T/100),N.current&&(T>0?N.current.state!=="started"&&N.current.start():N.current.state==="started"&&N.current.stop())},[T]),Ge.useEffect(()=>{Z.current&&(Z.current.gain.value=q/100),M.current&&(q>0?M.current.state!=="started"&&M.current.start():M.current.state==="started"&&M.current.stop())},[q]),Ge.useEffect(()=>{p.current&&(p.current.wet.value=C/100)},[C]),Ge.useEffect(()=>{x.current&&(x.current.wet.value=j/100)},[j]),Ge.useEffect(()=>{D.current&&(D.current.frequency.value=800+ne/100*7e3)},[ne]),Ge.useEffect(()=>{z.current&&(z.current.distortion=ee/100*1.5)},[ee]),Ge.useEffect(()=>{K.current&&(K.current.wet.value=Te/100)},[Te]),Ge.useEffect(()=>{ae.current&&(ae.current.depth.value=W/100),ae.current&&(ae.current.frequency.value=B)},[W,B]),Ge.useEffect(()=>{oe.current&&(oe.current.pitch=P)},[P]),Ge.useEffect(()=>{Ee.current&&(Ee.current.threshold.value=h)},[h]);const[Ce,qe]=Ge.useState(a9);function et(he,Le){const Ke=Ea.find(pt=>pt.name===he);return Ke?Ke.freq*Math.pow(2,Le-4):0}const[Ye,Pe]=Ge.useState(.5),[Qe,ct]=Ge.useState(0),[We,He]=Ge.useState(0),[st,tn]=Ge.useState(!0),gt=async(he,Le=80)=>{if(o.length>=4||o.find(Cn=>Cn.name===he))return;await pb();const Ke=et(he,Ce);if(!Ke)return;const pt=Le/100,ut=new on({type:l,frequency:Ke,detune:Qe}).start();let Ct,Lt;const It=new bt((1-(st?Ye:0))*pt);ut.connect(It),st&&(Ct=new on({type:a,frequency:Ke,detune:We}).start(),Lt=new bt(Ye*pt),Ct.connect(Lt));const Ht=new bt(1);It.connect(Ht),st&&Lt&&Lt.connect(Ht),Ht.connect(ae.current),c(Cn=>[...Cn,{name:he,freq:Ke,osc1:ut,osc2:Ct,osc1Gain:It,osc2Gain:Lt,gain:Ht}])},Ut=he=>{c(Le=>{const Ke=Le.find(pt=>pt.name===he);return Ke&&(Ke.osc1.stop(),Ke.osc1.dispose(),Ke.osc2&&(Ke.osc2.stop(),Ke.osc2.dispose()),Ke.osc1Gain&&(Ke.osc1Gain.disconnect(),Ke.osc1Gain.dispose()),Ke.osc2Gain&&(Ke.osc2Gain.disconnect(),Ke.osc2Gain.dispose()),Ke.gain.disconnect(),Ke.gain.dispose()),Le.filter(pt=>pt.name!==he)})},qt=he=>{o.find(Le=>Le.name===he)?Ut(he):(gt(he),jt(he))},Ot=()=>{if(o.forEach(he=>Ut(he.name)),g(0),w(0),V(0),d.current)try{d.current.stop(),d.current.dispose()}catch{}if(y.current)try{y.current.stop(),y.current.dispose()}catch{}if(E.current)try{E.current.stop()}catch{}if(N.current)try{N.current.stop()}catch{}if(M.current)try{M.current.stop()}catch{}},Bt=()=>{L.current&&(L.current.gain.value=1)};Ge.useEffect(()=>{const he=new Set,Le=pt=>{const ut=pt.key.toLowerCase(),Ct=Ea.find(Lt=>Lt.key===ut);Ct&&!he.has(ut)&&(he.add(ut),gt(Ct.name),jt(Ct.name)),(ut==="+"||ut==="=")&&Ce<7&&qe(Lt=>Lt+1),(ut==="-"||ut==="_")&&Ce>1&&qe(Lt=>Lt-1)},Ke=pt=>{const ut=pt.key.toLowerCase(),Ct=Ea.find(Lt=>Lt.key===ut);Ct&&(he.delete(ut),Ut(Ct.name))};return window.addEventListener("keydown",Le),window.addEventListener("keyup",Ke),()=>{window.removeEventListener("keydown",Le),window.removeEventListener("keyup",Ke)}},[Ce,l,a,o,st]),Ge.useEffect(()=>{o.forEach(he=>{he.osc1.type=l,he.osc2.type=a})},[l,a,o]),Ge.useEffect(()=>{o.forEach(he=>{he.osc1Gain&&(he.osc1Gain.gain.value=(1-Ye)*he.gain.gain.value),he.osc2Gain&&(he.osc2Gain.gain.value=Ye*he.gain.gain.value)})},[Ye,o]);const[cn,nn]=Ge.useState(!1),[Xn,is]=Ge.useState(null),[Yn,fs]=Ge.useState(!1),[zn,ws]=Ge.useState(null),Rn=Ge.useRef(null),F=Ge.useRef([]),Y=Ge.useRef(null);Ge.useEffect(()=>(!Y.current&&L.current&&(Y.current=z2.createMediaStreamDestination(),L.current.connect(Y.current)),()=>{Y.current&&(Y.current=null)}),[L.current]);const te=()=>{if(cn)Rn.current&&Rn.current.state==="recording"&&Rn.current.stop(),nn(!1);else{if(is(null),ws(null),F.current=[],!Y.current)return;Rn.current=new MediaRecorder(Y.current.stream),Rn.current.ondataavailable=he=>{he.data.size>0&&F.current.push(he.data)},Rn.current.onstop=async()=>{fs(!0);try{const he=new Blob(F.current,{type:"audio/webm"}),Le=await new Response(he).arrayBuffer(),Ke=new AudioContext;let pt;try{pt=await Ke.decodeAudioData(Le)}catch{ws("Could not decode audio for WAV encoding. Download raw file below."),fs(!1);return}try{const ut=ie(pt),Ct=URL.createObjectURL(new Blob([ut],{type:"audio/wav"}));is(Ct)}catch{ws("WAV encoding failed.")}}catch{ws("Recording failed.")}fs(!1)},Rn.current.start(),nn(!0)}};function ie(he){const Le=he.numberOfChannels,Ke=he.sampleRate,pt=1,ut=16,Ct=he.length*Le,Lt=new ArrayBuffer(44+Ct*2),It=new DataView(Lt);function Ht(Zn,_s,an){for(let Qn=0;Qn<an.length;Qn++)Zn.setUint8(_s+Qn,an.charCodeAt(Qn))}Ht(It,0,"RIFF"),It.setUint32(4,36+Ct*2,!0),Ht(It,8,"WAVE"),Ht(It,12,"fmt "),It.setUint32(16,16,!0),It.setUint16(20,pt,!0),It.setUint16(22,Le,!0),It.setUint32(24,Ke,!0),It.setUint32(28,Ke*Le*ut/8,!0),It.setUint16(32,Le*ut/8,!0),It.setUint16(34,ut,!0),Ht(It,36,"data"),It.setUint32(40,Ct*2,!0);let Cn=44;if(Le===2){const Zn=he.getChannelData(0),_s=he.getChannelData(1);for(let an=0;an<he.length;an++,Cn+=4){let Qn=Math.max(-1,Math.min(1,Zn[an])),ms=Math.max(-1,Math.min(1,_s[an]));It.setInt16(Cn,Qn<0?Qn*32768:Qn*32767,!0),It.setInt16(Cn+2,ms<0?ms*32768:ms*32767,!0)}}else{const Zn=he.getChannelData(0);for(let _s=0;_s<Zn.length;_s++,Cn+=2){let an=Math.max(-1,Math.min(1,Zn[_s]));It.setInt16(Cn,an<0?an*32768:an*32767,!0)}}return Lt}function de(he){return he[Math.floor(Math.random()*he.length)]}function J(he,Le){return Math.floor(Math.random()*(Le-he+1))+he}const re=()=>{t(de(iu)),st&&i(de(iu)),g(J(0,100)),w(J(0,100)),V(J(0,100)),Q(J(0,100)),H(J(0,100)),le(J(0,100)),k(J(0,100)),S(J(0,100)),X(J(1,32)),A(J(-12,12)),_(J(-60,0));const he=de(Ea);gt(he.name)},[fe,ce]=Ge.useState(Array(8).fill(null)),[Ae,me]=Ge.useState(!1),[we,Ue]=Ge.useState(0),[Je,Oe]=Ge.useState(120),[Ze,ye]=Ge.useState(!1),[Fe,lt]=Ge.useState(null),Me=Ge.useRef(null),Xe=(he,Le)=>{ce(Ke=>Ke.map((pt,ut)=>ut===he?{...Le}:pt))},De=he=>{Ze&&lt(he)};Ge.useEffect(()=>{if(Ze&&Fe!==null){const he=o[0];he&&Ea.some(Ke=>Ke.name===he.name)?Xe(Fe,{osc1Type:l,osc2Type:a,whiteLevel:v,pinkLevel:T,brownLevel:q,reverb:C,delay:j,filter:ne,distortion:ee,dub:Te,stutter:W,stutterRate:B,pitch:P,compressor:h,note:he.name,velocity:he.gain.gain.value*100,octave:Ce}):Xe(Fe,null)}},[l,a,v,T,q,C,j,ne,ee,Te,W,B,P,h,o,Ce]);const $e=()=>{if(Ae)me(!1),clearInterval(Me.current),Ue(0);else{me(!0);let he=0;Me.current=setInterval(()=>{Ue(Ke=>(Ke+1)%8);const Le=fe[he];Le&&Le.note&&Ea.some(Ke=>Ke.name===Le.note)&&(t(Le.osc1Type),i(Le.osc2Type),g(Le.whiteLevel),w(Le.pinkLevel),V(Le.brownLevel),Q(Le.reverb),H(Le.delay),le(Le.filter),k(Le.distortion),$(Le.dub),S(Le.stutter),X(Le.stutterRate),A(Le.pitch),_(Le.compressor),qe(Le.octave),gt(Le.note,Le.velocity)),he=(he+1)%8},60/Je*1e3)}};Ge.useEffect(()=>()=>{clearInterval(Me.current)},[]),i9.map((he,Le)=>xe.jsxs("button",{className:o.find(Ke=>Ke.name===he)?"active":"",onClick:()=>qt(he),children:[he,xe.jsx("span",{style:{fontSize:"0.7em",color:"#888",marginLeft:4},children:r9[Le]})]},he));const Et=Ge.useRef(null),ze=Ge.useRef(null);Ge.useEffect(()=>{if(ze.current||(ze.current=z2.createAnalyser()),L.current&&ze.current)try{L.current.connect(ze.current)}catch{}let he;function Le(){const Ke=Et.current;if(!Ke||!ze.current)return;const pt=Ke.getContext("2d"),ut=ze.current.fftSize,Ct=new Uint8Array(ut);ze.current.getByteTimeDomainData(Ct),pt.clearRect(0,0,Ke.width,Ke.height),pt.strokeStyle="#e0e0e0",pt.beginPath();for(let Lt=0;Lt<ut;Lt++){const It=Lt/ut*Ke.width,Ht=Ct[Lt]/255*Ke.height;Lt===0?pt.moveTo(It,Ht):pt.lineTo(It,Ht)}pt.stroke(),he=requestAnimationFrame(Le)}return Le(),()=>{he&&cancelAnimationFrame(he)}},[L.current]);const ot=["C","D","E","F","G","A","B"],_t=["C#","D#","F#","G#","A#"],Yt=Ea.filter(he=>ot.includes(he.name)),xn=Ea.filter(he=>_t.includes(he.name)),jt=he=>{Ze&&Fe!==null&&Ea.some(Le=>Le.name===he)&&Xe(Fe,{osc1Type:l,osc2Type:a,whiteLevel:v,pinkLevel:T,brownLevel:q,reverb:C,delay:j,filter:ne,distortion:ee,dub:Te,stutter:W,stutterRate:B,pitch:P,compressor:h,note:he,velocity:80,octave:Ce})},[yt,bn]=Ge.useState(()=>Array(Cl.length).fill().map(()=>Array(8).fill(!1))),[hn,fn]=Ge.useState(!1),[Bn,kn]=Ge.useState(0),[mn,$n]=Ge.useState(120),dn=Ge.useRef(null),ds=Ge.useRef(null),[Ps,oa]=Ge.useState(.8),[ua,kt]=Ge.useState(!1);Ge.useEffect(()=>(ds.current={},Cl.forEach(he=>{const Le=new Yl(he.url);ua&&ae.current?Le.connect(ae.current):L.current?Le.connect(L.current):Le.toDestination(),Le.volume.value=20*Math.log10(Ps||1e-4),ds.current[he.name]=Le}),()=>{Object.values(ds.current).forEach(he=>he.dispose())}),[ua,ae.current,L.current]),Ge.useEffect(()=>{ds.current&&Object.values(ds.current).forEach(he=>{he&&he.volume&&(he.volume.value=20*Math.log10(Ps||1e-4))})},[Ps]);const Ii=(he,Le)=>{bn(Ke=>Ke.map((pt,ut)=>ut===he?pt.map((Ct,Lt)=>Lt===Le?!Ct:Ct):pt))},Vn=Ge.useRef(yt);Ge.useEffect(()=>{Vn.current=yt},[yt]);const ca=()=>{if(hn)fn(!1),clearInterval(dn.current),kn(0);else{fn(!0);let he=0;dn.current=setInterval(()=>{Cl.forEach((Le,Ke)=>{var pt;Vn.current[Ke][he]&&((pt=ds.current[Le.name])==null||pt.start())}),kn(he),he=(he+1)%8},60/mn*1e3)}};return Ge.useEffect(()=>()=>{clearInterval(dn.current)},[]),xe.jsxs("div",{className:"synth-app",style:{maxWidth:1700,margin:"0 auto",display:"flex",flexDirection:"row",gap:32},children:[xe.jsxs("div",{style:{flex:1.2,minWidth:0},children:[xe.jsxs("header",{className:"synth-header",children:[xe.jsx("h1",{style:{fontSize:"2.2rem",margin:0},children:"DRNKLB"}),xe.jsx("div",{style:{fontSize:"1.1rem",color:"#b0b0b0",marginTop:4},children:"Abstract Musical Instrument"})]}),xe.jsx("canvas",{ref:Et,width:600,height:80,style:{display:"block",margin:"1.5em auto 1em auto",background:"#111",border:"1.5px solid #e0e0e0"}}),xe.jsxs("main",{className:"synth-main",children:[xe.jsxs("section",{className:"oscillators",children:[xe.jsx("h2",{children:"Oscillators"}),xe.jsxs("div",{className:"osc-row",style:{display:"flex",gap:32,alignItems:"flex-end",justifyContent:"center"},children:[xe.jsxs("div",{className:"osc-panel",style:{minWidth:160},children:[xe.jsx("div",{children:"Osc 1"}),xe.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:iu.map(he=>xe.jsx("button",{className:l===he?"active":"",style:{fontSize:"0.9em",padding:"0.3em 0.7em",minWidth:0},onClick:()=>t(he),children:he},he))}),xe.jsx("div",{style:{marginTop:8},children:xe.jsxs("label",{style:{fontSize:"0.9em",color:"#aaa"},children:["Detune",xe.jsx("input",{type:"range",min:-100,max:100,value:Qe,onChange:he=>ct(Number(he.target.value)),style:{width:80,marginLeft:8}}),xe.jsxs("span",{style:{minWidth:30,display:"inline-block"},children:[Qe,""]})]})})]}),xe.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},children:[xe.jsx("label",{style:{fontWeight:"bold",color:"#e0e0e0",marginBottom:4},children:"Mix"}),xe.jsx("input",{type:"range",min:0,max:1,step:.01,value:Ye,onChange:he=>Pe(Number(he.target.value)),style:{width:120}}),xe.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:120,fontSize:"0.9em",color:"#aaa"},children:[xe.jsx("span",{children:"Osc 1"}),xe.jsx("span",{children:"Osc 2"})]}),xe.jsxs("label",{style:{marginTop:16,color:"#e0e0e0",fontWeight:"bold"},children:[xe.jsx("input",{type:"checkbox",checked:st,onChange:he=>tn(he.target.checked),style:{marginRight:8}}),"Enable Osc 2"]})]}),xe.jsxs("div",{className:"osc-panel",style:{minWidth:160,opacity:st?1:.4},children:[xe.jsx("div",{children:"Osc 2"}),xe.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:iu.map(he=>xe.jsx("button",{className:a===he?"active":"",style:{fontSize:"0.9em",padding:"0.3em 0.7em",minWidth:0},onClick:()=>i(he),disabled:!st,children:he},he))}),xe.jsx("div",{style:{marginTop:8},children:xe.jsxs("label",{style:{fontSize:"0.9em",color:"#aaa"},children:["Detune",xe.jsx("input",{type:"range",min:-100,max:100,value:We,onChange:he=>He(Number(he.target.value)),style:{width:80,marginLeft:8},disabled:!st}),xe.jsxs("span",{style:{minWidth:30,display:"inline-block"},children:[We,""]})]})})]})]})]}),xe.jsxs("section",{className:"notes",children:[xe.jsx("h2",{children:"Notes"}),xe.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1em",marginBottom:8},children:[xe.jsx("button",{onClick:()=>qe(he=>Math.max(1,he-1)),disabled:Ce<=1,children:"-"}),xe.jsxs("span",{style:{fontWeight:"bold",fontSize:"1.1em"},children:["Octave: ",Ce]}),xe.jsx("button",{onClick:()=>qe(he=>Math.min(7,he+1)),disabled:Ce>=7,children:"+"})]}),xe.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:4},children:[xe.jsx("div",{style:{display:"flex",gap:8,marginBottom:4},children:xn.map((he,Le)=>xe.jsxs("button",{style:{background:"#222",color:"#fff",border:"2px solid #444",borderRadius:4,fontSize:"1em",padding:"0.4em 0.7em",margin:"0 2px",minWidth:0},onClick:()=>qt(he.name),children:[he.name,xe.jsx("span",{style:{fontSize:"0.7em",color:"#aaa",marginLeft:4},children:he.key})]},he.name))}),xe.jsx("div",{style:{display:"flex",gap:8},children:Yt.map((he,Le)=>xe.jsxs("button",{style:{background:o.find(Ke=>Ke.name===he.name)?"#e0e0e0":"#111",color:o.find(Ke=>Ke.name===he.name)?"#181818":"#e0e0e0",border:"2px solid #e0e0e0",borderRadius:4,fontSize:"1.2em",padding:"0.7em 1.2em",minWidth:0},onClick:()=>qt(he.name),children:[he.name,xe.jsx("span",{style:{fontSize:"0.7em",color:"#888",marginLeft:4},children:he.key})]},he.name))})]})]}),xe.jsxs("section",{className:"sequencer",style:{margin:"2em 0",padding:"1em",border:"2px solid #444",borderRadius:8,background:"#181818",textAlign:"center"},children:[xe.jsxs("div",{style:{marginBottom:8,fontWeight:"bold",color:"#e0e0e0"},children:["Step Sequencer ",xe.jsx("span",{style:{fontWeight:"normal",color:"#888",fontSize:"0.9em"},children:"[Write] to record actions into steps"})]}),xe.jsx("div",{style:{display:"flex",gap:8,justifyContent:"center",marginBottom:8},children:fe.map((he,Le)=>xe.jsxs("button",{onClick:()=>De(Le),style:{background:we===Le&&Ae?"#e0e0e0":Fe===Le&&Ze?"#e00":he?"#333":"#111",color:we===Le&&Ae?"#181818":"#e0e0e0",border:he?"2px solid #e00":"2px solid #e0e0e0",borderRadius:4,padding:"0.7em 1.1em",fontWeight:he?"bold":"normal",position:"relative"},title:he?"Step has recorded data":"Empty step",children:[Le+1,he?"*":""]},Le))}),xe.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:16},children:[xe.jsx("button",{onClick:()=>ye(he=>!he),style:{background:Ze?"#e00":"#111",color:Ze?"#fff":"#e0e0e0",fontWeight:"bold",fontSize:"1.1em",padding:"0.5em 1.2em",borderRadius:4,border:"2px solid #e0e0e0"},children:Ze?"Stop Write":"Write"}),xe.jsx("button",{onClick:$e,style:{background:Ae?"#e00":"#111",color:Ae?"#fff":"#e0e0e0",fontWeight:"bold",fontSize:"1.1em",padding:"0.5em 1.2em",borderRadius:4,border:"2px solid #e0e0e0"},children:Ae?"Stop":"Play"}),xe.jsxs("label",{style:{color:"#b0b0b0"},children:["Tempo",xe.jsx("input",{type:"range",min:60,max:200,value:Je,onChange:he=>Oe(Number(he.target.value)),style:{width:100,marginLeft:8}}),xe.jsxs("span",{style:{minWidth:30,display:"inline-block"},children:[Je," BPM"]})]})]})]}),xe.jsxs("section",{className:"noise-fx",children:[xe.jsx("h2",{children:"Noise FX"}),xe.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1em"},children:[xe.jsxs("label",{children:["White",xe.jsx("input",{type:"range",min:0,max:100,value:v,onChange:he=>g(Number(he.target.value))}),xe.jsx("span",{style:{minWidth:30,display:"inline-block"},children:v})]}),xe.jsxs("label",{children:["Pink",xe.jsx("input",{type:"range",min:0,max:100,value:T,onChange:he=>w(Number(he.target.value))}),xe.jsx("span",{style:{minWidth:30,display:"inline-block"},children:T})]}),xe.jsxs("label",{children:["Brown",xe.jsx("input",{type:"range",min:0,max:100,value:q,onChange:he=>V(Number(he.target.value))}),xe.jsx("span",{style:{minWidth:30,display:"inline-block"},children:q})]})]})]}),xe.jsxs("section",{className:"effects",children:[xe.jsx("h2",{children:"Effects"}),xe.jsxs("div",{className:"fx-row",style:{flexDirection:"column",gap:"0.7em",alignItems:"flex-start"},children:[xe.jsxs("div",{children:[xe.jsx("label",{children:"Stutter"}),xe.jsx("input",{type:"range",min:0,max:100,value:W,onChange:he=>S(Number(he.target.value))}),xe.jsx("span",{style:{minWidth:30,display:"inline-block"},children:W}),xe.jsx("span",{style:{marginLeft:8},children:"Rate"}),xe.jsx("input",{type:"range",min:1,max:32,value:B,onChange:he=>X(Number(he.target.value)),style:{width:80}}),xe.jsxs("span",{style:{minWidth:30,display:"inline-block"},children:[B,"Hz"]})]}),xe.jsxs("div",{children:[xe.jsx("label",{children:"PitchShift"}),xe.jsx("input",{type:"range",min:-12,max:12,value:P,onChange:he=>A(Number(he.target.value))}),xe.jsxs("span",{style:{minWidth:30,display:"inline-block"},children:[P,"st"]})]}),xe.jsxs("div",{children:[xe.jsx("label",{children:"Compressor"}),xe.jsx("input",{type:"range",min:-60,max:0,value:h,onChange:he=>_(Number(he.target.value))}),xe.jsxs("span",{style:{minWidth:40,display:"inline-block"},children:[h,"dB"]})]}),xe.jsxs("div",{children:[xe.jsx("label",{children:"Reverb"}),xe.jsx("input",{type:"range",min:0,max:100,value:C,onChange:he=>Q(Number(he.target.value))}),xe.jsx("span",{style:{minWidth:30,display:"inline-block"},children:C})]}),xe.jsxs("div",{children:[xe.jsx("label",{children:"Delay"}),xe.jsx("input",{type:"range",min:0,max:100,value:j,onChange:he=>H(Number(he.target.value))}),xe.jsx("span",{style:{minWidth:30,display:"inline-block"},children:j})]}),xe.jsxs("div",{children:[xe.jsx("label",{children:"Dub"}),xe.jsx("input",{type:"range",min:0,max:100,value:Te,onChange:he=>$(Number(he.target.value))}),xe.jsx("span",{style:{minWidth:30,display:"inline-block"},children:Te})]}),xe.jsxs("div",{children:[xe.jsx("label",{children:"Filter"}),xe.jsx("input",{type:"range",min:0,max:100,value:ne,onChange:he=>le(Number(he.target.value))}),xe.jsx("span",{style:{minWidth:30,display:"inline-block"},children:ne})]}),xe.jsxs("div",{children:[xe.jsx("label",{children:"Distortion"}),xe.jsx("input",{type:"range",min:0,max:100,value:ee,onChange:he=>k(Number(he.target.value))}),xe.jsx("span",{style:{minWidth:30,display:"inline-block"},children:ee})]})]})]}),xe.jsxs("section",{className:"presets",children:[xe.jsx("h2",{children:"Presets"}),xe.jsx("div",{className:"preset-slots",children:Ve.map((he,Le)=>xe.jsx("button",{className:ge===Le?"active":"",title:ge===Le?"Active preset":"Click to load, Shift+Click to save",onClick:Ke=>I(Le,Ke),children:Le+1},Le))})]}),xe.jsxs("section",{className:"controls",children:[xe.jsx("button",{onClick:te,style:{background:cn?"#e00":void 0,color:cn?"#fff":void 0},children:cn?" Stop REC":"[ REC WAV]"}),Yn&&xe.jsx("span",{style:{marginLeft:"1em",color:"#b0b0b0"},children:"Encoding..."}),Xn&&xe.jsx("a",{href:Xn,download:"synth-recording.wav",style:{marginLeft:"1em"},children:"Download WAV"}),zn&&xe.jsx("div",{style:{color:"#e00",marginTop:"0.5em"},children:zn}),xe.jsx("button",{onClick:re,children:"[ Randomize]"}),xe.jsx("button",{onClick:Ot,style:{background:"#222",color:"#e00",borderColor:"#e00"},children:"[ HCF]"}),xe.jsx("button",{onClick:Bt,style:{marginLeft:"1em"},children:"[ Restart Audio]"})]})]})]}),xe.jsxs("div",{style:{flex:1.8,minWidth:700,maxWidth:900,background:"#181818",border:"2px solid #444",borderRadius:8,padding:24,marginTop:24,height:"fit-content",boxSizing:"border-box"},children:[xe.jsx("h2",{style:{color:"#e0e0e0",textAlign:"center",marginBottom:16},children:"Drum Sequencer"}),xe.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:Cl.map((he,Le)=>xe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"nowrap"},children:[xe.jsx("span",{style:{width:90,color:"#b0b0b0",fontWeight:"bold",flexShrink:0},children:he.name}),yt[Le].map((Ke,pt)=>xe.jsx("button",{onClick:()=>Ii(Le,pt),style:{width:36,height:36,margin:2,borderRadius:6,background:Bn===pt&&hn?"#e0e0e0":Ke?"#e00":"#222",color:Bn===pt&&hn?"#181818":"#fff",border:"2px solid #888",fontWeight:"bold",fontSize:"1em",cursor:"pointer",transition:"background 0.2s, color 0.2s"}},pt))]},he.name))}),xe.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:16,marginTop:18,flexWrap:"wrap"},children:[xe.jsx("button",{onClick:ca,style:{background:hn?"#e00":"#111",color:hn?"#fff":"#e0e0e0",fontWeight:"bold",fontSize:"1.1em",padding:"0.5em 1.2em",borderRadius:4,border:"2px solid #e0e0e0"},children:hn?"Stop":"Play"}),xe.jsxs("label",{style:{color:"#b0b0b0"},children:["Tempo",xe.jsx("input",{type:"range",min:60,max:400,value:mn,onChange:he=>$n(Number(he.target.value)),style:{width:120,marginLeft:8}}),xe.jsxs("span",{style:{minWidth:30,display:"inline-block"},children:[mn," BPM"]})]})]}),xe.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:16,marginTop:18},children:[xe.jsxs("label",{style:{color:"#b0b0b0",fontWeight:"bold"},children:["Drum Volume",xe.jsx("input",{type:"range",min:0,max:1,step:.01,value:Ps,onChange:he=>oa(Number(he.target.value)),style:{width:120,marginLeft:8}}),xe.jsx("span",{style:{minWidth:30,display:"inline-block"},children:Math.round(Ps*100)})]}),xe.jsx("button",{onClick:()=>bn(Array(Cl.length).fill().map(()=>Array(8).fill(!1))),style:{marginLeft:24,background:"#222",color:"#e0e0e0",border:"2px solid #e0e0e0",borderRadius:4,padding:"0.5em 1.2em",fontWeight:"bold"},children:"[Clear]"}),xe.jsxs("label",{style:{marginLeft:24,color:"#b0b0b0",fontWeight:"bold",display:"flex",alignItems:"center",gap:8},children:[xe.jsx("input",{type:"checkbox",checked:ua,onChange:he=>kt(he.target.checked)}),"Drums through FX"]})]})]})]})}X3.createRoot(document.getElementById("root")).render(xe.jsx(Ge.StrictMode,{children:xe.jsx(l9,{})}));
